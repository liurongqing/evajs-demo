(()=>{var U_=Object.create,Wi=Object.defineProperty;var G_=Object.getOwnPropertyDescriptor;var X_=Object.getOwnPropertyNames;var W_=Object.getPrototypeOf,H_=Object.prototype.hasOwnProperty;var V_=e=>Wi(e,"__esModule",{value:!0});var Pe=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var Y_=(e,t)=>()=>(e&&(t=e(e=0)),t),T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var z_=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of X_(t))!H_.call(e,r)&&r!=="default"&&Wi(e,r,{get:()=>t[r],enumerable:!(n=G_(t,r))||n.enumerable});return e},Yt=e=>z_(V_(Wi(e!=null?U_(W_(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var g,f=Y_(()=>{g=window});var Vi=T((vN,Hi)=>{f();"use strict";var j_=Object.prototype.hasOwnProperty,me="~";function gr(){}Object.create&&(gr.prototype=Object.create(null),new gr().__proto__||(me=!1));function K_(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Ql(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var a=new K_(n,r||e,i),o=me?me+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],a]:e._events[o].push(a):(e._events[o]=a,e._eventsCount++),e}function pn(e,t){--e._eventsCount==0?e._events=new gr:delete e._events[t]}function pe(){this._events=new gr,this._eventsCount=0}pe.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)j_.call(n,r)&&t.push(me?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};pe.prototype.listeners=function(t){var n=me?me+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o};pe.prototype.listenerCount=function(t){var n=me?me+t:t,r=this._events[n];return r?r.fn?1:r.length:0};pe.prototype.emit=function(t,n,r,i,a,o){var s=me?me+t:t;if(!this._events[s])return!1;var u=this._events[s],l=arguments.length,h,c;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,n),!0;case 3:return u.fn.call(u.context,n,r),!0;case 4:return u.fn.call(u.context,n,r,i),!0;case 5:return u.fn.call(u.context,n,r,i,a),!0;case 6:return u.fn.call(u.context,n,r,i,a,o),!0}for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=arguments[c];u.fn.apply(u.context,h)}else{var v=u.length,p;for(c=0;c<v;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,n);break;case 3:u[c].fn.call(u[c].context,n,r);break;case 4:u[c].fn.call(u[c].context,n,r,i);break;default:if(!h)for(p=1,h=new Array(l-1);p<l;p++)h[p-1]=arguments[p];u[c].fn.apply(u[c].context,h)}}return!0};pe.prototype.on=function(t,n,r){return Ql(this,t,n,r,!1)};pe.prototype.once=function(t,n,r){return Ql(this,t,n,r,!0)};pe.prototype.removeListener=function(t,n,r,i){var a=me?me+t:t;if(!this._events[a])return this;if(!n)return pn(this,a),this;var o=this._events[a];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&pn(this,a);else{for(var s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==n||i&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=u.length===1?u[0]:u:pn(this,a)}return this};pe.prototype.removeAllListeners=function(t){var n;return t?(n=me?me+t:t,this._events[n]&&pn(this,n)):(this._events=new gr,this._eventsCount=0),this};pe.prototype.off=pe.prototype.removeListener;pe.prototype.addListener=pe.prototype.on;pe.prefixed=me;pe.EventEmitter=pe;typeof Hi!="undefined"&&(Hi.exports=pe)});var An=T((S3,bf)=>{f();"use strict";function cx(e,t){if(!!e){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(o,s,u){s&&(i[n.q.name][s]=u)}),i}}bf.exports=cx});var If=T((I3,Cf)=>{f();"use strict";var Af=Object.getOwnPropertySymbols,Yx=Object.prototype.hasOwnProperty,zx=Object.prototype.propertyIsEnumerable;function jx(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Kx(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(a){return!1}}Cf.exports=Kx()?Object.assign:function(e,t){for(var n,r=jx(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)Yx.call(n,o)&&(r[o]=n[o]);if(Af){i=Af(n);for(var s=0;s<i.length;s++)zx.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r}});var Df=T(()=>{f();"use strict";var Zx=If(),Jx=Qx(Zx);function Qx(e){return e&&e.__esModule?e:{default:e}}Object.assign||(Object.assign=Jx.default)});var Bf=T(()=>{f();"use strict";var $x=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});g.performance&&g.performance.now||(Lf=Date.now(),g.performance||(g.performance={}),g.performance.now=function(){return Date.now()-Lf});var Lf,ua=Date.now(),Ff=["ms","moz","webkit","o"];for(var la=0;la<Ff.length&&!g.requestAnimationFrame;++la)Bn=Ff[la],g.requestAnimationFrame=g[Bn+"RequestAnimationFrame"],g.cancelAnimationFrame=g[Bn+"CancelAnimationFrame"]||g[Bn+"CancelRequestAnimationFrame"];var Bn;g.requestAnimationFrame||(g.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=$x+ua-t;return n<0&&(n=0),ua=t,setTimeout(function(){ua=Date.now(),e(performance.now())},n)});g.cancelAnimationFrame||(g.cancelAnimationFrame=function(e){return clearTimeout(e)})});var Nf=T(()=>{f();"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1})});var kf=T(()=>{f();"use strict";Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t})});var qf=T(()=>{f();"use strict";Df();Bf();Nf();kf();window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array)});var V=T(ne=>{f();"use strict";ne.__esModule=!0;var W3=ne.VERSION="4.8.9",H3=ne.PI_2=Math.PI*2,V3=ne.RAD_TO_DEG=180/Math.PI,Y3=ne.DEG_TO_RAD=Math.PI/180,z3=ne.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},j3=ne.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},K3=ne.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Z3=ne.SCALE_MODES={LINEAR:0,NEAREST:1},J3=ne.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},Q3=ne.GC_MODES={AUTO:0,MANUAL:1},$3=ne.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,eG=ne.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,tG=ne.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,rG=ne.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},nG=ne.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},iG=ne.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},aG=ne.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},oG=ne.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}});var Nn=T(ha=>{f();"use strict";ha.__esModule=!0;function e0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;e0(this,e),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(n){this.set(n.x,n.y)},e.prototype.equals=function(n){return n.x===this.x&&n.y===this.y},e.prototype.set=function(n,r){this.x=n||0,this.y=r||(r!==0?this.x:0)},e}();ha.default=t0});var ca=T(fa=>{f();"use strict";fa.__esModule=!0;var r0=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function n0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i0=function(){function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;n0(this,e),this._x=r,this._y=i,this.cb=t,this.scope=n}return e.prototype.clone=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=n||this.cb,a=r||this.scope;return new e(i,a,this._x,this._y)},e.prototype.set=function(n,r){var i=n||0,a=r||(r!==0?i:0);(this._x!==i||this._y!==a)&&(this._x=i,this._y=a,this.cb.call(this.scope))},e.prototype.copy=function(n){(this._x!==n.x||this._y!==n.y)&&(this._x=n.x,this._y=n.y,this.cb.call(this.scope))},e.prototype.equals=function(n){return n.x===this._x&&n.y===this._y},r0(e,[{key:"x",get:function(){return this._x},set:function(n){this._x!==n&&(this._x=n,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(n){this._y!==n&&(this._y=n,this.cb.call(this.scope))}}]),e}();fa.default=i0});var kn=T(da=>{f();"use strict";da.__esModule=!0;var a0=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o0=Nn(),Uf=u0(o0),s0=V();function u0(e){return e&&e.__esModule?e:{default:e}}function l0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;l0(this,e),this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o,this.array=null}return e.prototype.fromArray=function(n){this.a=n[0],this.b=n[1],this.c=n[3],this.d=n[4],this.tx=n[2],this.ty=n[5]},e.prototype.set=function(n,r,i,a,o,s){return this.a=n,this.b=r,this.c=i,this.d=a,this.tx=o,this.ty=s,this},e.prototype.toArray=function(n,r){this.array||(this.array=new Float32Array(9));var i=r||this.array;return n?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},e.prototype.apply=function(n,r){r=r||new Uf.default;var i=n.x,a=n.y;return r.x=this.a*i+this.c*a+this.tx,r.y=this.b*i+this.d*a+this.ty,r},e.prototype.applyInverse=function(n,r){r=r||new Uf.default;var i=1/(this.a*this.d+this.c*-this.b),a=n.x,o=n.y;return r.x=this.d*i*a+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*o+-this.b*i*a+(-this.ty*this.a+this.tx*this.b)*i,r},e.prototype.translate=function(n,r){return this.tx+=n,this.ty+=r,this},e.prototype.scale=function(n,r){return this.a*=n,this.d*=r,this.c*=n,this.b*=r,this.tx*=n,this.ty*=r,this},e.prototype.rotate=function(n){var r=Math.cos(n),i=Math.sin(n),a=this.a,o=this.c,s=this.tx;return this.a=a*r-this.b*i,this.b=a*i+this.b*r,this.c=o*r-this.d*i,this.d=o*i+this.d*r,this.tx=s*r-this.ty*i,this.ty=s*i+this.ty*r,this},e.prototype.append=function(n){var r=this.a,i=this.b,a=this.c,o=this.d;return this.a=n.a*r+n.b*a,this.b=n.a*i+n.b*o,this.c=n.c*r+n.d*a,this.d=n.c*i+n.d*o,this.tx=n.tx*r+n.ty*a+this.tx,this.ty=n.tx*i+n.ty*o+this.ty,this},e.prototype.setTransform=function(n,r,i,a,o,s,u,l,h){return this.a=Math.cos(u+h)*o,this.b=Math.sin(u+h)*o,this.c=-Math.sin(u-l)*s,this.d=Math.cos(u-l)*s,this.tx=n-(i*this.a+a*this.c),this.ty=r-(i*this.b+a*this.d),this},e.prototype.prepend=function(n){var r=this.tx;if(n.a!==1||n.b!==0||n.c!==0||n.d!==1){var i=this.a,a=this.c;this.a=i*n.a+this.b*n.c,this.b=i*n.b+this.b*n.d,this.c=a*n.a+this.d*n.c,this.d=a*n.b+this.d*n.d}return this.tx=r*n.a+this.ty*n.c+n.tx,this.ty=r*n.b+this.ty*n.d+n.ty,this},e.prototype.decompose=function(n){var r=this.a,i=this.b,a=this.c,o=this.d,s=-Math.atan2(-a,o),u=Math.atan2(i,r),l=Math.abs(s+u);return l<1e-5||Math.abs(s0.PI_2-l)<1e-5?(n.rotation=u,n.skew.x=n.skew.y=0):(n.rotation=0,n.skew.x=s,n.skew.y=u),n.scale.x=Math.sqrt(r*r+i*i),n.scale.y=Math.sqrt(a*a+o*o),n.position.x=this.tx,n.position.y=this.ty,n},e.prototype.invert=function(){var n=this.a,r=this.b,i=this.c,a=this.d,o=this.tx,s=n*a-r*i;return this.a=a/s,this.b=-r/s,this.c=-i/s,this.d=n/s,this.tx=(i*this.ty-a*o)/s,this.ty=-(n*this.ty-r*o)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var n=new e;return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},e.prototype.copy=function(n){return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},a0(e,null,[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();da.default=h0});var _a=T(va=>{f();"use strict";va.__esModule=!0;var f0=kn(),c0=d0(f0);function d0(e){return e&&e.__esModule?e:{default:e}}var Bt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Nt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],qt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Gf=[],pa=[];function qn(e){return e<0?-1:e>0?1:0}function p0(){for(var e=0;e<16;e++){var t=[];pa.push(t);for(var n=0;n<16;n++)for(var r=qn(Bt[e]*Bt[n]+kt[e]*Nt[n]),i=qn(Nt[e]*Bt[n]+qt[e]*Nt[n]),a=qn(Bt[e]*kt[n]+kt[e]*qt[n]),o=qn(Nt[e]*kt[n]+qt[e]*qt[n]),s=0;s<16;s++)if(Bt[s]===r&&Nt[s]===i&&kt[s]===a&&qt[s]===o){t.push(s);break}}for(var u=0;u<16;u++){var l=new c0.default;l.set(Bt[u],Nt[u],kt[u],qt[u],0,0),Gf.push(l)}}p0();var Ie={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return Bt[t]},uY:function(t){return Nt[t]},vX:function(t){return kt[t]},vY:function(t){return qt[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,n){return pa[t][n]},sub:function(t,n){return pa[t][Ie.inv(n)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)==2},byDirection:function(t,n){return Math.abs(t)*2<=Math.abs(n)?n>=0?Ie.S:Ie.N:Math.abs(n)*2<=Math.abs(t)?t>0?Ie.E:Ie.W:n>0?t>0?Ie.SE:Ie.SW:t>0?Ie.NE:Ie.NW},matrixAppendRotationInv:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=Gf[Ie.inv(n)];a.tx=r,a.ty=i,t.append(a)}};va.default=Ie});var Un=T(ga=>{f();"use strict";ga.__esModule=!0;var v0=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_0=V();function g0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;g0(this,e),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=_0.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this},e.prototype.contains=function(n,r){return this.width<=0||this.height<=0?!1:n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.pad=function(n,r){n=n||0,r=r||(r!==0?n:0),this.x-=n,this.y-=r,this.width+=n*2,this.height+=r*2},e.prototype.fit=function(n){var r=Math.max(this.x,n.x),i=Math.min(this.x+this.width,n.x+n.width),a=Math.max(this.y,n.y),o=Math.min(this.y+this.height,n.y+n.height);this.x=r,this.width=Math.max(i-r,0),this.y=a,this.height=Math.max(o-a,0)},e.prototype.enlarge=function(n){var r=Math.min(this.x,n.x),i=Math.max(this.x+this.width,n.x+n.width),a=Math.min(this.y,n.y),o=Math.max(this.y+this.height,n.y+n.height);this.x=r,this.width=i-r,this.y=a,this.height=o-a},e.prototype.ceil=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.001,i=Math.ceil((this.x+this.width-r)*n)/n,a=Math.ceil((this.y+this.height-r)*n)/n;this.x=Math.floor((this.x+r)*n)/n,this.y=Math.floor((this.y+r)*n)/n,this.width=i-this.x,this.height=a-this.y},v0(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();ga.default=m0});var Xf=T(ma=>{f();"use strict";ma.__esModule=!0;var y0=Un(),x0=b0(y0),T0=V();function b0(e){return e&&e.__esModule?e:{default:e}}function w0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;w0(this,e),this.x=t,this.y=n,this.radius=r,this.type=T0.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(n,r){if(this.radius<=0)return!1;var i=this.radius*this.radius,a=this.x-n,o=this.y-r;return a*=a,o*=o,a+o<=i},e.prototype.getBounds=function(){return new x0.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e}();ma.default=E0});var Wf=T(ya=>{f();"use strict";ya.__esModule=!0;var S0=Un(),M0=P0(S0),O0=V();function P0(e){return e&&e.__esModule?e:{default:e}}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var A0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;R0(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.type=O0.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(n,r){if(this.width<=0||this.height<=0)return!1;var i=(n-this.x)/this.width,a=(r-this.y)/this.height;return i*=i,a*=a,i+a<=1},e.prototype.getBounds=function(){return new M0.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();ya.default=A0});var Hf=T(xa=>{f();"use strict";xa.__esModule=!0;var C0=Nn(),I0=L0(C0),D0=V();function L0(e){return e&&e.__esModule?e:{default:e}}function F0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var B0=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(F0(this,e),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof I0.default){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].x,n[a].y);n=i}this.closed=!0,this.points=n,this.type=D0.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var n=this.points;(n[0]!==n[n.length-2]||n[1]!==n[n.length-1])&&n.push(n[0],n[1])},e.prototype.contains=function(n,r){for(var i=!1,a=this.points.length/2,o=0,s=a-1;o<a;s=o++){var u=this.points[o*2],l=this.points[o*2+1],h=this.points[s*2],c=this.points[s*2+1],v=l>r!=c>r&&n<(h-u)*((r-l)/(c-l))+u;v&&(i=!i)}return i},e}();xa.default=B0});var Vf=T(Ta=>{f();"use strict";Ta.__esModule=!0;var N0=V();function k0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var q0=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;k0(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=N0.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(n,r){if(this.width<=0||this.height<=0)return!1;if(n>=this.x&&n<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||n>=this.x+this.radius&&n<=this.x+this.width-this.radius)return!0;var i=n-(this.x+this.radius),a=r-(this.y+this.radius),o=this.radius*this.radius;if(i*i+a*a<=o||(i=n-(this.x+this.width-this.radius),i*i+a*a<=o)||(a=r-(this.y+this.height-this.radius),i*i+a*a<=o)||(i=n-(this.x+this.radius),i*i+a*a<=o))return!0}return!1},e}();Ta.default=q0});var he=T(De=>{f();"use strict";De.__esModule=!0;var U0=Nn();Object.defineProperty(De,"Point",{enumerable:!0,get:function(){return Ze(U0).default}});var G0=ca();Object.defineProperty(De,"ObservablePoint",{enumerable:!0,get:function(){return Ze(G0).default}});var X0=kn();Object.defineProperty(De,"Matrix",{enumerable:!0,get:function(){return Ze(X0).default}});var W0=_a();Object.defineProperty(De,"GroupD8",{enumerable:!0,get:function(){return Ze(W0).default}});var H0=Xf();Object.defineProperty(De,"Circle",{enumerable:!0,get:function(){return Ze(H0).default}});var V0=Wf();Object.defineProperty(De,"Ellipse",{enumerable:!0,get:function(){return Ze(V0).default}});var Y0=Hf();Object.defineProperty(De,"Polygon",{enumerable:!0,get:function(){return Ze(Y0).default}});var z0=Un();Object.defineProperty(De,"Rectangle",{enumerable:!0,get:function(){return Ze(z0).default}});var j0=Vf();Object.defineProperty(De,"RoundedRectangle",{enumerable:!0,get:function(){return Ze(j0).default}});function Ze(e){return e&&e.__esModule?e:{default:e}}});var zf=T((mG,Yf)=>{f();var K0=function(e,t){var n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n};Yf.exports=K0});var ba=T((yG,jf)=>{f();var Z0=function(e,t,n){var r;if(n){var i=n.tempAttribState,a=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<t.length;r++)i[t[r].attribute.location]=!0;for(r=0;r<a.length;r++)a[r]!==i[r]&&(a[r]=i[r],n.attribState[r]?e.enableVertexAttribArray(r):e.disableVertexAttribArray(r))}else for(r=0;r<t.length;r++){var o=t[r];e.enableVertexAttribArray(o.attribute.location)}};jf.exports=Z0});var Zf=T((xG,Kf)=>{f();var J0=new ArrayBuffer(0),qe=function(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=r||e.STATIC_DRAW,this.data=J0,n&&this.upload(n),this._updateID=0};qe.prototype.upload=function(e,t,n){n||this.bind();var r=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?r.bufferSubData(this.type,t,e):r.bufferData(this.type,e,this.drawType),this.data=e};qe.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)};qe.createVertexBuffer=function(e,t,n){return new qe(e,e.ARRAY_BUFFER,t,n)};qe.createIndexBuffer=function(e,t,n){return new qe(e,e.ELEMENT_ARRAY_BUFFER,t,n)};qe.create=function(e,t,n,r){return new qe(e,t,n,r)};qe.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};Kf.exports=qe});var wa=T((TG,Qf)=>{f();var fe=function(e,t,n,r,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=r||e.RGBA,this.type=i||e.UNSIGNED_BYTE};fe.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,r=e.videoHeight||e.height;r!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=r};var Jf=!1;fe.prototype.uploadData=function(e,t,n){this.bind();var r=this.gl;if(e instanceof Float32Array){if(!Jf){var i=r.getExtension("OES_texture_float");if(i)Jf=!0;else throw new Error("floating point textures not available")}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n};fe.prototype.bind=function(e){var t=this.gl;e!==void 0&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)};fe.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)};fe.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)};fe.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)};fe.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)};fe.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)};fe.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)};fe.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)};fe.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)};fe.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)};fe.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)};fe.fromSource=function(e,t,n){var r=new fe(e);return r.premultiplyAlpha=n||!1,r.upload(t),r};fe.fromData=function(e,t,n,r){var i=new fe(e);return i.uploadData(t,n,r),i};Qf.exports=fe});var ec=T((bG,$f)=>{f();var Ea=wa(),Ae=function(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100};Ae.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new Ea(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)};Ae.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}};Ae.prototype.clear=function(e,t,n,r){this.bind();var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)};Ae.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)};Ae.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)};Ae.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))};Ae.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null};Ae.createRGBA=function(e,t,n,r){var i=Ea.fromData(e,null,t,n);i.enableNearestScaling(),i.enableWrapClamp();var a=new Ae(e,t,n);return a.enableTexture(i),a.unbind(),a};Ae.createFloat32=function(e,t,n,r){var i=new Ea.fromData(e,r,t,n);i.enableNearestScaling(),i.enableWrapClamp();var a=new Ae(e,t,n);return a.enableTexture(i),a.unbind(),a};$f.exports=Ae});var Sa=T((wG,rc)=>{f();var Q0=function(e,t,n,r){var i=tc(e,e.VERTEX_SHADER,t),a=tc(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,a),r)for(var s in r)e.bindAttribLocation(o,r[s],s);return e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(o,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),e.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(o)),e.deleteProgram(o),o=null),e.deleteShader(i),e.deleteShader(a),o},tc=function(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.log(e.getShaderInfoLog(r)),null)};rc.exports=Q0});var Xn=T((EG,ic)=>{f();var $0=function(e,t){if(!Gn){var n=Object.keys(nc);Gn={};for(var r=0;r<n.length;++r){var i=n[r];Gn[e[i]]=nc[i]}}return Gn[t]},Gn=null,nc={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};ic.exports=$0});var Ma=T((SG,ac)=>{f();var eT=function(e){return tT[e]},tT={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};ac.exports=eT});var Oa=T((MG,oc)=>{f();var rT=Xn(),nT=Ma(),iT=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=rT(e,a.type);n[a.name]={type:o,size:nT(o),location:e.getAttribLocation(t,a.name),pointer:aT}}return n},aT=function(e,t,n,r){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,r||0)};oc.exports=iT});var Ra=T((OG,sc)=>{f();var oT=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Pa(2*t);case"bvec3":return Pa(3*t);case"bvec4":return Pa(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},Pa=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};sc.exports=oT});var Aa=T((PG,uc)=>{f();var sT=Xn(),uT=Ra(),lT=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]/,""),s=sT(e,a.type);n[o]={type:s,size:a.size,location:e.getUniformLocation(t,o),value:uT(s,a.size)}}return n};uc.exports=lT});var Ca=T((RG,lc)=>{f();var hT=function(e,t){return e.substring(0,9)!=="precision"?"precision "+t+` float;
`+e:e};lc.exports=hT});var Ia=T((AG,hc)=>{f();var fT=function(e,t){var n={data:{}};n.gl=e;for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i],o=a.split("."),s=o[o.length-1],u=_T(o,n),l=t[a];u.data[s]=l,u.gl=e,Object.defineProperty(u,s,{get:cT(s),set:vT(s,l)})}return n},cT=function(e){return function(){return this.data[e].value}},dT={float:function(t,n,r){t.uniform1f(n,r)},vec2:function(t,n,r){t.uniform2f(n,r[0],r[1])},vec3:function(t,n,r){t.uniform3f(n,r[0],r[1],r[2])},vec4:function(t,n,r){t.uniform4f(n,r[0],r[1],r[2],r[3])},int:function(t,n,r){t.uniform1i(n,r)},ivec2:function(t,n,r){t.uniform2i(n,r[0],r[1])},ivec3:function(t,n,r){t.uniform3i(n,r[0],r[1],r[2])},ivec4:function(t,n,r){t.uniform4i(n,r[0],r[1],r[2],r[3])},bool:function(t,n,r){t.uniform1i(n,r)},bvec2:function(t,n,r){t.uniform2i(n,r[0],r[1])},bvec3:function(t,n,r){t.uniform3i(n,r[0],r[1],r[2])},bvec4:function(t,n,r){t.uniform4i(n,r[0],r[1],r[2],r[3])},mat2:function(t,n,r){t.uniformMatrix2fv(n,!1,r)},mat3:function(t,n,r){t.uniformMatrix3fv(n,!1,r)},mat4:function(t,n,r){t.uniformMatrix4fv(n,!1,r)},sampler2D:function(t,n,r){t.uniform1i(n,r)}},pT={float:function(t,n,r){t.uniform1fv(n,r)},vec2:function(t,n,r){t.uniform2fv(n,r)},vec3:function(t,n,r){t.uniform3fv(n,r)},vec4:function(t,n,r){t.uniform4fv(n,r)},int:function(t,n,r){t.uniform1iv(n,r)},ivec2:function(t,n,r){t.uniform2iv(n,r)},ivec3:function(t,n,r){t.uniform3iv(n,r)},ivec4:function(t,n,r){t.uniform4iv(n,r)},bool:function(t,n,r){t.uniform1iv(n,r)},bvec2:function(t,n,r){t.uniform2iv(n,r)},bvec3:function(t,n,r){t.uniform3iv(n,r)},bvec4:function(t,n,r){t.uniform4iv(n,r)},sampler2D:function(t,n,r){t.uniform1iv(n,r)}};function vT(e,t){return function(n){this.data[e].value=n;var r=this.data[e].location;t.size===1?dT[t.type](this.gl,r,n):pT[t.type](this.gl,r,n)}}function _T(e,t){for(var n=t,r=0;r<e.length-1;r++){var i=n[e[r]]||{data:{}};n[e[r]]=i,n=i}return n}hc.exports=fT});var dc=T((CG,cc)=>{f();var gT=Sa(),mT=Oa(),yT=Aa(),fc=Ca(),xT=Ia(),Da=function(e,t,n,r,i){this.gl=e,r&&(t=fc(t,r),n=fc(n,r)),this.program=gT(e,t,n,i),this.attributes=mT(e,this.program),this.uniformData=yT(e,this.program),this.uniforms=xT(e,this.uniformData)};Da.prototype.bind=function(){return this.gl.useProgram(this.program),this};Da.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)};cc.exports=Da});var vc=T((IG,pc)=>{f();var TT=ba();function Te(e,t){if(this.nativeVaoExtension=null,Te.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}Te.prototype.constructor=Te;pc.exports=Te;Te.FORCE_NATIVE=!1;Te.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this};Te.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this};Te.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];t!==r.buffer&&(r.buffer.bind(),t=r.buffer),e.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||e.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return TT(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this};Te.prototype.addAttribute=function(e,t,n,r,i,a){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:a||0}),this.dirty=!0,this};Te.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this};Te.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this};Te.prototype.draw=function(e,t,n){var r=this.gl;return this.indexBuffer?r.drawElements(e,t||this.indexBuffer.data.length,r.UNSIGNED_SHORT,(n||0)*2):r.drawArrays(e,n,t||this.getSize()),this};Te.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null};Te.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}});var gc=T((DG,_c)=>{f();_c.exports={compileProgram:Sa(),defaultValue:Ra(),extractAttributes:Oa(),extractUniforms:Aa(),generateUniformAccessObject:Ia(),setPrecision:Ca(),mapSize:Ma(),mapType:Xn()}});var Se=T((LG,Wn)=>{f();var mc={createContext:zf(),setVertexAttribArrays:ba(),GLBuffer:Zf(),GLFramebuffer:ec(),GLShader:dc(),GLTexture:wa(),VertexArrayObject:vc(),shader:gc()};typeof Wn!="undefined"&&Wn.exports&&(Wn.exports=mc);typeof window!="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=mc)});var Hn=T(La=>{f();"use strict";La.__esModule=!0;var yc=he();function bT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var wT=function(){function e(){bT(this,e),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(n){return this.minX>this.maxX||this.minY>this.maxY?yc.Rectangle.EMPTY:(n=n||new yc.Rectangle(0,0,1,1),n.x=this.minX,n.y=this.minY,n.width=this.maxX-this.minX,n.height=this.maxY-this.minY,n)},e.prototype.addPoint=function(n){this.minX=Math.min(this.minX,n.x),this.maxX=Math.max(this.maxX,n.x),this.minY=Math.min(this.minY,n.y),this.maxY=Math.max(this.maxY,n.y)},e.prototype.addQuad=function(n){var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=n[0],u=n[1];r=s<r?s:r,i=u<i?u:i,a=s>a?s:a,o=u>o?u:o,s=n[2],u=n[3],r=s<r?s:r,i=u<i?u:i,a=s>a?s:a,o=u>o?u:o,s=n[4],u=n[5],r=s<r?s:r,i=u<i?u:i,a=s>a?s:a,o=u>o?u:o,s=n[6],u=n[7],r=s<r?s:r,i=u<i?u:i,a=s>a?s:a,o=u>o?u:o,this.minX=r,this.minY=i,this.maxX=a,this.maxY=o},e.prototype.addFrame=function(n,r,i,a,o){var s=n.worldTransform,u=s.a,l=s.b,h=s.c,c=s.d,v=s.tx,p=s.ty,d=this.minX,_=this.minY,m=this.maxX,x=this.maxY,y=u*r+h*i+v,b=l*r+c*i+p;d=y<d?y:d,_=b<_?b:_,m=y>m?y:m,x=b>x?b:x,y=u*a+h*i+v,b=l*a+c*i+p,d=y<d?y:d,_=b<_?b:_,m=y>m?y:m,x=b>x?b:x,y=u*r+h*o+v,b=l*r+c*o+p,d=y<d?y:d,_=b<_?b:_,m=y>m?y:m,x=b>x?b:x,y=u*a+h*o+v,b=l*a+c*o+p,d=y<d?y:d,_=b<_?b:_,m=y>m?y:m,x=b>x?b:x,this.minX=d,this.minY=_,this.maxX=m,this.maxY=x},e.prototype.addVertices=function(n,r,i,a){for(var o=n.worldTransform,s=o.a,u=o.b,l=o.c,h=o.d,c=o.tx,v=o.ty,p=this.minX,d=this.minY,_=this.maxX,m=this.maxY,x=i;x<a;x+=2){var y=r[x],b=r[x+1],w=s*y+l*b+c,E=h*b+u*y+v;p=w<p?w:p,d=E<d?E:d,_=w>_?w:_,m=E>m?E:m}this.minX=p,this.minY=d,this.maxX=_,this.maxY=m},e.prototype.addBounds=function(n){var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY;this.minX=n.minX<r?n.minX:r,this.minY=n.minY<i?n.minY:i,this.maxX=n.maxX>a?n.maxX:a,this.maxY=n.maxY>o?n.maxY:o},e.prototype.addBoundsMask=function(n,r){var i=n.minX>r.minX?n.minX:r.minX,a=n.minY>r.minY?n.minY:r.minY,o=n.maxX<r.maxX?n.maxX:r.maxX,s=n.maxY<r.maxY?n.maxY:r.maxY;if(i<=o&&a<=s){var u=this.minX,l=this.minY,h=this.maxX,c=this.maxY;this.minX=i<u?i:u,this.minY=a<l?a:l,this.maxX=o>h?o:h,this.maxY=s>c?s:c}},e.prototype.addBoundsArea=function(n,r){var i=n.minX>r.x?n.minX:r.x,a=n.minY>r.y?n.minY:r.y,o=n.maxX<r.x+r.width?n.maxX:r.x+r.width,s=n.maxY<r.y+r.height?n.maxY:r.y+r.height;if(i<=o&&a<=s){var u=this.minX,l=this.minY,h=this.maxX,c=this.maxY;this.minX=i<u?i:u,this.minY=a<l?a:l,this.maxX=o>h?o:h,this.maxY=s>c?s:c}},e}();La.default=wT});var vt=T((BG,Fa)=>{f();"use strict";var ET=Object.prototype.hasOwnProperty,ye="~";function pt(){}Object.create&&(pt.prototype=Object.create(null),new pt().__proto__||(ye=!1));function xc(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function ge(){this._events=new pt,this._eventsCount=0}ge.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)ET.call(n,r)&&t.push(ye?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};ge.prototype.listeners=function(t,n){var r=ye?ye+t:t,i=this._events[r];if(n)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++)s[a]=i[a].fn;return s};ge.prototype.emit=function(t,n,r,i,a,o){var s=ye?ye+t:t;if(!this._events[s])return!1;var u=this._events[s],l=arguments.length,h,c;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,n),!0;case 3:return u.fn.call(u.context,n,r),!0;case 4:return u.fn.call(u.context,n,r,i),!0;case 5:return u.fn.call(u.context,n,r,i,a),!0;case 6:return u.fn.call(u.context,n,r,i,a,o),!0}for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=arguments[c];u.fn.apply(u.context,h)}else{var v=u.length,p;for(c=0;c<v;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,n);break;case 3:u[c].fn.call(u[c].context,n,r);break;case 4:u[c].fn.call(u[c].context,n,r,i);break;default:if(!h)for(p=1,h=new Array(l-1);p<l;p++)h[p-1]=arguments[p];u[c].fn.apply(u[c].context,h)}}return!0};ge.prototype.on=function(t,n,r){var i=new xc(n,r||this),a=ye?ye+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this};ge.prototype.once=function(t,n,r){var i=new xc(n,r||this,!0),a=ye?ye+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this};ge.prototype.removeListener=function(t,n,r,i){var a=ye?ye+t:t;if(!this._events[a])return this;if(!n)return--this._eventsCount==0?this._events=new pt:delete this._events[a],this;var o=this._events[a];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&(--this._eventsCount==0?this._events=new pt:delete this._events[a]);else{for(var s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==n||i&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=u.length===1?u[0]:u:--this._eventsCount==0?this._events=new pt:delete this._events[a]}return this};ge.prototype.removeAllListeners=function(t){var n;return t?(n=ye?ye+t:t,this._events[n]&&(--this._eventsCount==0?this._events=new pt:delete this._events[n])):(this._events=new pt,this._eventsCount=0),this};ge.prototype.off=ge.prototype.removeListener;ge.prototype.addListener=ge.prototype.on;ge.prototype.setMaxListeners=function(){return this};ge.prefixed=ye;ge.EventEmitter=ge;typeof Fa!="undefined"&&(Fa.exports=ge)});var Vn=T((Tc,_t)=>{f();(function(e){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,i=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,o=/\bAndroid(?:.+)SD4930UR\b/i,s=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,u=/Windows Phone/i,l=/\bWindows(?:.+)ARM\b/i,h=/BlackBerry/i,c=/BB10/i,v=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,d=/Mobile(?:.+)Firefox\b/i;function _(x,y){return x.test(y)}function m(x){var y=x||(typeof navigator!="undefined"?navigator.userAgent:""),b=y.split("[FBAN");b[1]!==void 0&&(y=b[0]),(b=y.split("Twitter"))[1]!==void 0&&(y=b[0]);var w={apple:{phone:_(t,y)&&!_(u,y),ipod:_(n,y),tablet:!_(t,y)&&_(r,y)&&!_(u,y),device:(_(t,y)||_(n,y)||_(r,y))&&!_(u,y)},amazon:{phone:_(o,y),tablet:!_(o,y)&&_(s,y),device:_(o,y)||_(s,y)},android:{phone:!_(u,y)&&_(o,y)||!_(u,y)&&_(i,y),tablet:!_(u,y)&&!_(o,y)&&!_(i,y)&&(_(s,y)||_(a,y)),device:!_(u,y)&&(_(o,y)||_(s,y)||_(i,y)||_(a,y))||_(/\bokhttp\b/i,y)},windows:{phone:_(u,y),tablet:_(l,y),device:_(u,y)||_(l,y)},other:{blackberry:_(h,y),blackberry10:_(c,y),opera:_(v,y),firefox:_(d,y),chrome:_(p,y),device:_(h,y)||_(c,y)||_(v,y)||_(d,y)||_(p,y)}};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}typeof _t!="undefined"&&_t.exports&&typeof window=="undefined"?_t.exports=m:typeof _t!="undefined"&&_t.exports&&typeof window!="undefined"?(_t.exports=m(),_t.exports.isMobile=m):typeof define=="function"&&define.amd?define([],e.isMobile=m()):e.isMobile=m()})(Tc)});var wc=T(Ba=>{f();"use strict";Ba.__esModule=!0;Ba.default=OT;var ST=Vn(),bc=MT(ST);function MT(e){return e&&e.__esModule?e:{default:e}}function OT(e){return bc.default.tablet||bc.default.phone?4:e}});var Ec=T(Na=>{f();"use strict";Na.__esModule=!0;Na.default=PT;function PT(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}});var ae=T(ka=>{f();"use strict";ka.__esModule=!0;var RT=wc(),AT=Sc(RT),CT=Ec(),IT=Sc(CT);function Sc(e){return e&&e.__esModule?e:{default:e}}ka.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,AT.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,IT.default)(),MESH_CANVAS_PADDING:0}});var Yn=T(qa=>{f();"use strict";qa.__esModule=!0;var Mc=he();function DT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Er=function(){function e(){DT(this,e),this.worldTransform=new Mc.Matrix,this.localTransform=new Mc.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(n){var r=n.worldTransform,i=this.worldTransform,a=this.localTransform;i.a=a.a*r.a+a.b*r.c,i.b=a.a*r.b+a.b*r.d,i.c=a.c*r.a+a.d*r.c,i.d=a.c*r.b+a.d*r.d,i.tx=a.tx*r.a+a.ty*r.c+r.tx,i.ty=a.tx*r.b+a.ty*r.d+r.ty,this._worldID++},e}();qa.default=Er;Er.prototype.updateWorldTransform=Er.prototype.updateTransform;Er.IDENTITY=new Er});var Ga=T(Ua=>{f();"use strict";Ua.__esModule=!0;var LT=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zn=he(),FT=Yn(),BT=NT(FT);function NT(e){return e&&e.__esModule?e:{default:e}}function kT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function UT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GT=function(e){UT(t,e);function t(){kT(this,t);var n=qT(this,e.call(this));return n.position=new zn.ObservablePoint(n.onChange,n,0,0),n.scale=new zn.ObservablePoint(n.onChange,n,1,1),n.pivot=new zn.ObservablePoint(n.onChange,n,0,0),n.skew=new zn.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale._x,i.b=this._sx*this.scale._x,i.c=this._cy*this.scale._y,i.d=this._sy*this.scale._y,i.tx=this.position._x-(this.pivot._x*i.a+this.pivot._y*i.c),i.ty=this.position._y-(this.pivot._x*i.b+this.pivot._y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var a=r.worldTransform,o=this.worldTransform;o.a=i.a*a.a+i.b*a.c,o.b=i.a*a.b+i.b*a.d,o.c=i.c*a.a+i.d*a.c,o.d=i.c*a.b+i.d*a.d,o.tx=i.tx*a.a+i.ty*a.c+a.tx,o.ty=i.tx*a.b+i.ty*a.d+a.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},LT(t,[{key:"rotation",get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}}]),t}(BT.default);Ua.default=GT});var Wa=T(Xa=>{f();"use strict";Xa.__esModule=!0;var XT=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jn=he(),WT=Yn(),HT=VT(WT);function VT(e){return e&&e.__esModule?e:{default:e}}function YT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KT=function(e){jT(t,e);function t(){YT(this,t);var n=zT(this,e.call(this));return n.position=new jn.Point(0,0),n.scale=new jn.Point(1,1),n.skew=new jn.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new jn.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var r=this.localTransform;r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d)},t.prototype.updateTransform=function(r){var i=this.localTransform;i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d);var a=r.worldTransform,o=this.worldTransform;o.a=i.a*a.a+i.b*a.c,o.b=i.a*a.b+i.b*a.d,o.c=i.c*a.a+i.d*a.c,o.d=i.c*a.b+i.d*a.d,o.tx=i.tx*a.a+i.ty*a.c+a.tx,o.ty=i.tx*a.b+i.ty*a.d+a.ty,this._worldID++},t.prototype.setFromMatrix=function(r){r.decompose(this)},XT(t,[{key:"rotation",get:function(){return this._rotation},set:function(r){this._rotation=r,this.updateSkew()}}]),t}(HT.default);Xa.default=KT});var Ya=T(Va=>{f();"use strict";Va.__esModule=!0;var ZT=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),JT=vt(),QT=Sr(JT),$T=V(),eb=ae(),tb=Sr(eb),rb=Ga(),nb=Sr(rb),ib=Wa(),ab=Sr(ib),ob=Hn(),sb=Sr(ob),Oc=he();function Sr(e){return e&&e.__esModule?e:{default:e}}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ha=function(e){hb(t,e);function t(){ub(this,t);var n=lb(this,e.call(this)),r=tb.default.TRANSFORM_MODE===$T.TRANSFORM_MODE.STATIC?nb.default:ab.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new sb.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(r,i){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),i||(this._boundsRect||(this._boundsRect=new Oc.Rectangle),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(r){var i=this.transform,a=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,r||(this._localBoundsRect||(this._localBoundsRect=new Oc.Rectangle),r=this._localBoundsRect);var o=this.getBounds(!1,r);return this.parent=a,this.transform=i,o},t.prototype.toGlobal=function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,i)},t.prototype.toLocal=function(r,i,a,o){return i&&(r=i.toGlobal(r,a,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,a)},t.prototype.renderWebGL=function(r){},t.prototype.renderCanvas=function(r){},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;return this.position.x=r,this.position.y=i,this.scale.x=a||1,this.scale.y=o||1,this.rotation=s,this.skew.x=u,this.skew.y=l,this.pivot.x=h,this.pivot.y=c,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},ZT(t,[{key:"_tempDisplayObjectParent",get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(r){this.transform.position.x=r}},{key:"y",get:function(){return this.position.y},set:function(r){this.transform.position.y=r}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(r){this.transform.position.copy(r)}},{key:"scale",get:function(){return this.transform.scale},set:function(r){this.transform.scale.copy(r)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copy(r)}},{key:"skew",get:function(){return this.transform.skew},set:function(r){this.transform.skew.copy(r)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r}},{key:"worldVisible",get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0}},{key:"mask",get:function(){return this._mask},set:function(r){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=r,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(r){this._filters=r&&r.slice()}}]),t}(QT.default);Va.default=Ha;Ha.prototype.displayObjectUpdateTransform=Ha.prototype.updateTransform});var Pc=T(za=>{f();"use strict";za.__esModule=!0;function fb(e){e.__plugins={},e.registerPlugin=function(n,r){e.__plugins[n]=r},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var n in e.__plugins)this.plugins[n]=new e.__plugins[n](this)},e.prototype.destroyPlugins=function(){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;this.plugins=null}}za.default={mixin:function(t){fb(t)}}});var Ac=T(Or=>{f();"use strict";Or.__esModule=!0;Or.mixin=Rc;Or.delayMixin=cb;Or.performMixins=db;function Rc(e,t){if(!(!e||!t))for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}var Mr=[];function cb(e,t){Mr.push(e,t)}function db(){for(var e=0;e<Mr.length;e+=2)Rc(Mr[e],Mr[e+1]);Mr.length=0}});var Ic=T((YG,Cc)=>{f();"use strict";Cc.exports=function(t,n,r){var i,a=t.length;if(!(n>=a||r===0)){r=n+r>a?a-n:r;var o=a-r;for(i=n;i<o;++i)t[i]=t[i+r];t.length=o}}});var Dc=T(ja=>{f();"use strict";ja.__esModule=!0;ja.default=pb;var Ce=V();function pb(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[Ce.BLEND_MODES.NORMAL_NPM]=Ce.BLEND_MODES.NORMAL,e[Ce.BLEND_MODES.ADD_NPM]=Ce.BLEND_MODES.ADD,e[Ce.BLEND_MODES.SCREEN_NPM]=Ce.BLEND_MODES.SCREEN,t[Ce.BLEND_MODES.NORMAL]=Ce.BLEND_MODES.NORMAL_NPM,t[Ce.BLEND_MODES.ADD]=Ce.BLEND_MODES.ADD_NPM,t[Ce.BLEND_MODES.SCREEN]=Ce.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}});var $n=T((jG,Qa)=>{f();"use strict";Qa.exports=Kn;Qa.exports.default=Kn;function Kn(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=Lc(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var s,u,l,h,c,v,p;if(r&&(a=yb(e,t,a,n)),e.length>80*n){s=l=e[0],u=h=e[1];for(var d=n;d<i;d+=n)c=e[d],v=e[d+1],c<s&&(s=c),v<u&&(u=v),c>l&&(l=c),v>h&&(h=v);p=Math.max(l-s,h-u),p=p!==0?1/p:0}return Pr(a,o,n,s,u,p),o}function Lc(e,t,n,r,i){var a,o;if(i===Ja(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Nc(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Nc(a,e[a],e[a+1],o);return o&&Zn(o,o.next)&&(Ar(o),o=o.next),o}function gt(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Zn(n,n.next)||$(n.prev,n,n.next)===0)){if(Ar(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Pr(e,t,n,r,i,a,o){if(!!e){!o&&a&&Eb(e,r,i,a);for(var s=e,u,l;e.prev!==e.next;){if(u=e.prev,l=e.next,a?_b(e,r,i,a):vb(e)){t.push(u.i/n),t.push(e.i/n),t.push(l.i/n),Ar(e),e=l.next,s=l.next;continue}if(e=l,e===s){o?o===1?(e=gb(gt(e),t,n),Pr(e,t,n,r,i,a,2)):o===2&&mb(e,t,n,r,i,a):Pr(gt(e),t,n,r,i,a,1);break}}}}function vb(e){var t=e.prev,n=e,r=e.next;if($(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(nr(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&$(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function _b(e,t,n,r){var i=e.prev,a=e,o=e.next;if($(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,h=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=Ka(s,u,t,n,r),v=Ka(l,h,t,n,r),p=e.prevZ,d=e.nextZ;p&&p.z>=c&&d&&d.z<=v;){if(p!==e.prev&&p!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&$(p.prev,p,p.next)>=0||(p=p.prevZ,d!==e.prev&&d!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&$(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;p&&p.z>=c;){if(p!==e.prev&&p!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&$(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=v;){if(d!==e.prev&&d!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&$(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function gb(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Zn(i,a)&&Fc(i,r,r.next,a)&&Rr(i,a)&&Rr(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Ar(r),Ar(r.next),r=e=a),r=r.next}while(r!==e);return gt(r)}function mb(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ob(o,s)){var u=Bc(o,s);o=gt(o,o.next),u=gt(u,u.next),Pr(o,t,n,r,i,a),Pr(u,t,n,r,i,a);return}s=s.next}o=o.next}while(o!==e)}function yb(e,t,n,r){var i=[],a,o,s,u,l;for(a=0,o=t.length;a<o;a++)s=t[a]*r,u=a<o-1?t[a+1]*r:e.length,l=Lc(e,s,u,r,!1),l===l.next&&(l.steiner=!0),i.push(Mb(l));for(i.sort(xb),a=0;a<i.length;a++)Tb(i[a],n),n=gt(n,n.next);return n}function xb(e,t){return e.x-t.x}function Tb(e,t){if(t=bb(e,t),t){var n=Bc(t,e);gt(t,t.next),gt(n,n.next)}}function bb(e,t){var n=t,r=e.x,i=e.y,a=-Infinity,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===a)return o;var u=o,l=o.x,h=o.y,c=Infinity,v;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&nr(i<h?r:a,i,l,h,i<h?a:r,i,n.x,n.y)&&(v=Math.abs(i-n.y)/(r-n.x),Rr(n,e)&&(v<c||v===c&&(n.x>o.x||n.x===o.x&&wb(o,n)))&&(o=n,c=v)),n=n.next;while(n!==u);return o}function wb(e,t){return $(e.prev,e,t.prev)<0&&$(t.next,e,e.next)<0}function Eb(e,t,n,r){var i=e;do i.z===null&&(i.z=Ka(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Sb(i)}function Sb(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,!!r);t++);for(u=l;s>0||u>0&&r;)s!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function Ka(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Mb(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function nr(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Ob(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Pb(e,t)&&(Rr(e,t)&&Rr(t,e)&&Rb(e,t)&&($(e.prev,e,t.prev)||$(e,t.prev,t))||Zn(e,t)&&$(e.prev,e,e.next)>0&&$(t.prev,t,t.next)>0)}function $(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Zn(e,t){return e.x===t.x&&e.y===t.y}function Fc(e,t,n,r){var i=Qn($(e,t,n)),a=Qn($(e,t,r)),o=Qn($(n,r,e)),s=Qn($(n,r,t));return!!(i!==a&&o!==s||i===0&&Jn(e,n,t)||a===0&&Jn(e,r,t)||o===0&&Jn(n,e,r)||s===0&&Jn(n,t,r))}function Jn(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Qn(e){return e>0?1:e<0?-1:0}function Pb(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Fc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Rr(e,t){return $(e.prev,e,e.next)<0?$(e,t,e.next)>=0&&$(e,e.prev,t)>=0:$(e,t,e.prev)<0||$(e,e.next,t)<0}function Rb(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function Bc(e,t){var n=new Za(e.i,e.x,e.y),r=new Za(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Nc(e,t,n,r){var i=new Za(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ar(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Za(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Kn.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(Ja(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,h=s<u-1?t[s+1]*n:e.length;o-=Math.abs(Ja(e,l,h,n))}var c=0;for(s=0;s<r.length;s+=3){var v=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;c+=Math.abs((e[v]-e[d])*(e[p+1]-e[v+1])-(e[v]-e[p])*(e[d+1]-e[v+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Ja(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}Kn.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}});var z=T(W=>{f();"use strict";W.__esModule=!0;W.premultiplyBlendMode=W.BaseTextureCache=W.TextureCache=W.earcut=W.mixins=W.pluginTarget=W.EventEmitter=W.removeItems=W.isMobile=void 0;W.uid=zb;W.hex2rgb=jb;W.hex2string=Kb;W.rgb2hex=Zb;W.getResolutionOfUrl=Jb;W.decomposeDataUri=Qb;W.getUrlFileExtension=$b;W.getSvgSize=ew;W.skipHello=tw;W.sayHello=rw;W.isWebGLSupported=nw;W.sign=iw;W.destroyTextureCache=aw;W.clearTextureCache=ow;W.correctBlendMode=uw;W.premultiplyTint=lw;W.premultiplyRgba=hw;W.premultiplyTintToRgba=fw;var Cr=V(),Ab=ae(),Cb=ir(Ab),Ib=vt(),Db=ir(Ib),Lb=Pc(),Fb=ir(Lb),Bb=Ac(),Nb=kc(Bb),kb=Vn(),qb=kc(kb),Ub=Ic(),Gb=ir(Ub),Xb=Dc(),Wb=ir(Xb),Hb=$n(),Vb=ir(Hb);function kc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ir(e){return e&&e.__esModule?e:{default:e}}var Yb=0,$a=!1;W.isMobile=qb;W.removeItems=Gb.default;W.EventEmitter=Db.default;W.pluginTarget=Fb.default;W.mixins=Nb;W.earcut=Vb.default;function zb(){return++Yb}function jb(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function Kb(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e}function Zb(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function Jb(e,t){var n=Cb.default.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}function Qb(e){var t=Cr.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function $b(e){var t=Cr.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase()}function ew(e){var t=Cr.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}function tw(){$a=!0}function rw(e){if(!$a){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+Cr.VERSION+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+Cr.VERSION+" - "+e+" - http://www.pixijs.com/");$a=!0}}function nw(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!!(n&&n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(a){return!1}}function iw(e){return e===0?0:e<0?-1:1}var ei=W.TextureCache=Object.create(null),ti=W.BaseTextureCache=Object.create(null);function aw(){var e=void 0;for(e in ei)ei[e].destroy();for(e in ti)ti[e].destroy()}function ow(){var e=void 0;for(e in ei)delete ei[e];for(e in ti)delete ti[e]}var sw=W.premultiplyBlendMode=(0,Wb.default)();function uw(e,t){return sw[t?1:0][e]}function lw(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function hw(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function fw(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}});var ar=T(ro=>{f();"use strict";ro.__esModule=!0;var cw=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),eo=z(),dw=Ya(),pw=vw(dw);function vw(e){return e&&e.__esModule?e:{default:e}}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var to=function(e){mw(t,e);function t(){_w(this,t);var n=gw(this,e.call(this));return n.children=[],n}return t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(r){var i=arguments.length;if(i>1)for(var a=0;a<i;a++)this.addChild(arguments[a]);else r.parent&&r.parent.removeChild(r),r.parent=this,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),r.emit("added",this);return r},t.prototype.addChildAt=function(r,i){if(i<0||i>this.children.length)throw new Error(r+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,r.transform._parentID=-1,this.children.splice(i,0,r),this._boundsID++,this.onChildrenChange(i),r.emit("added",this),r},t.prototype.swapChildren=function(r,i){if(r!==i){var a=this.getChildIndex(r),o=this.getChildIndex(i);this.children[a]=i,this.children[o]=r,this.onChildrenChange(a<o?a:o)}},t.prototype.getChildIndex=function(r){var i=this.children.indexOf(r);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(r,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var a=this.getChildIndex(r);(0,eo.removeItems)(this.children,a,1),this.children.splice(i,0,r),this.onChildrenChange(i)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(r){var i=arguments.length;if(i>1)for(var a=0;a<i;a++)this.removeChild(arguments[a]);else{var o=this.children.indexOf(r);if(o===-1)return null;r.parent=null,r.transform._parentID=-1,(0,eo.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),r.emit("removed",this)}return r},t.prototype.removeChildAt=function(r){var i=this.getChildAt(r);return i.parent=null,i.transform._parentID=-1,(0,eo.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),i.emit("removed",this),i},t.prototype.removeChildren=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1],a=r,o=typeof i=="number"?i:this.children.length,s=o-a,u=void 0;if(s>0&&s<=o){u=this.children.splice(a,s);for(var l=0;l<u.length;++l)u[l].parent=null,u[l].transform&&(u[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var h=0;h<u.length;++h)u[h].emit("removed",this);return u}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,i=this.children.length;r<i;++r){var a=this.children[r];a.visible&&a.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var i=this.children[r];!i.visible||!i.renderable||(i.calculateBounds(),i._mask?(i._mask.calculateBounds(),this._bounds.addBoundsMask(i._bounds,i._mask._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(r);else{this._renderWebGL(r);for(var i=0,a=this.children.length;i<a;++i)this.children[i].renderWebGL(r)}},t.prototype.renderAdvancedWebGL=function(r){r.flush();var i=this._filters,a=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o]);this._enabledFilters.length&&r.filterManager.pushFilter(this,this._enabledFilters)}a&&r.maskManager.pushMask(this,this._mask),this._renderWebGL(r);for(var s=0,u=this.children.length;s<u;s++)this.children[s].renderWebGL(r);r.flush(),a&&r.maskManager.popMask(this,this._mask),i&&this._enabledFilters&&this._enabledFilters.length&&r.filterManager.popFilter()},t.prototype._renderWebGL=function(r){},t.prototype._renderCanvas=function(r){},t.prototype.renderCanvas=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&r.maskManager.pushMask(this._mask),this._renderCanvas(r);for(var i=0,a=this.children.length;i<a;++i)this.children[i].renderCanvas(r);this._mask&&r.maskManager.popMask(r)}},t.prototype.destroy=function(r){e.prototype.destroy.call(this);var i=typeof r=="boolean"?r:r&&r.children,a=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<a.length;++o)a[o].destroy(r)},cw(t,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var i=this.getLocalBounds().width;i!==0?this.scale.x=r/i:this.scale.x=1,this._width=r}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var i=this.getLocalBounds().height;i!==0?this.scale.y=r/i:this.scale.y=1,this._height=r}}]),t}(pw.default);ro.default=to;to.prototype.containerUpdateTransform=to.prototype.updateTransform});var io=T(no=>{f();"use strict";no.__esModule=!0;no.default=bw;var yw=Pe("url"),xw=Tw(yw);function Tw(e){return e&&e.__esModule?e:{default:e}}var ri=void 0;function bw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(e.indexOf("data:")===0)return"";t=t||window.location,ri||(ri=document.createElement("a")),ri.href=e,e=xw.default.parse(ri.href);var n=!e.port&&t.port===""||e.port===t.port;return e.hostname!==t.hostname||!n||e.protocol!==t.protocol?"anonymous":""}});var ni=T(te=>{f();"use strict";var ao=32;te.INT_BITS=ao;te.INT_MAX=2147483647;te.INT_MIN=-1<<ao-1;te.sign=function(e){return(e>0)-(e<0)};te.abs=function(e){var t=e>>ao-1;return(e^t)-t};te.min=function(e,t){return t^(e^t)&-(e<t)};te.max=function(e,t){return e^(e^t)&-(e<t)};te.isPow2=function(e){return!(e&e-1)&&!!e};te.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1};te.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};te.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function qc(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}te.countTrailingZeros=qc;te.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};te.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};te.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var Ir=new Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(Ir);te.reverse=function(e){return Ir[e&255]<<24|Ir[e>>>8&255]<<16|Ir[e>>>16&255]<<8|Ir[e>>>24&255]};te.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1};te.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};te.interleave3=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2};te.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};te.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>qc(e)+1}});var Ut=T(oo=>{f();"use strict";oo.__esModule=!0;var oe=z(),ww=ae(),ii=ai(ww),Ew=vt(),Sw=ai(Ew),Mw=io(),Ow=ai(Mw),Pw=ni(),Uc=ai(Pw);function ai(e){return e&&e.__esModule?e:{default:e}}function Rw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Iw=function(e){Cw(t,e);function t(n,r,i){Rw(this,t);var a=Aw(this,e.call(this));return a.uid=(0,oe.uid)(),a.touched=0,a.resolution=i||ii.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=r!==void 0?r:ii.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=ii.default.MIPMAP_TEXTURES,a.wrapMode=ii.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],n&&a.loadSource(n),a}return t.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=Uc.default.isPow2(this.realWidth)&&Uc.default.isPow2(this.realHeight)},t.prototype.loadSource=function(r){var i=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,i&&this.source&&(this.source.onload=null,this.source.onerror=null);var a=!this.source;if(this.source=r,(r.src&&r.complete||r.getContext)&&r.width&&r.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),a&&this.emit("loaded",this);else if(!r.getContext){this.isLoading=!0;var o=this;if(r.onload=function(){if(o._updateImageType(),r.onload=null,r.onerror=null,!!o.isLoading){if(o.isLoading=!1,o._sourceLoaded(),o.imageType==="svg"){o._loadSvgSource();return}o.emit("loaded",o)}},r.onerror=function(){r.onload=null,r.onerror=null,!!o.isLoading&&(o.isLoading=!1,o.emit("error",o))},r.complete&&r.src){if(r.onload=null,r.onerror=null,o.imageType==="svg"){o._loadSvgSource();return}this.isLoading=!1,r.width&&r.height?(this._sourceLoaded(),i&&this.emit("loaded",this)):i&&this.emit("error",this)}}},t.prototype._updateImageType=function(){if(!!this.imageUrl){var r=(0,oe.decomposeDataUri)(this.imageUrl),i=void 0;if(r&&r.mediaType==="image"){var a=r.subType.split("+")[0];if(i=(0,oe.getUrlFileExtension)("."+a),!i)throw new Error("Invalid image type in data URI.")}else i=(0,oe.getUrlFileExtension)(this.imageUrl),i||(i="png");this.imageType=i}},t.prototype._loadSvgSource=function(){if(this.imageType==="svg"){var r=(0,oe.decomposeDataUri)(this.imageUrl);r?this._loadSvgSourceUsingDataUri(r):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(r){var i=void 0;if(r.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");i=atob(r.data)}else i=r.data;this._loadSvgSourceUsingString(i)},t.prototype._loadSvgSourceUsingXhr=function(){var r=this,i=new XMLHttpRequest;i.onload=function(){if(i.readyState!==i.DONE||i.status!==200)throw new Error("Failed to load SVG using XHR.");r._loadSvgSourceUsingString(i.response)},i.onerror=function(){return r.emit("error",r)},i.open("GET",this.imageUrl,!0),i.send()},t.prototype._loadSvgSourceUsingString=function(r){var i=(0,oe.getSvgSize)(r),a=i.width,o=i.height;if(!a||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(a*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,oe.uid)(),s.getContext("2d").drawImage(this.source,0,0,a,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,t.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete oe.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.updateSourceImage=function(r){this.source.src=r,this.loadSource(this.source)},t.fromImage=function(r,i,a,o){var s=oe.BaseTextureCache[r];if(!s){var u=new Image;i===void 0&&r.indexOf("data:")!==0?u.crossOrigin=(0,Ow.default)(r):i&&(u.crossOrigin=typeof i=="string"?i:"anonymous"),s=new t(u,a),s.imageUrl=r,o&&(s.sourceScale=o),s.resolution=(0,oe.getResolutionOfUrl)(r),u.src=r,t.addToCache(s,r)}return s},t.fromCanvas=function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";r._pixiId||(r._pixiId=a+"_"+(0,oe.uid)());var o=oe.BaseTextureCache[r._pixiId];return o||(o=new t(r,i),t.addToCache(o,r._pixiId)),o},t.from=function(r,i,a){if(typeof r=="string")return t.fromImage(r,void 0,i,a);if(r instanceof HTMLImageElement){var o=r.src,s=oe.BaseTextureCache[o];return s||(s=new t(r,i),s.imageUrl=o,a&&(s.sourceScale=a),s.resolution=(0,oe.getResolutionOfUrl)(o),t.addToCache(s,o)),s}else if(r instanceof HTMLCanvasElement)return t.fromCanvas(r,i);return r},t.addToCache=function(r,i){i&&(r.textureCacheIds.indexOf(i)===-1&&r.textureCacheIds.push(i),oe.BaseTextureCache[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),oe.BaseTextureCache[i]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var i=oe.BaseTextureCache[r];if(i){var a=i.textureCacheIds.indexOf(r);return a>-1&&i.textureCacheIds.splice(a,1),delete oe.BaseTextureCache[r],i}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete oe.BaseTextureCache[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t}(Sw.default);oo.default=Iw});var Gc=T(so=>{f();"use strict";so.__esModule=!0;function Dw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Lw=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Dw(this,e),this.fn=t,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(n,r){return r=r||null,this.fn===n&&this.context===r},e.prototype.emit=function(n){this.fn&&(this.context?this.fn.call(this.context,n):this.fn(n));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(n){this.previous=n,n.next&&(n.next.previous=this),this.next=n.next,n.next=this},e.prototype.destroy=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=n?null:r,this.previous=null,r},e}();so.default=Lw});var Hc=T(ho=>{f();"use strict";ho.__esModule=!0;var Fw=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bw=ae(),uo=Wc(Bw),Xc=V(),Nw=Gc(),lo=Wc(Nw);function Wc(e){return e&&e.__esModule?e:{default:e}}function kw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qw=function(){function e(){var t=this;kw(this,e),this._head=new lo.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/uo.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xc.UPDATE_PRIORITY.NORMAL;return this._addListener(new lo.default(n,r,i))},e.prototype.addOnce=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xc.UPDATE_PRIORITY.NORMAL;return this._addListener(new lo.default(n,r,i,!0))},e.prototype._addListener=function(n){var r=this._head.next,i=this._head;if(!r)n.connect(i);else{for(;r;){if(n.priority>r.priority){n.connect(i);break}i=r,r=r.next}n.previous||n.connect(i)}return this._startIfPossible(),this},e.prototype.remove=function(n,r){for(var i=this._head.next;i;)i.match(n,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var n=this._head.next;n;)n=n.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),r=void 0;if(n>this.lastTime){r=this.elapsedMS=n-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),this.deltaTime=r*uo.default.TARGET_FPMS*this.speed;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=n},Fw(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(n){var r=Math.min(Math.max(0,n)/1e3,uo.default.TARGET_FPMS);this._maxElapsedMS=1/r}}]),e}();ho.default=qw});var oi=T(or=>{f();"use strict";or.__esModule=!0;or.Ticker=or.shared=void 0;var Uw=Hc(),Vc=Gw(Uw);function Gw(e){return e&&e.__esModule?e:{default:e}}var fo=new Vc.default;fo.autoStart=!0;fo.destroy=function(){};or.shared=fo;or.Ticker=Vc.default});var _o=T(vo=>{f();"use strict";vo.__esModule=!0;var Xw=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ww=Ut(),co=jc(Ww),Yc=z(),Dr=oi(),zc=V(),Hw=io(),Vw=jc(Hw);function jc(e){return e&&e.__esModule?e:{default:e}}function Yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var po=function(e){jw(t,e);function t(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Yw(this,t),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var a=zw(this,e.call(this,n,r));return a.width=n.videoWidth,a.height=n.videoHeight,a._autoUpdate=!0,a._isAutoUpdating=!1,a.autoPlay=i,a.update=a.update.bind(a),a._onCanPlay=a._onCanPlay.bind(a),n.addEventListener("play",a._onPlayStart.bind(a)),n.addEventListener("pause",a._onPlayStop.bind(a)),a.hasLoaded=!1,a.__loaded=!1,a._isSourceReady()?a._onCanPlay():(n.addEventListener("canplay",a._onCanPlay),n.addEventListener("canplaythrough",a._onCanPlay)),a}return t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Dr.shared.add(this.update,this,zc.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(Dr.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&Dr.shared.remove(this.update,this),this.source&&this.source._pixiId&&(co.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),e.prototype.destroy.call(this)},t.fromVideo=function(r,i,a){r._pixiId||(r._pixiId="video_"+(0,Yc.uid)());var o=Yc.BaseTextureCache[r._pixiId];return o||(o=new t(r,i,a),co.default.addToCache(o,r._pixiId)),o},t.fromUrl=function(r,i,a,o){var s=document.createElement("video");s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","");var u=Array.isArray(r)?r[0].src||r[0]:r.src||r;if(a===void 0&&u.indexOf("data:")!==0?s.crossOrigin=(0,Vw.default)(u):a&&(s.crossOrigin=typeof a=="string"?a:"anonymous"),Array.isArray(r))for(var l=0;l<r.length;++l)s.appendChild(Kc(r[l].src||r[l],r[l].mime));else s.appendChild(Kc(u,r.mime));return s.load(),t.fromVideo(s,i,o)},Xw(t,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isAutoUpdating?(Dr.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Dr.shared.add(this.update,this,zc.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(co.default);vo.default=po;po.fromUrls=po.fromUrl;function Kc(e,t){if(!t){var n=e.split("?").shift().toLowerCase();t="video/"+n.substr(n.lastIndexOf(".")+1)}var r=document.createElement("source");return r.src=e,r.type=t,r}});var mo=T(go=>{f();"use strict";go.__esModule=!0;var Kw=_a(),Me=Zw(Kw);function Zw(e){return e&&e.__esModule?e:{default:e}}function Jw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Qw=function(){function e(){Jw(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(n,r,i){var a=r.width,o=r.height;if(i){var s=n.width/2/a,u=n.height/2/o,l=n.x/a+s,h=n.y/o+u;i=Me.default.add(i,Me.default.NW),this.x0=l+s*Me.default.uX(i),this.y0=h+u*Me.default.uY(i),i=Me.default.add(i,2),this.x1=l+s*Me.default.uX(i),this.y1=h+u*Me.default.uY(i),i=Me.default.add(i,2),this.x2=l+s*Me.default.uX(i),this.y2=h+u*Me.default.uY(i),i=Me.default.add(i,2),this.x3=l+s*Me.default.uX(i),this.y3=h+u*Me.default.uY(i)}else this.x0=n.x/a,this.y0=n.y/o,this.x1=(n.x+n.width)/a,this.y1=n.y/o,this.x2=(n.x+n.width)/a,this.y2=(n.y+n.height)/o,this.x3=n.x/a,this.y3=(n.y+n.height)/o;this.uvsUint32[0]=(Math.round(this.y0*65535)&65535)<<16|Math.round(this.x0*65535)&65535,this.uvsUint32[1]=(Math.round(this.y1*65535)&65535)<<16|Math.round(this.x1*65535)&65535,this.uvsUint32[2]=(Math.round(this.y2*65535)&65535)<<16|Math.round(this.x2*65535)&65535,this.uvsUint32[3]=(Math.round(this.y3*65535)&65535)<<16|Math.round(this.x3*65535)&65535},e}();go.default=Qw});var $e=T(yo=>{f();"use strict";yo.__esModule=!0;var $w=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),eE=Ut(),Je=Fr(eE),tE=_o(),Zc=Fr(tE),rE=mo(),nE=Fr(rE),iE=vt(),aE=Fr(iE),Lr=he(),Le=z(),oE=ae(),sE=Fr(oE);function Fr(e){return e&&e.__esModule?e:{default:e}}function uE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qe=function(e){hE(t,e);function t(n,r,i,a,o,s){uE(this,t);var u=lE(this,e.call(this));if(u.noFrame=!1,r||(u.noFrame=!0,r=new Lr.Rectangle(0,0,1,1)),n instanceof t&&(n=n.baseTexture),u.baseTexture=n,u._frame=r,u.trim=a,u.valid=!1,u.requiresUpdate=!1,u._uvs=null,u.orig=i||r,u._rotate=Number(o||0),o===!0)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(u.noFrame&&(r=new Lr.Rectangle(0,0,n.width,n.height),n.on("update",u.onBaseTextureUpdated,u)),u.frame=r):n.once("loaded",u.onBaseTextureLoaded,u),u.defaultAnchor=s?new Lr.Point(s.x,s.y):new Lr.Point(0,0),u._updateID=0,u.transform=null,u.textureCacheIds=[],u}return t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(r){this._updateID++,this.noFrame?this.frame=new Lr.Rectangle(0,0,r.width,r.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},t.prototype.onBaseTextureUpdated=function(r){this._updateID++,this._frame.width=r.width,this._frame.height=r.height,this.emit("update",this)},t.prototype.destroy=function(r){this.baseTexture&&(r&&(Le.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new nE.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(r,i,a,o){var s=Le.TextureCache[r];return s||(s=new t(Je.default.fromImage(r,i,a,o)),t.addToCache(s,r)),s},t.fromFrame=function(r){var i=Le.TextureCache[r];if(!i)throw new Error('The frameId "'+r+'" does not exist in the texture cache');return i},t.fromCanvas=function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new t(Je.default.fromCanvas(r,i,a))},t.fromVideo=function(r,i,a,o){return typeof r=="string"?t.fromVideoUrl(r,i,a,o):new t(Zc.default.fromVideo(r,i,o))},t.fromVideoUrl=function(r,i,a,o){return new t(Zc.default.fromUrl(r,i,a,o))},t.from=function(r){if(typeof r=="string"){var i=Le.TextureCache[r];if(!i){var a=r.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return a?t.fromVideoUrl(r):t.fromImage(r)}return i}else{if(r instanceof HTMLImageElement)return new t(Je.default.from(r));if(r instanceof HTMLCanvasElement)return t.fromCanvas(r,sE.default.SCALE_MODE,"HTMLCanvasElement");if(r instanceof HTMLVideoElement)return t.fromVideo(r);if(r instanceof Je.default)return new t(r)}return r},t.fromLoader=function(r,i,a){var o=new Je.default(r,void 0,(0,Le.getResolutionOfUrl)(i)),s=new t(o);return o.imageUrl=i,a||(a=i),Je.default.addToCache(s.baseTexture,a),t.addToCache(s,a),a!==i&&(Je.default.addToCache(s.baseTexture,i),t.addToCache(s,i)),s},t.addToCache=function(r,i){i&&(r.textureCacheIds.indexOf(i)===-1&&r.textureCacheIds.push(i),Le.TextureCache[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Le.TextureCache[i]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var i=Le.TextureCache[r];if(i){var a=i.textureCacheIds.indexOf(r);return a>-1&&i.textureCacheIds.splice(a,1),delete Le.TextureCache[r],i}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Le.TextureCache[r.textureCacheIds[o]]===r&&delete Le.TextureCache[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},$w(t,[{key:"frame",get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var i=r.x,a=r.y,o=r.width,s=r.height,u=i+o>this.baseTexture.width,l=a+s>this.baseTexture.height;if(u||l){var h=u&&l?"and":"or",c="X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width,v="Y: "+a+" + "+s+" = "+(a+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+h+" "+v))}this.valid=o&&s&&this.baseTexture.hasLoaded,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),t}(aE.default);yo.default=Qe;function fE(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new Qe(new Je.default(e))}function si(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Qe.EMPTY=new Qe(new Je.default);si(Qe.EMPTY);si(Qe.EMPTY.baseTexture);Qe.WHITE=fE();si(Qe.WHITE);si(Qe.WHITE.baseTexture)});var li=T(To=>{f();"use strict";To.__esModule=!0;var cE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xo=he(),Br=z(),dE=V(),pE=$e(),ui=Jc(pE),vE=ar(),_E=Jc(vE);function Jc(e){return e&&e.__esModule?e:{default:e}}function gE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Nr=new xo.Point,xE=function(e){yE(t,e);function t(n){gE(this,t);var r=mE(this,e.call(this));return r._anchor=new xo.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=dE.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||ui.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,Br.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,Br.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(!(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var r=this._texture,i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=this.vertexData,v=r.trim,p=r.orig,d=this._anchor,_=0,m=0,x=0,y=0;v?(m=v.x-d._x*p.width,_=m+v.width,y=v.y-d._y*p.height,x=y+v.height):(m=-d._x*p.width,_=m+p.width,y=-d._y*p.height,x=y+p.height),c[0]=a*m+s*y+l,c[1]=u*y+o*m+h,c[2]=a*_+s*y+l,c[3]=u*y+o*_+h,c[4]=a*_+s*x+l,c[5]=u*x+o*_+h,c[6]=a*m+s*x+l,c[7]=u*x+o*m+h}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,i=this.vertexTrimmedData,a=r.orig,o=this._anchor,s=this.transform.worldTransform,u=s.a,l=s.b,h=s.c,c=s.d,v=s.tx,p=s.ty,d=-o._x*a.width,_=d+a.width,m=-o._y*a.height,x=m+a.height;i[0]=u*d+h*m+v,i[1]=c*m+l*d+p,i[2]=u*_+h*m+v,i[3]=c*m+l*_+p,i[4]=u*_+h*x+v,i[5]=c*x+l*_+p,i[6]=u*d+h*x+v,i[7]=c*x+l*d+p},t.prototype._renderWebGL=function(r){this.calculateVertices(),r.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(r){r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,i=this._texture.orig;!r||r.width===i.width&&r.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new xo.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Nr);var i=this._texture.orig.width,a=this._texture.orig.height,o=-i*this.anchor.x,s=0;return!!(Nr.x>=o&&Nr.x<o+i&&(s=-a*this.anchor.y,Nr.y>=s&&Nr.y<s+a))},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var i=typeof r=="boolean"?r:r&&r.texture;if(i){var a=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!a)}this._texture=null,this.shader=null},t.from=function(r){return new t(ui.default.from(r))},t.fromFrame=function(r){var i=Br.TextureCache[r];if(!i)throw new Error('The frameId "'+r+'" does not exist in the texture cache');return new t(i)},t.fromImage=function(r,i,a){return new t(ui.default.fromImage(r,i,a))},cE(t,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var i=(0,Br.sign)(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var i=(0,Br.sign)(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r}},{key:"anchor",get:function(){return this._anchor},set:function(r){this._anchor.copy(r)}},{key:"tint",get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture=r||ui.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.hasLoaded?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))}}]),t}(_E.default);To.default=xE});var wo=T(bo=>{f();"use strict";bo.__esModule=!0;var TE=Ut(),bE=$c(TE),wE=ae(),Qc=$c(wE);function $c(e){return e&&e.__esModule?e:{default:e}}function EE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ME(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var OE=function(e){ME(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,i=arguments[2],a=arguments[3];EE(this,t);var o=SE(this,e.call(this,null,i));return o.resolution=a||Qc.default.RESOLUTION,o.width=Math.ceil(n),o.height=Math.ceil(r),o.realWidth=o.width*o.resolution,o.realHeight=o.height*o.resolution,o.scaleMode=i!==void 0?i:Qc.default.SCALE_MODE,o.hasLoaded=!0,o._glRenderTargets={},o._canvasRenderTarget=null,o.valid=!1,o}return t.prototype.resize=function(r,i){r=Math.ceil(r),i=Math.ceil(i),!(r===this.width&&i===this.height)&&(this.valid=r>0&&i>0,this.width=r,this.height=i,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,!!this.valid&&this.emit("update",this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(bE.default);bo.default=OE});var hi=T(So=>{f();"use strict";So.__esModule=!0;var PE=wo(),Eo=ed(PE),RE=$e(),AE=ed(RE);function ed(e){return e&&e.__esModule?e:{default:e}}function CE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LE=function(e){DE(t,e);function t(n,r){CE(this,t);var i=null;if(!(n instanceof Eo.default)){var a=arguments[1],o=arguments[2],s=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,n=new Eo.default(a,o,s,u)}var l=IE(this,e.call(this,n,r));return l.legacyRenderer=i,l.valid=!0,l._updateUvs(),l}return t.prototype.resize=function(r,i,a){r=Math.ceil(r),i=Math.ceil(i),this.valid=r>0&&i>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=i,a||this.baseTexture.resize(r,i),this._updateUvs()},t.create=function(r,i,a,o){return new t(new Eo.default(r,i,a,o))},t}(AE.default);So.default=LE});var Ao=T(Ro=>{f();"use strict";Ro.__esModule=!0;var FE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mo=z(),td=he(),rd=V(),BE=ae(),Oo=fi(BE),NE=ar(),kE=fi(NE),qE=hi(),UE=fi(qE),GE=vt(),XE=fi(GE);function fi(e){return e&&e.__esModule?e:{default:e}}function WE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function VE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Po=new td.Matrix,YE=function(e){VE(t,e);function t(n,r,i,a){WE(this,t);var o=HE(this,e.call(this));return(0,Mo.sayHello)(n),typeof r=="number"&&(r=Object.assign({width:r,height:i||Oo.default.RENDER_OPTIONS.height},a)),r=Object.assign({},Oo.default.RENDER_OPTIONS,r),o.options=r,o.type=rd.RENDERER_TYPE.UNKNOWN,o.screen=new td.Rectangle(0,0,r.width,r.height),o.view=r.view||document.createElement("canvas"),o.resolution=r.resolution||Oo.default.RESOLUTION,o.transparent=r.transparent,o.autoResize=r.autoResize||!1,o.blendModes=null,o.preserveDrawingBuffer=r.preserveDrawingBuffer,o.clearBeforeRender=r.clearBeforeRender,o.roundPixels=r.roundPixels,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,0],o._backgroundColorString="#000000",o.backgroundColor=r.backgroundColor||o._backgroundColor,o._tempDisplayObjectParent=new kE.default,o._lastObjectRendered=o._tempDisplayObjectParent,o}return t.prototype.resize=function(r,i){this.screen.width=r,this.screen.height=i,this.view.width=r*this.resolution,this.view.height=i*this.resolution,this.autoResize&&(this.view.style.width=r+"px",this.view.style.height=i+"px")},t.prototype.generateTexture=function(r,i,a,o){o=o||r.getLocalBounds();var s=UE.default.create(o.width|0,o.height|0,i,a);return Po.tx=-o.x,Po.ty=-o.y,this.render(r,s,!1,Po,!!r.parent),s},t.prototype.destroy=function(r){r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=rd.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},FE(t,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=(0,Mo.hex2string)(r),(0,Mo.hex2rgb)(r,this._backgroundColorRgba)}}]),t}(XE.default);Ro.default=YE});var nd=T(Co=>{f();"use strict";Co.__esModule=!0;var kr=V();function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jE=function(){function e(t){zE(this,e),this.renderer=t}return e.prototype.pushMask=function(n){var r=this.renderer;r.context.save();var i=n.alpha,a=n.transform.worldTransform,o=r.resolution;r.context.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o,a.ty*o),n._texture||(this.renderGraphicsShape(n),r.context.clip()),n.worldAlpha=i},e.prototype.renderGraphicsShape=function(n){var r=this.renderer.context,i=n.graphicsData.length;if(i!==0){r.beginPath();for(var a=0;a<i;a++){var o=n.graphicsData[a],s=o.shape;if(o.type===kr.SHAPES.POLY){var u=s.points,l=o.holes,h=void 0,c=void 0;r.moveTo(u[0],u[1]);for(var v=2;v<u.length;v+=2)r.lineTo(u[v],u[v+1]);if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&r.closePath(),l.length>0){h=0;for(var p=0;p<u.length;p+=2)h+=u[p]*u[p+3]-u[p+1]*u[p+2];for(var d=0;d<l.length;d++){u=l[d].points,c=0;for(var _=0;_<u.length;_+=2)c+=u[_]*u[_+3]-u[_+1]*u[_+2];if(r.moveTo(u[0],u[1]),c*h<0)for(var m=2;m<u.length;m+=2)r.lineTo(u[m],u[m+1]);else for(var x=u.length-2;x>=2;x-=2)r.lineTo(u[x],u[x+1])}}}else if(o.type===kr.SHAPES.RECT)r.rect(s.x,s.y,s.width,s.height),r.closePath();else if(o.type===kr.SHAPES.CIRC)r.arc(s.x,s.y,s.radius,0,2*Math.PI),r.closePath();else if(o.type===kr.SHAPES.ELIP){var y=s.width*2,b=s.height*2,w=s.x-y/2,E=s.y-b/2,P=.5522848,A=y/2*P,S=b/2*P,R=w+y,I=E+b,D=w+y/2,q=E+b/2;r.moveTo(w,q),r.bezierCurveTo(w,q-S,D-A,E,D,E),r.bezierCurveTo(D+A,E,R,q-S,R,q),r.bezierCurveTo(R,q+S,D+A,I,D,I),r.bezierCurveTo(D-A,I,w,q+S,w,q),r.closePath()}else if(o.type===kr.SHAPES.RREC){var L=s.x,C=s.y,k=s.width,F=s.height,U=s.radius,X=Math.min(k,F)/2|0;U=U>X?X:U,r.moveTo(L,C+U),r.lineTo(L,C+F-U),r.quadraticCurveTo(L,C+F,L+U,C+F),r.lineTo(L+k-U,C+F),r.quadraticCurveTo(L+k,C+F,L+k,C+F-U),r.lineTo(L+k,C+U),r.quadraticCurveTo(L+k,C,L+k-U,C),r.lineTo(L+U,C),r.quadraticCurveTo(L,C,L,C+U),r.closePath()}}}},e.prototype.popMask=function(n){n.context.restore(),n.invalidateBlendMode()},e.prototype.destroy=function(){},e}();Co.default=jE});var Do=T(Io=>{f();"use strict";Io.__esModule=!0;var KE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ZE=ae(),JE=QE(ZE);function QE(e){return e&&e.__esModule?e:{default:e}}function $E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var eS=function(){function e(t,n,r){$E(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||JE.default.RESOLUTION,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(n,r){this.canvas.width=n*this.resolution,this.canvas.height=r*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},KE(e,[{key:"width",get:function(){return this.canvas.width},set:function(n){this.canvas.width=n}},{key:"height",get:function(){return this.canvas.height},set:function(n){this.canvas.height=n}}]),e}();Io.default=eS});var Fo=T(Lo=>{f();"use strict";Lo.__esModule=!0;Lo.default=tS;function id(e){var t=document.createElement("canvas");t.width=6,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}function tS(){if(typeof document=="undefined")return!1;var e=id("#ff00ff"),t=id("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(e,0,0),r.drawImage(t,2,0);var i=r.getImageData(2,0,1,1);if(!i)return!1;var a=i.data;return a[0]===255&&a[1]===0&&a[2]===0}});var ad=T(Bo=>{f();"use strict";Bo.__esModule=!0;Bo.default=aS;var G=V(),rS=Fo(),nS=iS(rS);function iS(e){return e&&e.__esModule?e:{default:e}}function aS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,nS.default)()?(e[G.BLEND_MODES.NORMAL]="source-over",e[G.BLEND_MODES.ADD]="lighter",e[G.BLEND_MODES.MULTIPLY]="multiply",e[G.BLEND_MODES.SCREEN]="screen",e[G.BLEND_MODES.OVERLAY]="overlay",e[G.BLEND_MODES.DARKEN]="darken",e[G.BLEND_MODES.LIGHTEN]="lighten",e[G.BLEND_MODES.COLOR_DODGE]="color-dodge",e[G.BLEND_MODES.COLOR_BURN]="color-burn",e[G.BLEND_MODES.HARD_LIGHT]="hard-light",e[G.BLEND_MODES.SOFT_LIGHT]="soft-light",e[G.BLEND_MODES.DIFFERENCE]="difference",e[G.BLEND_MODES.EXCLUSION]="exclusion",e[G.BLEND_MODES.HUE]="hue",e[G.BLEND_MODES.SATURATION]="saturate",e[G.BLEND_MODES.COLOR]="color",e[G.BLEND_MODES.LUMINOSITY]="luminosity"):(e[G.BLEND_MODES.NORMAL]="source-over",e[G.BLEND_MODES.ADD]="lighter",e[G.BLEND_MODES.MULTIPLY]="source-over",e[G.BLEND_MODES.SCREEN]="source-over",e[G.BLEND_MODES.OVERLAY]="source-over",e[G.BLEND_MODES.DARKEN]="source-over",e[G.BLEND_MODES.LIGHTEN]="source-over",e[G.BLEND_MODES.COLOR_DODGE]="source-over",e[G.BLEND_MODES.COLOR_BURN]="source-over",e[G.BLEND_MODES.HARD_LIGHT]="source-over",e[G.BLEND_MODES.SOFT_LIGHT]="source-over",e[G.BLEND_MODES.DIFFERENCE]="source-over",e[G.BLEND_MODES.EXCLUSION]="source-over",e[G.BLEND_MODES.HUE]="source-over",e[G.BLEND_MODES.SATURATION]="source-over",e[G.BLEND_MODES.COLOR]="source-over",e[G.BLEND_MODES.LUMINOSITY]="source-over"),e[G.BLEND_MODES.NORMAL_NPM]=e[G.BLEND_MODES.NORMAL],e[G.BLEND_MODES.ADD_NPM]=e[G.BLEND_MODES.ADD],e[G.BLEND_MODES.SCREEN_NPM]=e[G.BLEND_MODES.SCREEN],e}});var sr=T(No=>{f();"use strict";No.__esModule=!0;var oS=Ao(),sS=qr(oS),uS=nd(),lS=qr(uS),hS=Do(),fS=qr(hS),cS=ad(),dS=qr(cS),pS=z(),ci=V(),vS=ae(),_S=qr(vS);function qr(e){return e&&e.__esModule?e:{default:e}}function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var od=function(e){yS(t,e);function t(n,r,i){gS(this,t);var a=mS(this,e.call(this,"Canvas",n,r,i));return a.type=ci.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new lS.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,dS.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return t.prototype.render=function(r,i,a,o,s){if(!!this.view){this.renderingToScreen=!i,this.emit("prerender");var u=this.resolution;i?(i=i.baseTexture||i,i._canvasRenderTarget||(i._canvasRenderTarget=new fS.default(i.width,i.height,i.resolution),i.source=i._canvasRenderTarget.canvas,i.valid=!0),this.context=i._canvasRenderTarget.context,this.resolution=i._canvasRenderTarget.resolution):this.context=this.rootContext;var l=this.context;if(i||(this._lastObjectRendered=r),!s){var h=r.parent,c=this._tempDisplayObjectParent.transform.worldTransform;o?(o.copy(c),this._tempDisplayObjectParent.transform._worldID=-1):c.identity(),r.parent=this._tempDisplayObjectParent,r.updateTransform(),r.parent=h}l.save(),l.setTransform(1,0,0,1,0,0),l.globalAlpha=1,this._activeBlendMode=ci.BLEND_MODES.NORMAL,l.globalCompositeOperation=this.blendModes[ci.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(l.fillStyle="black",l.clear()),(a!==void 0?a:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?l.clearRect(0,0,this.width,this.height):(l.fillStyle=this._backgroundColorString,l.fillRect(0,0,this.width,this.height)));var v=this.context;this.context=l,r.renderCanvas(this),this.context=v,l.restore(),this.resolution=u,this.emit("postrender")}},t.prototype.clear=function(r){var i=this.context;r=r||this._backgroundColorString,!this.transparent&&r?(i.fillStyle=r,i.fillRect(0,0,this.width,this.height)):i.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(r){this._activeBlendMode!==r&&(this._activeBlendMode=r,this.context.globalCompositeOperation=this.blendModes[r])},t.prototype.destroy=function(r){this.destroyPlugins(),e.prototype.destroy.call(this,r),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(r,i){e.prototype.resize.call(this,r,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=_S.default.SCALE_MODE===ci.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(sS.default);No.default=od;pS.pluginTarget.mixin(od)});var Ur=T(qo=>{f();"use strict";qo.__esModule=!0;var ko=z(),xS=Fo(),TS=bS(xS);function bS(e){return e&&e.__esModule?e:{default:e}}var Fe={getTintedTexture:function(t,n){var r=t._texture;n=Fe.roundColor(n);var i="#"+("00000"+(n|0).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var a=r.tintCache[i],o=void 0;if(a){if(a.tintId===r._updateID)return r.tintCache[i];o=r.tintCache[i]}else o=Fe.canvas||document.createElement("canvas");if(Fe.tintMethod(r,n,o),o.tintId=r._updateID,Fe.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,Fe.canvas=null;return o},tintWithMultiply:function(t,n,r){var i=r.getContext("2d"),a=t._frame.clone(),o=t.baseTexture.resolution;a.x*=o,a.y*=o,a.width*=o,a.height*=o,r.width=Math.ceil(a.width),r.height=Math.ceil(a.height),i.save(),i.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.restore()},tintWithOverlay:function(t,n,r){var i=r.getContext("2d"),a=t._frame.clone(),o=t.baseTexture.resolution;a.x*=o,a.y*=o,a.width*=o,a.height*=o,r.width=Math.ceil(a.width),r.height=Math.ceil(a.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(n|0).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.restore()},tintWithPerPixel:function(t,n,r){var i=r.getContext("2d"),a=t._frame.clone(),o=t.baseTexture.resolution;a.x*=o,a.y*=o,a.width*=o,a.height*=o,r.width=Math.ceil(a.width),r.height=Math.ceil(a.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.restore();for(var s=(0,ko.hex2rgb)(n),u=s[0],l=s[1],h=s[2],c=i.getImageData(0,0,a.width,a.height),v=c.data,p=0;p<v.length;p+=4)v[p+0]*=u,v[p+1]*=l,v[p+2]*=h;i.putImageData(c,0,0)},roundColor:function(t){var n=Fe.cacheStepsPerColorChannel,r=(0,ko.hex2rgb)(t);return r[0]=Math.min(255,r[0]/n*n),r[1]=Math.min(255,r[1]/n*n),r[2]=Math.min(255,r[2]/n*n),(0,ko.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,TS.default)(),tintMethod:0};Fe.tintMethod=Fe.canUseMultiply?Fe.tintWithMultiply:Fe.tintWithPerPixel;qo.default=Fe});var fd=T(Uo=>{f();"use strict";Uo.__esModule=!0;var wS=sr(),ES=ud(wS),SS=V(),sd=he(),MS=Ur(),OS=ud(MS);function ud(e){return e&&e.__esModule?e:{default:e}}function PS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ld=new sd.Matrix,hd=function(){function e(t){PS(this,e),this.renderer=t}return e.prototype.render=function(n){var r=n._texture,i=this.renderer,a=r._frame.width,o=r._frame.height,s=n.transform.worldTransform,u=0,l=0;if(!(r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source)&&(i.setBlendMode(n.blendMode),r.valid)){i.context.globalAlpha=n.worldAlpha;var h=r.baseTexture.scaleMode===SS.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==h&&(i.context[i.smoothProperty]=h),r.trim?(u=r.trim.width/2+r.trim.x-n.anchor.x*r.orig.width,l=r.trim.height/2+r.trim.y-n.anchor.y*r.orig.height):(u=(.5-n.anchor.x)*r.orig.width,l=(.5-n.anchor.y)*r.orig.height),r.rotate&&(s.copy(ld),s=ld,sd.GroupD8.matrixAppendRotationInv(s,r.rotate,u,l),u=0,l=0),u-=a/2,l-=o/2,i.roundPixels?(i.context.setTransform(s.a,s.b,s.c,s.d,s.tx*i.resolution|0,s.ty*i.resolution|0),u=u|0,l=l|0):i.context.setTransform(s.a,s.b,s.c,s.d,s.tx*i.resolution,s.ty*i.resolution);var c=r.baseTexture.resolution;n.tint!==16777215?((n.cachedTint!==n.tint||n.tintedTexture.tintId!==n._texture._updateID)&&(n.cachedTint=n.tint,n.tintedTexture=OS.default.getTintedTexture(n,n.tint)),i.context.drawImage(n.tintedTexture,0,0,a*c,o*c,u*i.resolution,l*i.resolution,a*i.resolution,o*i.resolution)):i.context.drawImage(r.baseTexture.source,r._frame.x*c,r._frame.y*c,a*c,o*c,u*i.resolution,l*i.resolution,a*i.resolution,o*i.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();Uo.default=hd;ES.default.registerPlugin("sprite",hd)});var ur=T(Go=>{f();"use strict";Go.__esModule=!0;function RS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var AS=function(){function e(t){RS(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();Go.default=AS});var Gr=T(Xo=>{f();"use strict";Xo.__esModule=!0;var CS=ur(),IS=DS(CS);function DS(e){return e&&e.__esModule?e:{default:e}}function LS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NS=function(e){BS(t,e);function t(){return LS(this,t),FS(this,e.apply(this,arguments))}return t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(r){},t}(IS.default);Xo.default=NS});var dd=T(Wo=>{f();"use strict";Wo.__esModule=!0;Wo.default=XS;var kS=Se(),qS=US(kS);function US(e){return e&&e.__esModule?e:{default:e}}var GS=qS.default.shader.defaultValue;function XS(e,t,n){var r=cd(e,n),i=cd(t,n);return Object.assign(r,i)}function cd(e){for(var t=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},r=void 0,i=e.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<i.length;a++){var o=i[a].trim();if(o.indexOf("uniform")>-1){var s=o.split(" "),u=s[1],l=s[2],h=1;l.indexOf("[")>-1&&(r=l.split(/\[|]/),l=r[0],h*=Number(r[1])),l.match(t)||(n[l]={value:GS(u,h),name:l,type:u})}}return n}});var Yo=T(Vo=>{f();"use strict";Vo.__esModule=!0;var WS=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),HS=dd(),VS=pd(HS),YS=z(),zS=V(),jS=ae(),KS=pd(jS);function pd(e){return e&&e.__esModule?e:{default:e}}function ZS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ho={},JS=function(){function e(t,n,r){ZS(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this._blendMode=zS.BLEND_MODES.NORMAL,this.uniformData=r||(0,VS.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var i in this.uniformData)this.uniforms[i]=this.uniformData[i].value,this.uniformData[i].type&&(this.uniformData[i].type=this.uniformData[i].type.toLowerCase());this.glShaders={},Ho[this.vertexSrc+this.fragmentSrc]||(Ho[this.vertexSrc+this.fragmentSrc]=(0,YS.uid)()),this.glShaderKey=Ho[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=KS.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(n,r,i,a,o){n.applyFilter(this,r,i,a)},WS(e,[{key:"blendMode",get:function(){return this._blendMode},set:function(n){this._blendMode=n}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),e}();Vo.default=JS});var jo=T(zo=>{f();"use strict";zo.__esModule=!0;var QS=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$S=kn(),vd=eM($S);function eM(e){return e&&e.__esModule?e:{default:e}}function tM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _d=new vd.default,rM=function(){function e(t,n){tM(this,e),this._texture=t,this.mapCoord=new vd.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof n=="undefined"?.5:n}return e.prototype.multiplyUvs=function(n,r){r===void 0&&(r=n);for(var i=this.mapCoord,a=0;a<n.length;a+=2){var o=n[a],s=n[a+1];r[a]=o*i.a+s*i.c+i.tx,r[a+1]=o*i.b+s*i.d+i.ty}return r},e.prototype.update=function(n){var r=this._texture;if(!r||!r.valid||!n&&this._lastTextureID===r._updateID)return!1;this._lastTextureID=r._updateID;var i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var a=r.orig,o=r.trim;o&&(_d.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(_d));var s=r.baseTexture,u=this.uClampFrame,l=this.clampMargin/s.resolution,h=this.clampOffset;return u[0]=(r._frame.x+l+h)/s.width,u[1]=(r._frame.y+l+h)/s.height,u[2]=(r._frame.x+r._frame.width-l+h)/s.width,u[3]=(r._frame.y+r._frame.height-l+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,!0},QS(e,[{key:"texture",get:function(){return this._texture},set:function(n){this._texture=n,this._lastTextureID=-1}}]),e}();zo.default=rM});var Zo=T(Ko=>{f();"use strict";Ko.__esModule=!0;var nM=Yo(),iM=gd(nM),aM=he(),b5=Pe("path"),oM=jo(),sM=gd(oM);function gd(e){return e&&e.__esModule?e:{default:e}}function uM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fM=function(e){hM(t,e);function t(n){uM(this,t);var r=new aM.Matrix,i=lM(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return n.renderable=!1,i.maskSprite=n,i.maskMatrix=r,i}return t.prototype.apply=function(r,i,a,o){var s=this.maskSprite,u=this.maskSprite.texture;!u.valid||(u.transform||(u.transform=new sM.default(u,0)),u.transform.update(),this.uniforms.mask=u,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,s).prepend(u.transform.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=u.transform.uClampFrame,r.applyFilter(this,i,a,o))},t}(iM.default);Ko.default=fM});var yd=T(Jo=>{f();"use strict";Jo.__esModule=!0;var cM=ur(),dM=md(cM),pM=Zo(),vM=md(pM);function md(e){return e&&e.__esModule?e:{default:e}}function _M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yM=function(e){mM(t,e);function t(n){_M(this,t);var r=gM(this,e.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return t.prototype.pushMask=function(r,i){if(i.texture)this.pushSpriteMask(r,i);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&i.isFastRect()){var a=i.worldTransform,o=Math.atan2(a.b,a.a);o=Math.round(o*(180/Math.PI)),o%90?this.pushStencilMask(i):this.pushScissorMask(r,i)}else this.pushStencilMask(i)},t.prototype.popMask=function(r,i){i.texture?this.popSpriteMask(r,i):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(r,i):this.popStencilMask(r,i)},t.prototype.pushSpriteMask=function(r,i){var a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new vM.default(i)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=i;var o=r.filterArea;r.filterArea=i.getBounds(!0),this.renderer.filterManager.pushFilter(r,a),r.filterArea=o,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(r){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(r)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(r,i){i.renderable=!0;var a=this.renderer._activeRenderTarget,o=i.getBounds();o.fit(a.size),i.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var s=this.renderer.resolution;this.renderer.gl.scissor(o.x*s,(a.root?a.size.height-o.y-o.height:o.y)*s,o.width*s,o.height*s),this.scissorRenderTarget=a,this.scissorData=i,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var r=this.renderer.gl;r.disable(r.SCISSOR_TEST)},t}(dM.default);Jo.default=yM});var Td=T(Qo=>{f();"use strict";Qo.__esModule=!0;var xM=ur(),xd=TM(xM);function TM(e){return e&&e.__esModule?e:{default:e}}function bM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function EM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SM=function(e){EM(t,e);function t(n){bM(this,t);var r=wM(this,e.call(this,n));return r.stencilMaskStack=null,r}return t.prototype.setMaskStack=function(r){this.stencilMaskStack=r;var i=this.renderer.gl;r.length===0?i.disable(i.STENCIL_TEST):i.enable(i.STENCIL_TEST)},t.prototype.pushStencil=function(r){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var i=this.renderer.gl,a=this.stencilMaskStack.length;a===0&&i.enable(i.STENCIL_TEST),this.stencilMaskStack.push(r),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),this.renderer.plugins.graphics.render(r),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var r=this.renderer.gl,i=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),this.renderer.plugins.graphics.render(i),this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){xd.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(xd.default);Qo.default=SM});var Xr=T(es=>{f();"use strict";es.__esModule=!0;var $o=he(),MM=V(),OM=ae(),bd=PM(OM),wd=Se();function PM(e){return e&&e.__esModule?e:{default:e}}function RM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var AM=function(){function e(t,n,r,i,a,o){RM(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new $o.Rectangle(0,0,1,1),this.resolution=a||bd.default.RESOLUTION,this.projectionMatrix=new $o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new $o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=i!==void 0?i:bd.default.SCALE_MODE,this.root=o||!1,this.root?(this.frameBuffer=new wd.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=wd.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===MM.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return e.prototype.clear=function(n){var r=n||this.clearColor;this.frameBuffer.clear(r[0],r[1],r[2],r[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(n,r){this.destinationFrame=n||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var n=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(n.enable(n.SCISSOR_TEST),n.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):n.disable(n.SCISSOR_TEST),n.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},e.prototype.calculateProjection=function(n,r){var i=this.projectionMatrix;r=r||n,i.identity(),this.root?(i.a=1/n.width*2,i.d=-1/n.height*2,i.tx=-1-r.x*i.a,i.ty=1-r.y*i.d):(i.a=1/n.width*2,i.d=1/n.height*2,i.tx=-1-r.x*i.a,i.ty=-1-r.y*i.d)},e.prototype.resize=function(n,r){if(n=n|0,r=r|0,!(this.size.width===n&&this.size.height===r)){this.size.width=n,this.size.height=r,this.defaultFrame.width=n,this.defaultFrame.height=r,this.frameBuffer.resize(n*this.resolution,r*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},e.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();es.default=AM});var di=T(ts=>{f();"use strict";ts.__esModule=!0;ts.default=CM;function CM(e){for(var t=e*6,n=new Uint16Array(t),r=0,i=0;r<t;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}});var is=T(ns=>{f();"use strict";ns.__esModule=!0;var IM=Se(),rs=Ed(IM),DM=di(),LM=Ed(DM);function Ed(e){return e&&e.__esModule?e:{default:e}}function FM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var BM=function(){function e(t,n){FM(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(8*2);for(var r=0;r<4;r++)this.interleaved[r*4]=this.vertices[r*2],this.interleaved[r*4+1]=this.vertices[r*2+1],this.interleaved[r*4+2]=this.uvs[r*2],this.interleaved[r*4+3]=this.uvs[r*2+1];this.indices=(0,LM.default)(1),this.vertexBuffer=rs.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=rs.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new rs.default.VertexArrayObject(t,n)}return e.prototype.initVao=function(n){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,n.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,n.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)},e.prototype.map=function(n,r){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+r.width/n.width,this.uvs[3]=a,this.uvs[4]=i+r.width/n.width,this.uvs[5]=a+r.height/n.height,this.uvs[6]=i,this.uvs[7]=a+r.height/n.height,i=r.x,a=r.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+r.width,this.vertices[3]=a,this.vertices[4]=i+r.width,this.vertices[5]=a+r.height,this.vertices[6]=i,this.vertices[7]=a+r.height,this},e.prototype.upload=function(){for(var n=0;n<4;n++)this.interleaved[n*4]=this.vertices[n*2],this.interleaved[n*4+1]=this.vertices[n*2+1],this.interleaved[n*4+2]=this.uvs[n*2],this.interleaved[n*4+3]=this.uvs[n*2+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var n=this.gl;n.deleteBuffer(this.vertexBuffer),n.deleteBuffer(this.indexBuffer)},e}();ns.default=BM});var lr=T(as=>{f();"use strict";as.__esModule=!0;var NM=Se(),kM=ae(),Sd=qM(kM);function qM(e){return e&&e.__esModule?e:{default:e}}function UM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Md(e,t){if(e instanceof Array){if(e[0].substring(0,9)!=="precision"){var n=e.slice(0);return n.unshift("precision "+t+" float;"),n}}else if(e.trim().substring(0,9)!=="precision")return"precision "+t+` float;
`+e;return e}var WM=function(e){XM(t,e);function t(n,r,i,a,o){return UM(this,t),GM(this,e.call(this,n,Md(r,o||Sd.default.PRECISION_VERTEX),Md(i,o||Sd.default.PRECISION_FRAGMENT),void 0,a))}return t}(NM.GLShader);as.default=WM});var Od=T(Wr=>{f();"use strict";Wr.__esModule=!0;Wr.calculateScreenSpaceMatrix=VM;Wr.calculateNormalizedScreenSpaceMatrix=YM;Wr.calculateSpriteMatrix=zM;var HM=he();function VM(e,t,n){var r=e.identity();return r.translate(t.x/n.width,t.y/n.height),r.scale(n.width,n.height),r}function YM(e,t,n){var r=e.identity();r.translate(t.x/n.width,t.y/n.height);var i=n.width/t.width,a=n.height/t.height;return r.scale(i,a),r}function zM(e,t,n,r){var i=r._texture.orig,a=e.set(n.width,0,0,n.height,t.x,t.y),o=r.worldTransform.copy(HM.Matrix.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/i.width,1/i.height),a.translate(r.anchor.x,r.anchor.y),a}});var Dd=T(us=>{f();"use strict";us.__esModule=!0;var jM=ur(),KM=Hr(jM),ZM=Xr(),JM=Hr(ZM),QM=is(),$M=Hr(QM),Pd=he(),eO=lr(),Rd=Hr(eO),tO=Od(),os=nO(tO),rO=ni(),Ad=Hr(rO);function nO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Hr(e){return e&&e.__esModule?e:{default:e}}function iO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Id=function(){function e(){Cd(this,e),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new Pd.Rectangle,this.destinationFrame=new Pd.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},e}(),ss="screen",oO=function(e){aO(t,e);function t(n){Cd(this,t);var r=iO(this,e.call(this,n));return r.gl=r.renderer.gl,r.quad=new $M.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on("prerender",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return t.prototype.pushFilter=function(r,i){var a=this.renderer,o=this.filterData;if(!o){o=this.renderer._activeRenderTarget.filterStack;var s=new Id;s.sourceFrame=s.destinationFrame=this.renderer._activeRenderTarget.size,s.renderTarget=a._activeRenderTarget,this.renderer._activeRenderTarget.filterData=o={index:0,stack:[s]},this.filterData=o}var u=o.stack[++o.index],l=o.stack[0].destinationFrame;u||(u=o.stack[o.index]=new Id);var h=r.filterArea&&r.filterArea.x===0&&r.filterArea.y===0&&r.filterArea.width===a.screen.width&&r.filterArea.height===a.screen.height,c=i[0].resolution,v=i[0].padding|0,p=h?a.screen:r.filterArea||r.getBounds(!0),d=u.sourceFrame,_=u.destinationFrame;d.x=(p.x*c|0)/c,d.y=(p.y*c|0)/c,d.width=(p.width*c|0)/c,d.height=(p.height*c|0)/c,h||(o.stack[0].renderTarget.transform||i[0].autoFit&&d.fit(l),d.pad(v)),_.width=d.width,_.height=d.height;var m=this.getPotRenderTarget(a.gl,d.width,d.height,c);u.target=r,u.filters=i,u.resolution=c,u.renderTarget=m,m.setFrame(_,d),a.bindRenderTarget(m),m.clear()},t.prototype.popFilter=function(){var r=this.filterData,i=r.stack[r.index-1],a=r.stack[r.index];this.quad.map(a.renderTarget.size,a.sourceFrame).upload();var o=a.filters;if(o.length===1)o[0].apply(this,a.renderTarget,i.renderTarget,!1,a),this.freePotRenderTarget(a.renderTarget);else{var s=a.renderTarget,u=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,a.resolution);u.setFrame(a.destinationFrame,a.sourceFrame),u.clear();var l=0;for(l=0;l<o.length-1;++l){o[l].apply(this,s,u,!0,a);var h=s;s=u,u=h}o[l].apply(this,s,i.renderTarget,!1,a),this.freePotRenderTarget(s),this.freePotRenderTarget(u)}a.clear(),r.index--,r.index===0&&(this.filterData=null)},t.prototype.applyFilter=function(r,i,a,o){var s=this.renderer,u=s.gl,l=r.glShaders[s.CONTEXT_UID];l||(r.glShaderKey?(l=this.shaderCache[r.glShaderKey],l||(l=new Rd.default(this.gl,r.vertexSrc,r.fragmentSrc),r.glShaders[s.CONTEXT_UID]=this.shaderCache[r.glShaderKey]=l,this.managedFilters.push(r))):(l=r.glShaders[s.CONTEXT_UID]=new Rd.default(this.gl,r.vertexSrc,r.fragmentSrc),this.managedFilters.push(r)),s.bindVao(null),this.quad.initVao(l)),s.bindVao(this.quad.vao),s.bindRenderTarget(a),o&&(u.disable(u.SCISSOR_TEST),s.clear(),u.enable(u.SCISSOR_TEST)),a===s.maskManager.scissorRenderTarget&&s.maskManager.pushScissorMask(null,s.maskManager.scissorData),s.bindShader(l);var h=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=h,this.syncUniforms(l,r),s.state.setBlendMode(r.blendMode),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,i.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),u.bindTexture(u.TEXTURE_2D,h._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(r,i){var a=i.uniformData,o=i.uniforms,s=1,u=void 0;if(r.uniforms.filterArea){u=this.filterData.stack[this.filterData.index];var l=r.uniforms.filterArea;l[0]=u.renderTarget.size.width,l[1]=u.renderTarget.size.height,l[2]=u.sourceFrame.x,l[3]=u.sourceFrame.y,r.uniforms.filterArea=l}if(r.uniforms.filterClamp){u=u||this.filterData.stack[this.filterData.index];var h=r.uniforms.filterClamp;h[0]=0,h[1]=0,h[2]=(u.sourceFrame.width-1)/u.renderTarget.size.width,h[3]=(u.sourceFrame.height-1)/u.renderTarget.size.height,r.uniforms.filterClamp=h}for(var c in a)if(!!r.uniforms.data[c]){var v=a[c].type;if(v==="sampler2d"&&o[c]!==0){if(o[c].baseTexture)r.uniforms[c]=this.renderer.bindTexture(o[c].baseTexture,s);else{r.uniforms[c]=s;var p=this.renderer.gl;this.renderer.boundTextures[s]=this.renderer.emptyTextures[s],p.activeTexture(p.TEXTURE0+s),o[c].texture.bind()}s++}else if(v==="mat3")o[c].a!==void 0?r.uniforms[c]=o[c].toArray(!0):r.uniforms[c]=o[c];else if(v==="vec2")if(o[c].x!==void 0){var d=r.uniforms[c]||new Float32Array(2);d[0]=o[c].x,d[1]=o[c].y,r.uniforms[c]=d}else r.uniforms[c]=o[c];else v==="float"?r.uniforms.data[c].value!==a[c]&&(r.uniforms[c]=o[c]):r.uniforms[c]=o[c]}},t.prototype.getRenderTarget=function(r,i){var a=this.filterData.stack[this.filterData.index],o=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,i||a.resolution);return o.setFrame(a.destinationFrame,a.sourceFrame),o},t.prototype.returnRenderTarget=function(r){this.freePotRenderTarget(r)},t.prototype.calculateScreenSpaceMatrix=function(r){var i=this.filterData.stack[this.filterData.index];return os.calculateScreenSpaceMatrix(r,i.sourceFrame,i.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(r){var i=this.filterData.stack[this.filterData.index];return os.calculateNormalizedScreenSpaceMatrix(r,i.sourceFrame,i.renderTarget.size,i.destinationFrame)},t.prototype.calculateSpriteMatrix=function(r,i){var a=this.filterData.stack[this.filterData.index];return os.calculateSpriteMatrix(r,a.sourceFrame,a.renderTarget.size,i)},t.prototype.destroy=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.renderer,a=this.managedFilters;i.off("prerender",this.onPrerender,this);for(var o=0;o<a.length;o++)r||a[o].glShaders[i.CONTEXT_UID].destroy(),delete a[o].glShaders[i.CONTEXT_UID];this.shaderCache={},r?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(r,i,a,o){var s=ss;i*=o,a*=o,(i!==this._screenWidth||a!==this._screenHeight)&&(i=Ad.default.nextPow2(i),a=Ad.default.nextPow2(a),s=(i&65535)<<16|a&65535),this.pool[s]||(this.pool[s]=[]);var u=this.pool[s].pop();if(!u){var l=this.renderer.boundTextures[0];r.activeTexture(r.TEXTURE0),u=new JM.default(r,i,a,null,1),r.bindTexture(r.TEXTURE_2D,l._glTextures[this.renderer.CONTEXT_UID].texture)}return u.resolution=o,u.defaultFrame.width=u.size.width=i/o,u.defaultFrame.height=u.size.height=a/o,u.filterPoolKey=s,u},t.prototype.emptyPool=function(){for(var r in this.pool){var i=this.pool[r];if(i)for(var a=0;a<i.length;a++)i[a].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(r){this.pool[r.filterPoolKey].push(r)},t.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var r=this.pool[ss];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.pool[ss]=[]}},t}(KM.default);us.default=oO});var Ld=T(hs=>{f();"use strict";hs.__esModule=!0;var sO=Se(),ls=V(),uO=Xr(),lO=fO(uO),hO=z();function fO(e){return e&&e.__esModule?e:{default:e}}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var dO=function(){function e(t){cO(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(n,r){var i=this.gl,a=!!n._glRenderTargets;if(!n.hasLoaded)return null;var o=this.renderer.boundTextures;if(r===void 0){r=0;for(var s=0;s<o.length;++s)if(o[s]===n){r=s;break}}o[r]=n,i.activeTexture(i.TEXTURE0+r);var u=n._glTextures[this.renderer.CONTEXT_UID];if(u)a?n._glRenderTargets[this.renderer.CONTEXT_UID].resize(n.width,n.height):u.upload(n.source);else{if(a){var l=new lO.default(this.gl,n.width,n.height,n.scaleMode,n.resolution);l.resize(n.width,n.height),n._glRenderTargets[this.renderer.CONTEXT_UID]=l,u=l.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else u=new sO.GLTexture(this.gl,null,null,null,null),u.bind(r),u.premultiplyAlpha=!0,u.upload(n.source);n._glTextures[this.renderer.CONTEXT_UID]=u,n.on("update",this.updateTexture,this),n.on("dispose",this.destroyTexture,this),this._managedTextures.push(n),n.isPowerOfTwo?(n.mipmap&&u.enableMipmap(),n.wrapMode===ls.WRAP_MODES.CLAMP?u.enableWrapClamp():n.wrapMode===ls.WRAP_MODES.REPEAT?u.enableWrapRepeat():u.enableWrapMirrorRepeat()):u.enableWrapClamp(),n.scaleMode===ls.SCALE_MODES.NEAREST?u.enableNearestScaling():u.enableLinearScaling()}return u},e.prototype.destroyTexture=function(n,r){if(n=n.baseTexture||n,!!n.hasLoaded){var i=this.renderer,a=i.CONTEXT_UID,o=n._glTextures,s=n._glRenderTargets;if(o[a]&&(i.unbindTexture(n),o[a].destroy(),n.off("update",this.updateTexture,this),n.off("dispose",this.destroyTexture,this),delete o[a],!r)){var u=this._managedTextures.indexOf(n);u!==-1&&(0,hO.removeItems)(this._managedTextures,u,1)}s&&s[a]&&(i._activeRenderTarget===s[a]&&i.bindRenderTarget(i.rootRenderTarget),s[a].destroy(),delete s[a])}},e.prototype.removeAll=function(){for(var n=0;n<this._managedTextures.length;++n){var r=this._managedTextures[n];r._glTextures[this.renderer.CONTEXT_UID]&&delete r._glTextures[this.renderer.CONTEXT_UID]}},e.prototype.destroy=function(){for(var n=0;n<this._managedTextures.length;++n){var r=this._managedTextures[n];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e}();hs.default=dO});var Fd=T(cs=>{f();"use strict";cs.__esModule=!0;var pO=V(),vO=ae(),fs=_O(vO);function _O(e){return e&&e.__esModule?e:{default:e}}function gO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var mO=function(){function e(t){gO(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=fs.default.GC_MAX_IDLE,this.checkCountMax=fs.default.GC_MAX_CHECK_COUNT,this.mode=fs.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==pO.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var n=this.renderer.textureManager,r=n._managedTextures,i=!1,a=0;a<r.length;a++){var o=r[a];!o._glRenderTargets&&this.count-o.touched>this.maxIdle&&(n.destroyTexture(o,!0),r[a]=null,i=!0)}if(i){for(var s=0,u=0;u<r.length;u++)r[u]!==null&&(r[s++]=r[u]);r.length=s}},e.prototype.unload=function(n){var r=this.renderer.textureManager;n._texture&&n._texture._glRenderTargets&&r.destroyTexture(n._texture,!0);for(var i=n.children.length-1;i>=0;i--)this.unload(n.children[i])},e}();cs.default=mO});var Bd=T(ds=>{f();"use strict";ds.__esModule=!0;ds.default=yO;var ie=V();function yO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t[ie.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[ie.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[ie.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t}});var Nd=T(ys=>{f();"use strict";ys.__esModule=!0;var xO=Bd(),TO=bO(xO);function bO(e){return e&&e.__esModule?e:{default:e}}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ps=0,vs=1,_s=2,gs=3,ms=4,EO=function(){function e(t){wO(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,TO.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var n=this.stack[this.stackIndex];n||(n=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var r=0;r<this.activeState.length;r++)n[r]=this.activeState[r]},e.prototype.pop=function(){var n=this.stack[--this.stackIndex];this.setState(n)},e.prototype.setState=function(n){this.setBlend(n[ps]),this.setDepthTest(n[vs]),this.setFrontFace(n[_s]),this.setCullFace(n[gs]),this.setBlendMode(n[ms])},e.prototype.setBlend=function(n){n=n?1:0,this.activeState[ps]!==n&&(this.activeState[ps]=n,this.gl[n?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(n){if(n!==this.activeState[ms]){this.activeState[ms]=n;var r=this.blendModes[n];r.length===2?this.gl.blendFunc(r[0],r[1]):this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}},e.prototype.setDepthTest=function(n){n=n?1:0,this.activeState[vs]!==n&&(this.activeState[vs]=n,this.gl[n?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(n){n=n?1:0,this.activeState[gs]!==n&&(this.activeState[gs]=n,this.gl[n?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(n){n=n?1:0,this.activeState[_s]!==n&&(this.activeState[_s]=n,this.gl.frontFace(this.gl[n?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var n=0;n<this.attribState.tempAttribState.length;n++)this.attribState.tempAttribState[n]=0;for(var r=0;r<this.attribState.attribState.length;r++)this.attribState.attribState[r]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var n=0;n<this.activeState.length;++n)this.activeState[n]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();ys.default=EO});var kd=T(xs=>{f();"use strict";xs.__esModule=!0;xs.default=SO;var Gt=V();function SO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t[Gt.DRAW_MODES.POINTS]=e.POINTS,t[Gt.DRAW_MODES.LINES]=e.LINES,t[Gt.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[Gt.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[Gt.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[Gt.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[Gt.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t}});var qd=T(Ts=>{f();"use strict";Ts.__esModule=!0;Ts.default=MO;function MO(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}});var Vr=T(bs=>{f();"use strict";bs.__esModule=!0;var OO=Ao(),Ud=Oe(OO),PO=yd(),RO=Oe(PO),AO=Td(),CO=Oe(AO),IO=Dd(),DO=Oe(IO),LO=Xr(),FO=Oe(LO),BO=Gr(),NO=Oe(BO),kO=Ld(),qO=Oe(kO),UO=Ut(),GO=Oe(UO),XO=Fd(),WO=Oe(XO),HO=Nd(),VO=Oe(HO),YO=kd(),zO=Oe(YO),jO=qd(),KO=Oe(jO),ZO=z(),JO=Se(),pi=Oe(JO),QO=V();function Oe(e){return e&&e.__esModule?e:{default:e}}function $O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rP=0,Gd=function(e){tP(t,e);function t(n,r,i){$O(this,t);var a=eP(this,e.call(this,"WebGL",n,r,i));return a.legacy=a.options.legacy,a.legacy&&(pi.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=QO.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&a.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new RO.default(a),a.stencilManager=new CO.default(a),a.emptyRenderer=new NO.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,KO.default)(a.options.context),a.gl=a.options.context||pi.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=rP++,a.state=new VO.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,zO.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return t.prototype._initContext=function(){var r=this.gl;r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext();var i=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(i),this.emptyTextures=new Array(i),this._unknownBoundTextures=!1,this.textureManager=new qO.default(this),this.filterManager=new DO.default(this),this.textureGC=new WO.default(this),this.state.resetToDefault(),this.rootRenderTarget=new FO.default(r,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var a=new pi.default.GLTexture.fromData(r,null,1,1),o={_glTextures:{}};o._glTextures[this.CONTEXT_UID]={};for(var s=0;s<i;s++){var u=new GO.default;u._glTextures[this.CONTEXT_UID]=a,this.boundTextures[s]=o,this.emptyTextures[s]=u,this.bindTexture(null,s)}this.emit("context",r),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(r,i,a,o,s){if(this.renderingToScreen=!i,this.emit("prerender"),!(!this.gl||this.gl.isContextLost())){if(this._nextTextureLocation=0,i||(this._lastObjectRendered=r),!s){var u=r.parent;r.parent=this._tempDisplayObjectParent,r.updateTransform(),r.parent=u}this.bindRenderTexture(i,o),this.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this._activeRenderTarget.clear(),r.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(r,i){Ud.default.prototype.resize.call(this,r,i),this.rootRenderTarget.resize(r,i),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(r){this.state.setBlendMode(r)},t.prototype.clear=function(r){this._activeRenderTarget.clear(r)},t.prototype.setTransform=function(r){this._activeRenderTarget.transform=r},t.prototype.clearRenderTexture=function(r,i){var a=r.baseTexture,o=a._glRenderTargets[this.CONTEXT_UID];return o&&o.clear(i),this},t.prototype.bindRenderTexture=function(r,i){var a=void 0;if(r){var o=r.baseTexture;o._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(o,0),this.unbindTexture(o),a=o._glRenderTargets[this.CONTEXT_UID],a.setFrame(r.frame)}else a=this.rootRenderTarget;return a.transform=i,this.bindRenderTarget(a),this},t.prototype.bindRenderTarget=function(r){return r!==this._activeRenderTarget&&(this._activeRenderTarget=r,r.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=r.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(r.stencilMaskStack)),this},t.prototype.bindShader=function(r,i){return this._activeShader!==r&&(this._activeShader=r,r.bind(),i!==!1&&(r.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(r,i,a){if(r=r||this.emptyTextures[i],r=r.baseTexture||r,r.touched=this.textureGC.count,a)i=i||0;else{for(var o=0;o<this.boundTextures.length;o++)if(this.boundTextures[o]===r)return o;i===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,i=this.boundTextures.length-this._nextTextureLocation-1)}var s=this.gl,u=r._glTextures[this.CONTEXT_UID];return u?(this.boundTextures[i]=r,s.activeTexture(s.TEXTURE0+i),s.bindTexture(s.TEXTURE_2D,u.texture)):this.textureManager.updateTexture(r,i),i},t.prototype.unbindTexture=function(r){var i=this.gl;if(r=r.baseTexture||r,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]===this.emptyTextures[a]&&(i.activeTexture(i.TEXTURE0+a),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[a]._glTextures[this.CONTEXT_UID].texture))}for(var o=0;o<this.boundTextures.length;o++)this.boundTextures[o]===r&&(this.boundTextures[o]=this.emptyTextures[o],i.activeTexture(i.TEXTURE0+o),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[o]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new pi.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(r){return this._activeVao===r?this:(r?r.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=r,this)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.emptyTextures[r];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(r){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,r),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},t}(Ud.default);bs.default=Gd;ZO.pluginTarget.mixin(Gd)});var Xd=T(ws=>{f();"use strict";ws.__esModule=!0;ws.default=sP;var nP=lr(),iP=aP(nP),q5=Pe("path");function aP(e){return e&&e.__esModule?e:{default:e}}var oP=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`);function sP(e,t){var n=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor;
}
`,r=oP;r=r.replace(/%count%/gi,t),r=r.replace(/%forloop%/gi,uP(t));for(var i=new iP.default(e,n,r),a=[],o=0;o<t;o++)a[o]=o;return i.bind(),i.uniforms.uSamplers=a,i}function uP(e){var t="";t+=`
`,t+=`
`;for(var n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`,t}});var Wd=T(Es=>{f();"use strict";Es.__esModule=!0;Es.default=dP;var lP=Se(),hP=fP(lP);function fP(e){return e&&e.__esModule?e:{default:e}}var cP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function dP(e,t){var n=!t;if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var r=document.createElement("canvas");r.width=1,r.height=1,t=hP.default.createContext(r)}for(var i=t.createShader(t.FRAGMENT_SHADER);;){var a=cP.replace(/%forloop%/gi,pP(e));if(t.shaderSource(i,a),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))e=e/2|0;else break}return n&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e}function pP(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}});var Hd=T(Ss=>{f();"use strict";Ss.__esModule=!0;function vP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _P=function(){function e(t){vP(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();Ss.default=_P});var zd=T(Rs=>{f();"use strict";Rs.__esModule=!0;var gP=Gr(),mP=et(gP),yP=Vr(),xP=et(yP),TP=di(),bP=et(TP),wP=Xd(),EP=et(wP),SP=Wd(),MP=et(SP),OP=Hd(),PP=et(OP),RP=ae(),vi=et(RP),Ms=z(),AP=Se(),Os=et(AP),CP=ni(),Ps=et(CP);function et(e){return e&&e.__esModule?e:{default:e}}function IP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tt=0,Vd=0,Yd=function(e){LP(t,e);function t(n){IP(this,t);var r=DP(this,e.call(this,n));r.vertSize=5,r.vertByteSize=r.vertSize*4,r.size=vi.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=Ps.default.nextPow2(r.size);i*=2)r.buffers.push(new PP.default(i*4*r.vertByteSize));r.indices=(0,bP.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on("prerender",r.onPrerender,r),r}return t.prototype.onContextChange=function(){var r=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),vi.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,MP.default)(this.MAX_TEXTURES,r)),this.shader=(0,EP.default)(r,this.MAX_TEXTURES),this.indexBuffer=Os.default.GLBuffer.createIndexBuffer(r,this.indices,r.STATIC_DRAW),this.renderer.bindVao(null);for(var i=this.shader.attributes,a=0;a<this.vaoMax;a++){var o=this.vertexBuffers[a]=Os.default.GLBuffer.createVertexBuffer(r,null,r.STREAM_DRAW),s=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(o,i.aVertexPosition,r.FLOAT,!1,this.vertByteSize,0).addAttribute(o,i.aTextureCoord,r.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(o,i.aColor,r.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);i.aTextureId&&s.addAttribute(o,i.aTextureId,r.FLOAT,!1,this.vertByteSize,4*4),this.vaos[a]=s}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(r){this.currentIndex>=this.size&&this.flush(),!!r._texture._uvs&&(this.sprites[this.currentIndex++]=r)},t.prototype.flush=function(){if(this.currentIndex!==0){var r=this.renderer.gl,i=this.MAX_TEXTURES,a=Ps.default.nextPow2(this.currentIndex),o=Ps.default.log2(a),s=this.buffers[o],u=this.sprites,l=this.groups,h=s.float32View,c=s.uint32View,v=this.boundTextures,p=this.renderer.boundTextures,d=this.renderer.textureGC.count,_=0,m=void 0,x=void 0,y=1,b=0,w=l[0],E=void 0,P=void 0,A=Ms.premultiplyBlendMode[u[0]._texture.baseTexture.premultipliedAlpha?1:0][u[0].blendMode];w.textureCount=0,w.start=0,w.blend=A,tt++;var S=void 0;for(S=0;S<i;++S){var R=p[S];if(R._enabled===tt){v[S]=this.renderer.emptyTextures[S];continue}v[S]=R,R._virtalBoundId=S,R._enabled=tt}for(tt++,S=0;S<this.currentIndex;++S){var I=u[S];u[S]=null,m=I._texture.baseTexture;var D=Ms.premultiplyBlendMode[Number(m.premultipliedAlpha)][I.blendMode];if(A!==D&&(A=D,x=null,b=i,tt++),x!==m&&(x=m,m._enabled!==tt)){if(b===i&&(tt++,w.size=S-w.start,b=0,w=l[y++],w.blend=A,w.textureCount=0,w.start=S),m.touched=d,m._virtalBoundId===-1)for(var q=0;q<i;++q){var L=(q+Vd)%i,C=v[L];if(C._enabled!==tt){Vd++,C._virtalBoundId=-1,m._virtalBoundId=L,v[L]=m;break}}m._enabled=tt,w.textureCount++,w.ids[b]=m._virtalBoundId,w.textures[b++]=m}if(E=I.vertexData,P=I._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;h[_]=(E[0]*k|0)/k,h[_+1]=(E[1]*k|0)/k,h[_+5]=(E[2]*k|0)/k,h[_+6]=(E[3]*k|0)/k,h[_+10]=(E[4]*k|0)/k,h[_+11]=(E[5]*k|0)/k,h[_+15]=(E[6]*k|0)/k,h[_+16]=(E[7]*k|0)/k}else h[_]=E[0],h[_+1]=E[1],h[_+5]=E[2],h[_+6]=E[3],h[_+10]=E[4],h[_+11]=E[5],h[_+15]=E[6],h[_+16]=E[7];c[_+2]=P[0],c[_+7]=P[1],c[_+12]=P[2],c[_+17]=P[3];var F=Math.min(I.worldAlpha,1),U=F<1&&m.premultipliedAlpha?(0,Ms.premultiplyTint)(I._tintRGB,F):I._tintRGB+(F*255<<24);c[_+3]=c[_+8]=c[_+13]=c[_+18]=U,h[_+4]=h[_+9]=h[_+14]=h[_+19]=m._virtalBoundId,_+=20}if(w.size=S-w.start,vi.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var X=this.shader.attributes,ee=this.vertexBuffers[this.vertexCount]=Os.default.GLBuffer.createVertexBuffer(r,null,r.STREAM_DRAW),re=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(ee,X.aVertexPosition,r.FLOAT,!1,this.vertByteSize,0).addAttribute(ee,X.aTextureCoord,r.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(ee,X.aColor,r.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);X.aTextureId&&re.addAttribute(ee,X.aTextureId,r.FLOAT,!1,this.vertByteSize,4*4),this.vaos[this.vertexCount]=re}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!1),this.vertexCount++}for(S=0;S<i;++S)p[S]._virtalBoundId=-1;for(S=0;S<y;++S){for(var K=l[S],xe=K.textureCount,se=0;se<xe;se++)x=K.textures[se],p[K.ids[se]]!==x&&this.renderer.bindTexture(x,K.ids[se],!0),x._virtalBoundId=-1;this.renderer.state.setBlendMode(K.blend),r.drawElements(r.TRIANGLES,K.size*6,r.UNSIGNED_SHORT,K.start*6*2)}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),vi.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]&&this.vertexBuffers[r].destroy(),this.vaos[r]&&this.vaos[r].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var i=0;i<this.buffers.length;++i)this.buffers[i].destroy()},t}(mP.default);Rs.default=Yd;xP.default.registerPlugin("sprite",Yd)});var Ls=T(Ds=>{f();"use strict";Ds.__esModule=!0;var FP=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),BP=V(),NP=z();function kP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var As={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:BP.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},qP=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],UP=function(){function e(t){kP(this,e),this.styleID=0,this.reset(),Is(this,t,t)}return e.prototype.clone=function(){var n={};return Is(n,this,As),new e(n)},e.prototype.reset=function(){Is(this,As,As)},e.prototype.toFontString=function(){var n=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var i=r.length-1;i>=0;i--){var a=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&qP.indexOf(a)<0&&(a='"'+a+'"'),r[i]=a}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+n+" "+r.join(",")},FP(e,[{key:"align",get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(n){this._breakWords!==n&&(this._breakWords=n,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(n){this._dropShadow!==n&&(this._dropShadow=n,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(n){this._dropShadowAlpha!==n&&(this._dropShadowAlpha=n,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(n){this._dropShadowAngle!==n&&(this._dropShadowAngle=n,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(n){this._dropShadowBlur!==n&&(this._dropShadowBlur=n,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(n){var r=Cs(n);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(n){this._dropShadowDistance!==n&&(this._dropShadowDistance=n,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(n){var r=Cs(n);this._fill!==r&&(this._fill=r,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(n){this._fillGradientType!==n&&(this._fillGradientType=n,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(n){GP(this._fillGradientStops,n)||(this._fillGradientStops=n,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(n){this.fontFamily!==n&&(this._fontFamily=n,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(n){this._fontStyle!==n&&(this._fontStyle=n,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(n){this._fontVariant!==n&&(this._fontVariant=n,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(n){this._fontWeight!==n&&(this._fontWeight=n,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(n){this._lineHeight!==n&&(this._lineHeight=n,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(n){this._leading!==n&&(this._leading=n,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(n){this._lineJoin!==n&&(this._lineJoin=n,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(n){this._miterLimit!==n&&(this._miterLimit=n,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(n){this._padding!==n&&(this._padding=n,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(n){var r=Cs(n);this._stroke!==r&&(this._stroke=r,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(n){this._strokeThickness!==n&&(this._strokeThickness=n,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(n){this._textBaseline!==n&&(this._textBaseline=n,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(n){this._trim!==n&&(this._trim=n,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(n){this._whiteSpace!==n&&(this._whiteSpace=n,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(n){this._wordWrap!==n&&(this._wordWrap=n,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(n){this._wordWrapWidth!==n&&(this._wordWrapWidth=n,this.styleID++)}}]),e}();Ds.default=UP;function jd(e){return typeof e=="number"?(0,NP.hex2string)(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function Cs(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=jd(e[t]);return e}else return jd(e)}function GP(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function Is(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}});var Bs=T(Fs=>{f();"use strict";Fs.__esModule=!0;function XP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var rt=function(){function e(t,n,r,i,a,o,s,u,l){XP(this,e),this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return e.measureText=function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e._canvas;i=i??r.wordWrap;var o=r.toFontString(),s=e.measureFont(o),u=a.getContext("2d");u.font=o;for(var l=i?e.wordWrap(n,r,a):n,h=l.split(/(?:\r\n|\r|\n)/),c=new Array(h.length),v=0,p=0;p<h.length;p++){var d=u.measureText(h[p]).width+(h[p].length-1)*r.letterSpacing;c[p]=d,v=Math.max(v,d)}var _=v+r.strokeThickness;r.dropShadow&&(_+=r.dropShadowDistance);var m=r.lineHeight||s.fontSize+r.strokeThickness,x=Math.max(m,s.fontSize+r.strokeThickness)+(h.length-1)*(m+r.leading);return r.dropShadow&&(x+=r.dropShadowDistance),new e(n,r,_,x,h,c,m+r.leading,v,s)},e.wordWrap=function(n,r){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e._canvas,a=i.getContext("2d"),o=0,s="",u="",l={},h=r.letterSpacing,c=r.whiteSpace,v=e.collapseSpaces(c),p=e.collapseNewlines(c),d=!v,_=r.wordWrapWidth+h,m=e.tokenize(n),x=0;x<m.length;x++){var y=m[x];if(e.isNewline(y)){if(!p){u+=e.addLine(s),d=!v,s="",o=0;continue}y=" "}if(v){var b=e.isBreakingSpace(y),w=e.isBreakingSpace(s[s.length-1]);if(b&&w)continue}var E=e.getFromCache(y,h,l,a);if(E>_)if(s!==""&&(u+=e.addLine(s),s="",o=0),e.canBreakWords(y,r.breakWords))for(var P=y.split(""),A=0;A<P.length;A++){for(var S=P[A],R=1;P[A+R];){var I=P[A+R],D=S[S.length-1];if(!e.canBreakChars(D,I,y,A,r.breakWords))S+=I;else break;R++}A+=S.length-1;var q=e.getFromCache(S,h,l,a);q+o>_&&(u+=e.addLine(s),d=!1,s="",o=0),s+=S,o+=q}else{s.length>0&&(u+=e.addLine(s),s="",o=0);var L=x===m.length-1;u+=e.addLine(y,!L),d=!1,s="",o=0}else E+o>_&&(d=!1,u+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace(y)||d)&&(s+=y,o+=E)}return u+=e.addLine(s,!1),u},e.addLine=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n=e.trimRight(n),n=r?n+`
`:n,n},e.getFromCache=function(n,r,i,a){var o=i[n];if(o===void 0){var s=n.length*r;o=a.measureText(n).width+s,i[n]=o}return o},e.collapseSpaces=function(n){return n==="normal"||n==="pre-line"},e.collapseNewlines=function(n){return n==="normal"},e.trimRight=function(n){if(typeof n!="string")return"";for(var r=n.length-1;r>=0;r--){var i=n[r];if(!e.isBreakingSpace(i))break;n=n.slice(0,-1)}return n},e.isNewline=function(n){return typeof n!="string"?!1:e._newlines.indexOf(n.charCodeAt(0))>=0},e.isBreakingSpace=function(n){return typeof n!="string"?!1:e._breakingSpaces.indexOf(n.charCodeAt(0))>=0},e.tokenize=function(n){var r=[],i="";if(typeof n!="string")return r;for(var a=0;a<n.length;a++){var o=n[a];if(e.isBreakingSpace(o)||e.isNewline(o)){i!==""&&(r.push(i),i=""),r.push(o);continue}i+=o}return i!==""&&r.push(i),r},e.canBreakWords=function(n,r){return r},e.canBreakChars=function(n,r,i,a,o){return!0},e.measureFont=function(n){if(e._fonts[n])return e._fonts[n];var r={},i=e._canvas,a=e._context;a.font=n;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(a.measureText(o).width),u=Math.ceil(a.measureText(e.BASELINE_SYMBOL).width),l=2*u;u=u*e.BASELINE_MULTIPLIER|0,i.width=s,i.height=l,a.fillStyle="#f00",a.fillRect(0,0,s,l),a.font=n,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,u);var h=a.getImageData(0,0,s,l).data,c=h.length,v=s*4,p=0,d=0,_=!1;for(p=0;p<u;++p){for(var m=0;m<v;m+=4)if(h[d+m]!==255){_=!0;break}if(!_)d+=v;else break}for(r.ascent=u-p,d=c-v,_=!1,p=l;p>u;--p){for(var x=0;x<v;x+=4)if(h[d+x]!==255){_=!0;break}if(!_)d-=v;else break}return r.descent=p-u,r.fontSize=r.ascent+r.descent,e._fonts[n]=r,r},e.clearMetrics=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n?delete e._fonts[n]:e._fonts={}},e}();Fs.default=rt;var _i=document.createElement("canvas");_i.width=_i.height=10;rt._canvas=_i;rt._context=_i.getContext("2d");rt._fonts={};rt.METRICS_STRING="|\xC9q";rt.BASELINE_SYMBOL="M";rt.BASELINE_MULTIPLIER=1.4;rt._newlines=[10,13];rt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]});var Kd=T(Ns=>{f();"use strict";Ns.__esModule=!0;Ns.default=WP;function WP(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},u=null,l=void 0,h=void 0,c=void 0;for(l=0;l<o;l+=4)a[l+3]!==0&&(h=l/4%t,c=~~(l/4/t),s.top===null&&(s.top=c),(s.left===null||h<s.left)&&(s.left=h),(s.right===null||s.right<h)&&(s.right=h+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(t=s.right-s.left,n=s.bottom-s.top+1,u=r.getImageData(s.left,s.top,t,n)),{height:n,width:t,data:u}}});var tp=T(ks=>{f();"use strict";ks.__esModule=!0;var HP=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),VP=li(),YP=hr(VP),zP=$e(),Zd=hr(zP),Jd=he(),Qd=z(),jP=V(),KP=ae(),$d=hr(KP),ZP=Ls(),ep=hr(ZP),JP=Bs(),QP=hr(JP),$P=Kd(),eR=hr($P);function hr(e){return e&&e.__esModule?e:{default:e}}function tR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iR={texture:!0,children:!1,baseTexture:!0},aR=function(e){nR(t,e);function t(n,r,i){tR(this,t),i=i||document.createElement("canvas"),i.width=3,i.height=3;var a=Zd.default.fromCanvas(i,$d.default.SCALE_MODE,"text");a.orig=new Jd.Rectangle,a.trim=new Jd.Rectangle;var o=rR(this,e.call(this,a));return Zd.default.addToCache(o._texture,o._texture.baseTexture.textureCacheIds[0]),o.canvas=i,o.context=o.canvas.getContext("2d"),o.resolution=$d.default.RESOLUTION,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=n,o.style=r,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var a=this.context,o=QP.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),s=o.width,u=o.height,l=o.lines,h=o.lineHeight,c=o.lineWidths,v=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+i.padding*2)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,u)+i.padding*2)*this.resolution),a.scale(this.resolution,this.resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.strokeStyle=i.stroke,a.lineWidth=i.strokeThickness,a.textBaseline=i.textBaseline,a.lineJoin=i.lineJoin,a.miterLimit=i.miterLimit;var d=void 0,_=void 0;if(i.dropShadow){a.fillStyle=i.dropShadowColor,a.globalAlpha=i.dropShadowAlpha,a.shadowBlur=i.dropShadowBlur,i.dropShadowBlur>0&&(a.shadowColor=i.dropShadowColor);for(var m=Math.cos(i.dropShadowAngle)*i.dropShadowDistance,x=Math.sin(i.dropShadowAngle)*i.dropShadowDistance,y=0;y<l.length;y++)d=i.strokeThickness/2,_=i.strokeThickness/2+y*h+p.ascent,i.align==="right"?d+=v-c[y]:i.align==="center"&&(d+=(v-c[y])/2),i.fill&&(this.drawLetterSpacing(l[y],d+m+i.padding,_+x+i.padding),i.stroke&&i.strokeThickness&&(a.strokeStyle=i.dropShadowColor,this.drawLetterSpacing(l[y],d+m+i.padding,_+x+i.padding,!0),a.strokeStyle=i.stroke))}a.shadowBlur=0,a.globalAlpha=1,a.fillStyle=this._generateFillStyle(i,l);for(var b=0;b<l.length;b++)d=i.strokeThickness/2,_=i.strokeThickness/2+b*h+p.ascent,i.align==="right"?d+=v-c[b]:i.align==="center"&&(d+=(v-c[b])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[b],d+i.padding,_+i.padding,!0),i.fill&&this.drawLetterSpacing(l[b],d+i.padding,_+i.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,i,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this._style,u=s.letterSpacing;if(u===0){o?this.context.strokeText(r,i,a):this.context.fillText(r,i,a);return}for(var l=String.prototype.split.call(r,""),h=i,c=0,v="",p=this.context.measureText(r).width,d=0;c<r.length;)v=l[c++],o?this.context.strokeText(v,h,a):this.context.fillText(v,h,a),d=this.context.measureText(r.substring(c)).width,h+=p-d+u,p=d},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var i=(0,eR.default)(r);i.data&&(r.width=i.width,r.height=i.height,this.context.putImageData(i.data,0,0))}var a=this._texture,o=this._style,s=o.trim?0:o.padding,u=a.baseTexture;u.hasLoaded=!0,u.resolution=this.resolution,u.realWidth=r.width,u.realHeight=r.height,u.width=r.width/this.resolution,u.height=r.height/this.resolution,a.trim.width=a._frame.width=r.width/this.resolution,a.trim.height=a._frame.height=r.height/this.resolution,a.trim.x=-s,a.trim.y=-s,a.orig.width=a._frame.width-s*2,a.orig.height=a._frame.height-s*2,this._onTextureUpdate(),u.emit("update",u),this.dirty=!1},t.prototype.renderWebGL=function(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,r)},t.prototype._renderCanvas=function(r){this.resolution!==r.resolution&&(this.resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(r,i){if(!Array.isArray(r.fill))return r.fill;if(navigator.isCocoonJS)return r.fill[0];var a=void 0,o=void 0,s=void 0,u=void 0,l=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,c=r.fill.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var p=c.length+1,d=1;d<p;++d)v.push(d/p);if(c.unshift(r.fill[0]),v.unshift(0),c.push(r.fill[r.fill.length-1]),v.push(1),r.fillGradientType===jP.TEXT_GRADIENT.LINEAR_VERTICAL){a=this.context.createLinearGradient(l/2,0,l/2,h),o=(c.length+1)*i.length,s=0;for(var _=0;_<i.length;_++){s+=1;for(var m=0;m<c.length;m++)typeof v[m]=="number"?u=v[m]/i.length+_/i.length:u=s/o,a.addColorStop(u,c[m]),s++}}else{a=this.context.createLinearGradient(0,h/2,l,h/2),o=c.length+1,s=1;for(var x=0;x<c.length;x++)typeof v[x]=="number"?u=v[x]:u=s/o,a.addColorStop(u,c[x]),s++}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},iR,r),e.prototype.destroy.call(this,r),this.context=null,this.canvas=null,this._style=null},HP(t,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var i=(0,Qd.sign)(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var i=(0,Qd.sign)(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r}},{key:"style",get:function(){return this._style},set:function(r){r=r||{},r instanceof ep.default?this._style=r:this._style=new ep.default(r),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(r){r=String(r===""||r===null||r===void 0?" ":r),this._text!==r&&(this._text=r,this.dirty=!0)}}]),t}(YP.default);ks.default=aR});var Us=T(qs=>{f();"use strict";qs.__esModule=!0;function oR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sR=function(){function e(t,n,r,i,a,o,s,u,l){oR(this,e),this.lineWidth=t,this.lineAlignment=l,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=a,this._fillTint=i,this.fill=o,this.holes=[],this.shape=u,this.type=u.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},e.prototype.addHole=function(n){this.holes.push(n)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();qs.default=sR});var rp=T(Gs=>{f();"use strict";Gs.__esModule=!0;Gs.default=uR;function uR(e,t,n,r,i,a,o,s,u){var l=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],h=0,c=0,v=0,p=0,d=0;l.push(e,t);for(var _=1,m=0;_<=u;++_)m=_/u,h=1-m,c=h*h,v=c*h,p=m*m,d=p*m,l.push(v*e+3*c*m*n+3*h*p*i+d*o,v*t+3*c*m*r+3*h*p*a+d*s);return l}});var np=T(Ys=>{f();"use strict";Ys.__esModule=!0;var lR=ar(),hR=mt(lR),fR=hi(),cR=mt(fR),dR=$e(),Xs=mt(dR),pR=Us(),vR=mt(pR),_R=li(),gR=mt(_R),Ue=he(),Ws=z(),Be=V(),mR=Hn(),yR=mt(mR),xR=rp(),TR=mt(xR),bR=sr(),wR=mt(bR);function mt(e){return e&&e.__esModule?e:{default:e}}function ER(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hs=void 0,Yr=new Ue.Matrix,zr=new Ue.Point,OR=new Float32Array(4),PR=new Float32Array(4),Vs=function(e){MR(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ER(this,t);var r=SR(this,e.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=Be.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new yR.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return t.prototype.clone=function(){var r=new t;r.renderable=this.renderable,r.fillAlpha=this.fillAlpha,r.lineWidth=this.lineWidth,r.lineColor=this.lineColor,r.lineAlignment=this.lineAlignment,r.tint=this.tint,r.blendMode=this.blendMode,r.isMask=this.isMask,r.boundsPadding=this.boundsPadding,r.dirty=0,r.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i)r.graphicsData.push(this.graphicsData[i].clone());return r.currentPath=r.graphicsData[r.graphicsData.length-1],r.updateLocalBounds(),r},t.prototype._quadraticCurveLength=function(r,i,a,o,s,u){var l=r-2*a+s,h=i-2*o+u,c=2*a-2*r,v=2*o-2*i,p=4*(l*l+h*h),d=4*(l*c+h*v),_=c*c+v*v,m=2*Math.sqrt(p+d+_),x=Math.sqrt(p),y=2*p*x,b=2*Math.sqrt(_),w=d/x;return(y*m+x*d*(m-b)+(4*_*p-d*d)*Math.log((2*x+w+m)/(w+b)))/(4*y)},t.prototype._bezierCurveLength=function(r,i,a,o,s,u,l,h){for(var c=10,v=0,p=0,d=0,_=0,m=0,x=0,y=0,b=0,w=0,E=0,P=0,A=r,S=i,R=1;R<=c;++R)p=R/c,d=p*p,_=d*p,m=1-p,x=m*m,y=x*m,b=y*r+3*x*p*a+3*m*d*s+_*l,w=y*i+3*x*p*o+3*m*d*u+_*h,E=A-b,P=S-w,A=b,S=w,v+=Math.sqrt(E*E+P*P);return v},t.prototype._segmentsCount=function(r){var i=Math.ceil(r/t.CURVES.maxLength);return i<t.CURVES.minSegments?i=t.CURVES.minSegments:i>t.CURVES.maxSegments&&(i=t.CURVES.maxSegments),i},t.prototype.lineStyle=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;if(this.lineWidth=r,this.lineColor=i,this.lineAlpha=a,this.lineAlignment=o,this.currentPath)if(this.currentPath.shape.points.length){var s=new Ue.Polygon(this.currentPath.shape.points.slice(-2));s.closed=!1,this.drawShape(s)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},t.prototype.moveTo=function(r,i){var a=new Ue.Polygon([r,i]);return a.closed=!1,this.drawShape(a),this},t.prototype.lineTo=function(r,i){var a=this.currentPath.shape.points,o=a[a.length-2],s=a[a.length-1];return(o!==r||s!==i)&&(a.push(r,i),this.dirty++),this},t.prototype.quadraticCurveTo=function(r,i,a,o){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=0,l=0;s.length===0&&this.moveTo(0,0);for(var h=s[s.length-2],c=s[s.length-1],v=t.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(h,c,r,i,a,o)):20,p=1;p<=v;++p){var d=p/v;u=h+(r-h)*d,l=c+(i-c)*d,s.push(u+(r+(a-r)*d-u)*d,l+(i+(o-i)*d-l)*d)}return this.dirty++,this},t.prototype.bezierCurveTo=function(r,i,a,o,s,u){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var l=this.currentPath.shape.points,h=l[l.length-2],c=l[l.length-1];l.length-=2;var v=t.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(h,c,r,i,a,o,s,u)):20;return(0,TR.default)(h,c,r,i,a,o,s,u,v,l),this.dirty++,this},t.prototype.arcTo=function(r,i,a,o,s){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(r,i):this.moveTo(r,i);var u=this.currentPath.shape.points,l=u[u.length-2],h=u[u.length-1],c=h-i,v=l-r,p=o-i,d=a-r,_=Math.abs(c*d-v*p);if(_<1e-8||s===0)(u[u.length-2]!==r||u[u.length-1]!==i)&&u.push(r,i);else{var m=c*c+v*v,x=p*p+d*d,y=c*p+v*d,b=s*Math.sqrt(m)/_,w=s*Math.sqrt(x)/_,E=b*y/m,P=w*y/x,A=b*d+w*v,S=b*p+w*c,R=v*(w+E),I=c*(w+E),D=d*(b+P),q=p*(b+P),L=Math.atan2(I-S,R-A),C=Math.atan2(q-S,D-A);this.arc(A+r,S+i,s,L,C,v*p>d*c)}return this.dirty++,this},t.prototype.arc=function(r,i,a,o,s){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(o===s)return this;!u&&s<=o?s+=Be.PI_2:u&&o<=s&&(o+=Be.PI_2);var l=s-o,h=t.CURVES.adaptive?this._segmentsCount(Math.abs(l)*a):Math.ceil(Math.abs(l)/Be.PI_2)*40;if(l===0)return this;var c=r+Math.cos(o)*a,v=i+Math.sin(o)*a,p=this.currentPath?this.currentPath.shape.points:null;if(p){var d=Math.abs(p[p.length-2]-c),_=Math.abs(p[p.length-1]-v);d<.001&&_<.001||p.push(c,v)}else this.moveTo(c,v),p=this.currentPath.shape.points;for(var m=l/(h*2),x=m*2,y=Math.cos(m),b=Math.sin(m),w=h-1,E=w%1/w,P=0;P<=w;++P){var A=P+E*P,S=m+o+x*A,R=Math.cos(S),I=-Math.sin(S);p.push((y*R+b*I)*a+r,(y*-I+b*R)*a+i)}return this.dirty++,this},t.prototype.beginFill=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.filling=!0,this.fillColor=r,this.fillAlpha=i,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(r,i,a,o){return this.drawShape(new Ue.Rectangle(r,i,a,o)),this},t.prototype.drawRoundedRect=function(r,i,a,o,s){return this.drawShape(new Ue.RoundedRectangle(r,i,a,o,s)),this},t.prototype.drawCircle=function(r,i,a){return this.drawShape(new Ue.Circle(r,i,a)),this},t.prototype.drawEllipse=function(r,i,a,o){return this.drawShape(new Ue.Ellipse(r,i,a,o)),this},t.prototype.drawPolygon=function(r){var i=r,a=!0;if(i instanceof Ue.Polygon&&(a=i.closed,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var o=0;o<i.length;++o)i[o]=arguments[o]}var s=new Ue.Polygon(i);return s.closed=a,this.drawShape(s),this},t.prototype.drawStar=function(r,i,a,o,s){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;s=s||o/2;for(var l=-1*Math.PI/2+u,h=a*2,c=Be.PI_2/h,v=[],p=0;p<h;p++){var d=p%2?s:o,_=p*c+l;v.push(r+d*Math.cos(_),i+d*Math.sin(_))}return this.drawPolygon(v)},t.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===Be.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(r){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(r):(r.setObjectRenderer(r.plugins.graphics),r.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(r){var i=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new gR.default(new Xs.default(Xs.default.WHITE)));var a=this._spriteRect,o=this.graphicsData[0].fillColor;if(this.tint===16777215)a.tint=o;else if(this.tint!==this._prevRectTint||o!==this._prevRectFillColor){var s=OR,u=PR;(0,Ws.hex2rgb)(o,s),(0,Ws.hex2rgb)(this.tint,u),s[0]*=u[0],s[1]*=u[1],s[2]*=u[2],a.tint=(0,Ws.rgb2hex)(s),this._prevRectTint=this.tint,this._prevRectFillColor=o}a.alpha=this.graphicsData[0].fillAlpha,a.worldAlpha=this.worldAlpha*a.alpha,a.blendMode=this.blendMode,a._texture._frame.width=i.width,a._texture._frame.height=i.height,a.transform.worldTransform=this.transform.worldTransform,a.anchor.set(-i.x/i.width,-i.y/i.height),a._onAnchorUpdate(),a._renderWebGL(r)},t.prototype._renderCanvas=function(r){this.isMask!==!0&&r.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var r=this._localBounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,zr);for(var i=this.graphicsData,a=0;a<i.length;++a){var o=i[a];if(!!o.fill&&o.shape&&o.shape.contains(zr.x,zr.y)){var s=!1;if(o.holes)for(var u=0;u<o.holes.length;u++){var l=o.holes[u];if(l.contains(zr.x,zr.y)){s=!0;break}}if(!s)return!0}}return!1},t.prototype.updateLocalBounds=function(){var r=Infinity,i=-Infinity,a=Infinity,o=-Infinity;if(this.graphicsData.length)for(var s=0,u=0,l=0,h=0,c=0,v=0;v<this.graphicsData.length;v++){var p=this.graphicsData[v],d=p.type,_=p.lineWidth,m=p.lineAlignment,x=_*m;if(s=p.shape,d===Be.SHAPES.RECT||d===Be.SHAPES.RREC)u=s.x-x,l=s.y-x,h=s.width+x*2,c=s.height+x*2,r=u<r?u:r,i=u+h>i?u+h:i,a=l<a?l:a,o=l+c>o?l+c:o;else if(d===Be.SHAPES.CIRC)u=s.x,l=s.y,h=s.radius+x,c=s.radius+x,r=u-h<r?u-h:r,i=u+h>i?u+h:i,a=l-c<a?l-c:a,o=l+c>o?l+c:o;else if(d===Be.SHAPES.ELIP)u=s.x,l=s.y,h=s.width+x,c=s.height+x,r=u-h<r?u-h:r,i=u+h>i?u+h:i,a=l-c<a?l-c:a,o=l+c>o?l+c:o;else for(var y=s.points,b=0,w=0,E=0,P=0,A=0,S=0,R=0,I=0,D=0;D+2<y.length;D+=2)u=y[D],l=y[D+1],b=y[D+2],w=y[D+3],E=Math.abs(b-u),P=Math.abs(w-l),c=x*2,h=Math.sqrt(E*E+P*P),!(h<1e-9)&&(A=(c/h*P+E)/2,S=(c/h*E+P)/2,R=(b+u)/2,I=(w+l)/2,r=R-A<r?R-A:r,i=R+A>i?R+A:i,a=I-S<a?I-S:a,o=I+S>o?I+S:o)}else r=0,i=0,a=0,o=0;var q=this.boundsPadding;this._localBounds.minX=r-q,this._localBounds.maxX=i+q,this._localBounds.minY=a-q,this._localBounds.maxY=o+q},t.prototype.drawShape=function(r){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var i=new vR.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,r,this.lineAlignment);return this.graphicsData.push(i),i.type===Be.SHAPES.POLY&&(i.shape.closed=i.shape.closed,this.currentPath=i),this.dirty++,i},t.prototype.generateCanvasTexture=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=this.getLocalBounds(),o=cR.default.create(a.width,a.height,r,i);Hs||(Hs=new wR.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(Yr),Yr.invert(),Yr.tx-=a.x,Yr.ty-=a.y,Hs.render(this,o,!0,Yr);var s=Xs.default.fromCanvas(o.baseTexture._canvasRenderTarget.canvas,r,"graphics");return s.baseTexture.resolution=i,s.baseTexture.update(),s},t.prototype.closePath=function(){var r=this.currentPath;return r&&r.shape&&r.shape.close(),this},t.prototype.addHole=function(){var r=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(r.shape),this.currentPath=null,this},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();for(var a in this._webGL)for(var o=0;o<this._webGL[a].data.length;++o)this._webGL[a].data[o].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},t}(hR.default);Ys.default=Vs;Vs._SPRITE_TEXTURE=null;Vs.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}});var ip=T(js=>{f();"use strict";js.__esModule=!0;var RR=Se(),zs=AR(RR);function AR(e){return e&&e.__esModule?e:{default:e}}function CR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var IR=function(){function e(t,n,r){CR(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=zs.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=zs.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new zs.default.VertexArrayObject(t,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,t.FLOAT,!1,4*6,0).addAttribute(this.buffer,n.attributes.aColor,t.FLOAT,!1,4*6,2*4)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();js.default=IR});var ap=T(Ks=>{f();"use strict";Ks.__esModule=!0;var DR=lr(),LR=FR(DR);function FR(e){return e&&e.__esModule?e:{default:e}}function BR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qR=function(e){kR(t,e);function t(n){return BR(this,t),NR(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return t}(LR.default);Ks.default=qR});var jr=T(Js=>{f();"use strict";Js.__esModule=!0;Js.default=function(e,t,n){e.nativeLines?GR(e,n):UR(e,t)};var Zs=he(),op=z();function UR(e,t){var n=e.points;if(n.length!==0){var r=new Zs.Point(n[0],n[1]),i=new Zs.Point(n[n.length-2],n[n.length-1]);if(r.x===i.x&&r.y===i.y){n=n.slice(),n.pop(),n.pop(),i=new Zs.Point(n[n.length-2],n[n.length-1]);var a=i.x+(r.x-i.x)*.5,o=i.y+(r.y-i.y)*.5;n.unshift(a,o),n.push(a,o)}var s=t.points,u=t.indices,l=n.length/2,h=n.length,c=s.length/6,v=e.lineWidth/2,p=(0,op.hex2rgb)(e.lineColor),d=e.lineAlpha,_=p[0]*d,m=p[1]*d,x=p[2]*d,y=n[0],b=n[1],w=n[2],E=n[3],P=0,A=0,S=-(b-E),R=y-w,I=0,D=0,q=0,L=0,C=Math.sqrt(S*S+R*R);S/=C,R/=C,S*=v,R*=v;var k=e.lineAlignment,F=(1-k)*2,U=k*2;s.push(y-S*F,b-R*F,_,m,x,d),s.push(y+S*U,b+R*U,_,m,x,d);for(var X=1;X<l-1;++X){y=n[(X-1)*2],b=n[(X-1)*2+1],w=n[X*2],E=n[X*2+1],P=n[(X+1)*2],A=n[(X+1)*2+1],S=-(b-E),R=y-w,C=Math.sqrt(S*S+R*R),S/=C,R/=C,S*=v,R*=v,I=-(E-A),D=w-P,C=Math.sqrt(I*I+D*D),I/=C,D/=C,I*=v,D*=v;var ee=-R+b-(-R+E),re=-S+w-(-S+y),K=(-S+y)*(-R+E)-(-S+w)*(-R+b),xe=-D+A-(-D+E),se=-I+w-(-I+P),de=(-I+P)*(-D+E)-(-I+w)*(-D+A),We=ee*se-xe*re;if(Math.abs(We)<.1){We+=10.1,s.push(w-S*F,E-R*F,_,m,x,d),s.push(w+S*U,E+R*U,_,m,x,d);continue}var cn=(re*de-se*K)/We,dn=(xe*K-ee*de)/We,q_=(cn-w)*(cn-w)+(dn-E)*(dn-E);q_>196*v*v?(q=S-I,L=R-D,C=Math.sqrt(q*q+L*L),q/=C,L/=C,q*=v,L*=v,s.push(w-q*F,E-L*F),s.push(_,m,x,d),s.push(w+q*U,E+L*U),s.push(_,m,x,d),s.push(w-q*U*F,E-L*F),s.push(_,m,x,d),h++):(s.push(w+(cn-w)*F,E+(dn-E)*F),s.push(_,m,x,d),s.push(w-(cn-w)*U,E-(dn-E)*U),s.push(_,m,x,d))}y=n[(l-2)*2],b=n[(l-2)*2+1],w=n[(l-1)*2],E=n[(l-1)*2+1],S=-(b-E),R=y-w,C=Math.sqrt(S*S+R*R),S/=C,R/=C,S*=v,R*=v,s.push(w-S*F,E-R*F),s.push(_,m,x,d),s.push(w+S*U,E+R*U),s.push(_,m,x,d),u.push(c);for(var Jl=0;Jl<h;++Jl)u.push(c++);u.push(c-1)}}function GR(e,t){var n=0,r=e.points;if(r.length!==0){var i=t.points,a=r.length/2,o=(0,op.hex2rgb)(e.lineColor),s=e.lineAlpha,u=o[0]*s,l=o[1]*s,h=o[2]*s;for(n=1;n<a;n++){var c=r[(n-1)*2],v=r[(n-1)*2+1],p=r[n*2],d=r[n*2+1];i.push(c,v),i.push(u,l,h,s),i.push(p,d),i.push(u,l,h,s)}}}});var up=T(Qs=>{f();"use strict";Qs.__esModule=!0;Qs.default=zR;var XR=jr(),WR=sp(XR),HR=z(),VR=$n(),YR=sp(VR);function sp(e){return e&&e.__esModule?e:{default:e}}function zR(e,t,n){e.points=e.shape.points.slice();var r=e.points;if(e.fill&&r.length>=6){for(var i=[],a=e.holes,o=0;o<a.length;o++){var s=a[o];i.push(r.length/2),r=r.concat(s.points)}var u=t.points,l=t.indices,h=r.length/2,c=(0,HR.hex2rgb)(e.fillColor),v=e.fillAlpha,p=c[0]*v,d=c[1]*v,_=c[2]*v,m=(0,YR.default)(r,i,2);if(!m)return;for(var x=u.length/6,y=0;y<m.length;y+=3)l.push(m[y]+x),l.push(m[y]+x),l.push(m[y+1]+x),l.push(m[y+2]+x),l.push(m[y+2]+x);for(var b=0;b<h;b++)u.push(r[b*2],r[b*2+1],p,d,_,v)}e.lineWidth>0&&(0,WR.default)(e,t,n)}});var lp=T($s=>{f();"use strict";$s.__esModule=!0;$s.default=QR;var jR=jr(),KR=JR(jR),ZR=z();function JR(e){return e&&e.__esModule?e:{default:e}}function QR(e,t,n){var r=e.shape,i=r.x,a=r.y,o=r.width,s=r.height;if(e.fill){var u=(0,ZR.hex2rgb)(e.fillColor),l=e.fillAlpha,h=u[0]*l,c=u[1]*l,v=u[2]*l,p=t.points,d=t.indices,_=p.length/6;p.push(i,a),p.push(h,c,v,l),p.push(i+o,a),p.push(h,c,v,l),p.push(i,a+s),p.push(h,c,v,l),p.push(i+o,a+s),p.push(h,c,v,l),d.push(_,_,_+1,_+2,_+3,_+3)}if(e.lineWidth){var m=e.points;e.points=[i,a,i+o,a,i+o,a+s,i,a+s,i,a],(0,KR.default)(e,t,n),e.points=m}}});var fp=T(eu=>{f();"use strict";eu.__esModule=!0;eu.default=iA;var $R=$n(),eA=hp($R),tA=jr(),rA=hp(tA),nA=z();function hp(e){return e&&e.__esModule?e:{default:e}}function iA(e,t,n){var r=e.shape,i=r.x,a=r.y,o=r.width,s=r.height,u=r.radius,l=[];if(l.push(i+u,a),gi(i+o-u,a,i+o,a,i+o,a+u,l),gi(i+o,a+s-u,i+o,a+s,i+o-u,a+s,l),gi(i+u,a+s,i,a+s,i,a+s-u,l),gi(i,a+u,i,a,i+u+1e-10,a,l),e.fill){for(var h=(0,nA.hex2rgb)(e.fillColor),c=e.fillAlpha,v=h[0]*c,p=h[1]*c,d=h[2]*c,_=t.points,m=t.indices,x=_.length/6,y=(0,eA.default)(l,null,2),b=0,w=y.length;b<w;b+=3)m.push(y[b]+x),m.push(y[b]+x),m.push(y[b+1]+x),m.push(y[b+2]+x),m.push(y[b+2]+x);for(var E=0,P=l.length;E<P;E++)_.push(l[E],l[++E],v,p,d,c)}if(e.lineWidth){var A=e.points;e.points=l,(0,rA.default)(e,t,n),e.points=A}}function fr(e,t,n){var r=t-e;return e+r*n}function gi(e,t,n,r,i,a){for(var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],s=20,u=o,l=0,h=0,c=0,v=0,p=0,d=0,_=0,m=0;_<=s;++_)m=_/s,l=fr(e,n,m),h=fr(t,r,m),c=fr(n,i,m),v=fr(r,a,m),p=fr(l,c,m),d=fr(h,v,m),u.push(p,d);return u}});var cp=T(tu=>{f();"use strict";tu.__esModule=!0;tu.default=hA;var aA=jr(),oA=lA(aA),sA=V(),uA=z();function lA(e){return e&&e.__esModule?e:{default:e}}function hA(e,t,n){var r=e.shape,i=r.x,a=r.y,o=void 0,s=void 0;if(e.type===sA.SHAPES.CIRC?(o=r.radius,s=r.radius):(o=r.width,s=r.height),!(o===0||s===0)){var u=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),l=Math.PI*2/u;if(e.fill){var h=(0,uA.hex2rgb)(e.fillColor),c=e.fillAlpha,v=h[0]*c,p=h[1]*c,d=h[2]*c,_=t.points,m=t.indices,x=_.length/6;m.push(x);for(var y=0;y<u+1;y++)_.push(i,a,v,p,d,c),_.push(i+Math.sin(l*y)*o,a+Math.cos(l*y)*s,v,p,d,c),m.push(x++,x++);m.push(x-1)}if(e.lineWidth){var b=e.points;e.points=[];for(var w=0;w<u;w++)e.points.push(i+Math.sin(l*-w)*o,a+Math.cos(l*-w)*s);e.points.push(e.points[0],e.points[1]),(0,oA.default)(e,t,n),e.points=b}}}});var vp=T(ru=>{f();"use strict";ru.__esModule=!0;var fA=z(),Kr=V(),cA=Gr(),dp=yt(cA),dA=Vr(),pA=yt(dA),vA=ip(),_A=yt(vA),gA=ap(),mA=yt(gA),yA=up(),xA=yt(yA),TA=lp(),bA=yt(TA),wA=fp(),EA=yt(wA),SA=cp(),MA=yt(SA);function yt(e){return e&&e.__esModule?e:{default:e}}function OA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pp=function(e){RA(t,e);function t(n){OA(this,t);var r=PA(this,e.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new mA.default(this.gl)},t.prototype.destroy=function(){dp.default.prototype.destroy.call(this);for(var r=0;r<this.graphicsDataPool.length;++r)this.graphicsDataPool[r].destroy();this.graphicsDataPool=null},t.prototype.render=function(r){var i=this.renderer,a=i.gl,o=void 0,s=r._webGL[this.CONTEXT_UID];(!s||r.dirty!==s.dirty)&&(this.updateGraphics(r),s=r._webGL[this.CONTEXT_UID]);var u=this.primitiveShader;i.bindShader(u),i.state.setBlendMode(r.blendMode);for(var l=0,h=s.data.length;l<h;l++){o=s.data[l];var c=o.shader;i.bindShader(c),c.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),c.uniforms.tint=(0,fA.hex2rgb)(r.tint),c.uniforms.alpha=r.worldAlpha,i.bindVao(o.vao),o.nativeLines?a.drawArrays(a.LINES,0,o.points.length/6):o.vao.draw(a.TRIANGLE_STRIP,o.indices.length)}},t.prototype.updateGraphics=function(r){var i=this.renderer.gl,a=r._webGL[this.CONTEXT_UID];if(a||(a=r._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:i,clearDirty:-1,dirty:-1}),a.dirty=r.dirty,r.clearDirty!==a.clearDirty){a.clearDirty=r.clearDirty;for(var o=0;o<a.data.length;o++)this.graphicsDataPool.push(a.data[o]);a.data.length=0,a.lastIndex=0}for(var s=void 0,u=void 0,l=a.lastIndex;l<r.graphicsData.length;l++){var h=r.graphicsData[l];s=this.getWebGLData(a,0),h.nativeLines&&h.lineWidth&&(u=this.getWebGLData(a,0,!0),a.lastIndex++),h.type===Kr.SHAPES.POLY&&(0,xA.default)(h,s,u),h.type===Kr.SHAPES.RECT?(0,bA.default)(h,s,u):h.type===Kr.SHAPES.CIRC||h.type===Kr.SHAPES.ELIP?(0,MA.default)(h,s,u):h.type===Kr.SHAPES.RREC&&(0,EA.default)(h,s,u),a.lastIndex++}this.renderer.bindVao(null);for(var c=0;c<a.data.length;c++)s=a.data[c],s.dirty&&s.upload()},t.prototype.getWebGLData=function(r,i,a){var o=r.data[r.data.length-1];return(!o||o.nativeLines!==a||o.points.length>32e4)&&(o=this.graphicsDataPool.pop()||new _A.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),o.nativeLines=a,o.reset(i),r.data.push(o)),o.dirty=!0,o},t}(dp.default);ru.default=pp;pA.default.registerPlugin("graphics",pp)});var gp=T(nu=>{f();"use strict";nu.__esModule=!0;var AA=sr(),CA=IA(AA),Zr=V();function IA(e){return e&&e.__esModule?e:{default:e}}function DA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _p=function(){function e(t){DA(this,e),this.renderer=t}return e.prototype.render=function(n){var r=this.renderer,i=r.context,a=n.worldAlpha,o=n.transform.worldTransform,s=r.resolution;i.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),(n.canvasTintDirty!==n.dirty||n._prevTint!==n.tint)&&this.updateGraphicsTint(n),r.setBlendMode(n.blendMode);for(var u=0;u<n.graphicsData.length;u++){var l=n.graphicsData[u],h=l.shape,c=l._fillTint,v=l._lineTint;if(i.lineWidth=l.lineWidth,l.type===Zr.SHAPES.POLY){i.beginPath();var p=h.points,d=l.holes,_=void 0,m=void 0,x=void 0,y=void 0;i.moveTo(p[0],p[1]);for(var b=2;b<p.length;b+=2)i.lineTo(p[b],p[b+1]);if(h.closed&&i.closePath(),d.length>0){_=0,x=p[0],y=p[1];for(var w=2;w+2<p.length;w+=2)_+=(p[w]-x)*(p[w+3]-y)-(p[w+2]-x)*(p[w+1]-y);for(var E=0;E<d.length;E++)if(p=d[E].points,!!p){m=0,x=p[0],y=p[1];for(var P=2;P+2<p.length;P+=2)m+=(p[P]-x)*(p[P+3]-y)-(p[P+2]-x)*(p[P+1]-y);if(m*_<0){i.moveTo(p[0],p[1]);for(var A=2;A<p.length;A+=2)i.lineTo(p[A],p[A+1])}else{i.moveTo(p[p.length-2],p[p.length-1]);for(var S=p.length-4;S>=0;S-=2)i.lineTo(p[S],p[S+1])}d[E].close&&i.closePath()}}l.fill&&(i.globalAlpha=l.fillAlpha*a,i.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6),i.fill()),l.lineWidth&&(i.globalAlpha=l.lineAlpha*a,i.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),i.stroke())}else if(l.type===Zr.SHAPES.RECT)(l.fillColor||l.fillColor===0)&&(i.globalAlpha=l.fillAlpha*a,i.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6),i.fillRect(h.x,h.y,h.width,h.height)),l.lineWidth&&(i.globalAlpha=l.lineAlpha*a,i.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),i.strokeRect(h.x,h.y,h.width,h.height));else if(l.type===Zr.SHAPES.CIRC)i.beginPath(),i.arc(h.x,h.y,h.radius,0,2*Math.PI),i.closePath(),l.fill&&(i.globalAlpha=l.fillAlpha*a,i.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6),i.fill()),l.lineWidth&&(i.globalAlpha=l.lineAlpha*a,i.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),i.stroke());else if(l.type===Zr.SHAPES.ELIP){var R=h.width*2,I=h.height*2,D=h.x-R/2,q=h.y-I/2;i.beginPath();var L=.5522848,C=R/2*L,k=I/2*L,F=D+R,U=q+I,X=D+R/2,ee=q+I/2;i.moveTo(D,ee),i.bezierCurveTo(D,ee-k,X-C,q,X,q),i.bezierCurveTo(X+C,q,F,ee-k,F,ee),i.bezierCurveTo(F,ee+k,X+C,U,X,U),i.bezierCurveTo(X-C,U,D,ee+k,D,ee),i.closePath(),l.fill&&(i.globalAlpha=l.fillAlpha*a,i.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6),i.fill()),l.lineWidth&&(i.globalAlpha=l.lineAlpha*a,i.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),i.stroke())}else if(l.type===Zr.SHAPES.RREC){var re=h.x,K=h.y,xe=h.width,se=h.height,de=h.radius,We=Math.min(xe,se)/2|0;de=de>We?We:de,i.beginPath(),i.moveTo(re,K+de),i.lineTo(re,K+se-de),i.quadraticCurveTo(re,K+se,re+de,K+se),i.lineTo(re+xe-de,K+se),i.quadraticCurveTo(re+xe,K+se,re+xe,K+se-de),i.lineTo(re+xe,K+de),i.quadraticCurveTo(re+xe,K,re+xe-de,K),i.lineTo(re+de,K),i.quadraticCurveTo(re,K,re,K+de),i.closePath(),(l.fillColor||l.fillColor===0)&&(i.globalAlpha=l.fillAlpha*a,i.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6),i.fill()),l.lineWidth&&(i.globalAlpha=l.lineAlpha*a,i.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),i.stroke())}}},e.prototype.updateGraphicsTint=function(n){n._prevTint=n.tint,n.canvasTintDirty=n.dirty;for(var r=(n.tint>>16&255)/255,i=(n.tint>>8&255)/255,a=(n.tint&255)/255,o=0;o<n.graphicsData.length;++o){var s=n.graphicsData[o],u=s.fillColor|0,l=s.lineColor|0;s._fillTint=((u>>16&255)/255*r*255<<16)+((u>>8&255)/255*i*255<<8)+(u&255)/255*a*255,s._lineTint=((l>>16&255)/255*r*255<<16)+((l>>8&255)/255*i*255<<8)+(l&255)/255*a*255}},e.prototype.renderPolygon=function(n,r,i){i.moveTo(n[0],n[1]);for(var a=1;a<n.length/2;++a)i.lineTo(n[a*2],n[a*2+1]);r&&i.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();nu.default=_p;CA.default.registerPlugin("graphics",_p)});var mp=T(iu=>{f();"use strict";iu.__esModule=!0;var LA=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cr=Y(),FA=z();function BA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var NA=function(){LA(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;BA(this,e),this.baseTexture=t,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(n){var r=this.data.meta.scale,i=(0,FA.getResolutionOfUrl)(n,null);return i===null&&(i=r!==void 0?parseFloat(r):1),i!==1&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},e.prototype.parse=function(n){this._batchIndex=0,this._callback=n,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(n){for(var r=n,i=e.BATCH_SIZE,a=this.baseTexture.sourceScale;r-n<i&&r<this._frameKeys.length;){var o=this._frameKeys[r],s=this._frames[o],u=s.frame;if(u){var l=null,h=null,c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,v=new cr.Rectangle(0,0,Math.floor(c.w*a)/this.resolution,Math.floor(c.h*a)/this.resolution);s.rotated?l=new cr.Rectangle(Math.floor(u.x*a)/this.resolution,Math.floor(u.y*a)/this.resolution,Math.floor(u.h*a)/this.resolution,Math.floor(u.w*a)/this.resolution):l=new cr.Rectangle(Math.floor(u.x*a)/this.resolution,Math.floor(u.y*a)/this.resolution,Math.floor(u.w*a)/this.resolution,Math.floor(u.h*a)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new cr.Rectangle(Math.floor(s.spriteSourceSize.x*a)/this.resolution,Math.floor(s.spriteSourceSize.y*a)/this.resolution,Math.floor(u.w*a)/this.resolution,Math.floor(u.h*a)/this.resolution)),this.textures[o]=new cr.Texture(this.baseTexture,l,v,h,s.rotated?2:0,s.anchor),cr.Texture.addToCache(this.textures[o],o)}r++}},e.prototype._processAnimations=function(){var n=this.data.animations||{};for(var r in n){this.animations[r]=[];for(var i=n[r],a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var u=s;this.animations[r].push(this.textures[u])}}},e.prototype._parseComplete=function(){var n=this._callback;this._callback=null,this._batchIndex=0,n.call(this,this.textures)},e.prototype._nextBatch=function(){var n=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){n._batchIndex*e.BATCH_SIZE<n._frameKeys.length?n._nextBatch():(n._processAnimations(),n._parseComplete())},0)},e.prototype.destroy=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,n&&this.baseTexture.destroy(),this.baseTexture=null},e}();iu.default=NA});var ou=T(au=>{f();"use strict";au.__esModule=!0;au.autoDetectRenderer=VA;var kA=z(),qA=HA(kA),UA=sr(),GA=yp(UA),XA=Vr(),WA=yp(XA);function yp(e){return e&&e.__esModule?e:{default:e}}function HA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function VA(e,t,n,r){var i=e&&e.forceCanvas;return r!==void 0&&(i=r),!i&&qA.isWebGLSupported()?new WA.default(e,t,n):new GA.default(e,t,n)}});var uu=T(su=>{f();"use strict";su.__esModule=!0;var YA=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zA=ou(),jA=ar(),KA=Tp(jA),xp=oi(),ZA=ae(),JA=Tp(ZA),QA=V();function Tp(e){return e&&e.__esModule?e:{default:e}}function $A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e1=function(){function e(t,n,r,i,a){$A(this,e),typeof t=="number"&&(t=Object.assign({width:t,height:n||JA.default.RENDER_OPTIONS.height,forceCanvas:!!i,sharedTicker:!!a},r)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,zA.autoDetectRenderer)(t),this.stage=new KA.default,this._ticker=null,this.ticker=t.sharedTicker?xp.shared:new xp.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(n,r){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}this.stage.destroy(r),this.stage=null,this.renderer.destroy(n),this.renderer=null,this._options=null},YA(e,[{key:"ticker",set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,QA.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),e}();su.default=e1});var Y=T(M=>{f();"use strict";M.__esModule=!0;M.autoDetectRenderer=M.Application=M.Filter=M.SpriteMaskFilter=M.Quad=M.RenderTarget=M.ObjectRenderer=M.WebGLManager=M.Shader=M.CanvasRenderTarget=M.TextureUvs=M.VideoBaseTexture=M.BaseRenderTexture=M.RenderTexture=M.BaseTexture=M.TextureMatrix=M.Texture=M.Spritesheet=M.CanvasGraphicsRenderer=M.GraphicsRenderer=M.GraphicsData=M.Graphics=M.TextMetrics=M.TextStyle=M.Text=M.SpriteRenderer=M.CanvasTinter=M.CanvasSpriteRenderer=M.Sprite=M.TransformBase=M.TransformStatic=M.Transform=M.Container=M.DisplayObject=M.Bounds=M.glCore=M.WebGLRenderer=M.CanvasRenderer=M.ticker=M.utils=M.settings=void 0;var bp=V();Object.keys(bp).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(M,e,{enumerable:!0,get:function(){return bp[e]}})});var wp=he();Object.keys(wp).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(M,e,{enumerable:!0,get:function(){return wp[e]}})});var t1=Se();Object.defineProperty(M,"glCore",{enumerable:!0,get:function(){return H(t1).default}});var r1=Hn();Object.defineProperty(M,"Bounds",{enumerable:!0,get:function(){return H(r1).default}});var n1=Ya();Object.defineProperty(M,"DisplayObject",{enumerable:!0,get:function(){return H(n1).default}});var i1=ar();Object.defineProperty(M,"Container",{enumerable:!0,get:function(){return H(i1).default}});var a1=Wa();Object.defineProperty(M,"Transform",{enumerable:!0,get:function(){return H(a1).default}});var o1=Ga();Object.defineProperty(M,"TransformStatic",{enumerable:!0,get:function(){return H(o1).default}});var s1=Yn();Object.defineProperty(M,"TransformBase",{enumerable:!0,get:function(){return H(s1).default}});var u1=li();Object.defineProperty(M,"Sprite",{enumerable:!0,get:function(){return H(u1).default}});var l1=fd();Object.defineProperty(M,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return H(l1).default}});var h1=Ur();Object.defineProperty(M,"CanvasTinter",{enumerable:!0,get:function(){return H(h1).default}});var f1=zd();Object.defineProperty(M,"SpriteRenderer",{enumerable:!0,get:function(){return H(f1).default}});var c1=tp();Object.defineProperty(M,"Text",{enumerable:!0,get:function(){return H(c1).default}});var d1=Ls();Object.defineProperty(M,"TextStyle",{enumerable:!0,get:function(){return H(d1).default}});var p1=Bs();Object.defineProperty(M,"TextMetrics",{enumerable:!0,get:function(){return H(p1).default}});var v1=np();Object.defineProperty(M,"Graphics",{enumerable:!0,get:function(){return H(v1).default}});var _1=Us();Object.defineProperty(M,"GraphicsData",{enumerable:!0,get:function(){return H(_1).default}});var g1=vp();Object.defineProperty(M,"GraphicsRenderer",{enumerable:!0,get:function(){return H(g1).default}});var m1=gp();Object.defineProperty(M,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return H(m1).default}});var y1=mp();Object.defineProperty(M,"Spritesheet",{enumerable:!0,get:function(){return H(y1).default}});var x1=$e();Object.defineProperty(M,"Texture",{enumerable:!0,get:function(){return H(x1).default}});var T1=jo();Object.defineProperty(M,"TextureMatrix",{enumerable:!0,get:function(){return H(T1).default}});var b1=Ut();Object.defineProperty(M,"BaseTexture",{enumerable:!0,get:function(){return H(b1).default}});var w1=hi();Object.defineProperty(M,"RenderTexture",{enumerable:!0,get:function(){return H(w1).default}});var E1=wo();Object.defineProperty(M,"BaseRenderTexture",{enumerable:!0,get:function(){return H(E1).default}});var S1=_o();Object.defineProperty(M,"VideoBaseTexture",{enumerable:!0,get:function(){return H(S1).default}});var M1=mo();Object.defineProperty(M,"TextureUvs",{enumerable:!0,get:function(){return H(M1).default}});var O1=Do();Object.defineProperty(M,"CanvasRenderTarget",{enumerable:!0,get:function(){return H(O1).default}});var P1=lr();Object.defineProperty(M,"Shader",{enumerable:!0,get:function(){return H(P1).default}});var R1=ur();Object.defineProperty(M,"WebGLManager",{enumerable:!0,get:function(){return H(R1).default}});var A1=Gr();Object.defineProperty(M,"ObjectRenderer",{enumerable:!0,get:function(){return H(A1).default}});var C1=Xr();Object.defineProperty(M,"RenderTarget",{enumerable:!0,get:function(){return H(C1).default}});var I1=is();Object.defineProperty(M,"Quad",{enumerable:!0,get:function(){return H(I1).default}});var D1=Zo();Object.defineProperty(M,"SpriteMaskFilter",{enumerable:!0,get:function(){return H(D1).default}});var L1=Yo();Object.defineProperty(M,"Filter",{enumerable:!0,get:function(){return H(L1).default}});var F1=uu();Object.defineProperty(M,"Application",{enumerable:!0,get:function(){return H(F1).default}});var B1=ou();Object.defineProperty(M,"autoDetectRenderer",{enumerable:!0,get:function(){return B1.autoDetectRenderer}});var N1=z(),k1=Ep(N1),q1=oi(),U1=Ep(q1),G1=ae(),X1=H(G1),W1=sr(),H1=H(W1),V1=Vr(),Y1=H(V1);function Ep(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e){return e&&e.__esModule?e:{default:e}}M.settings=X1.default;M.utils=k1;M.ticker=U1;M.CanvasRenderer=H1.default;M.WebGLRenderer=Y1.default});var Mp=T(lu=>{f();"use strict";lu.__esModule=!0;lu.default=z1;var Sp={};function O(e){if(!Sp[e]){var t=new Error().stack;typeof t=="undefined"?console.warn("Deprecation Warning: ",e):(t=t.split(`
`).splice(3).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e),console.warn(t),console.groupEnd()):(console.warn("Deprecation Warning: ",e),console.warn(t))),Sp[e]=!0}}function z1(e){var t=e.mesh,n=e.particles,r=e.extras,i=e.filters,a=e.prepare,o=e.loaders,s=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return O("You do not need to use a PIXI Stage any more, you can simply render any container."),e.Container}},DisplayObjectContainer:{get:function(){return O("DisplayObjectContainer has been shortened to Container, please use Container from now on."),e.Container}},Strip:{get:function(){return O("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),t.Mesh}},Rope:{get:function(){return O("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),t.Rope}},ParticleContainer:{get:function(){return O("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return O("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return O("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return O("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return O("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),e.BLEND_MODES}},scaleModes:{get:function(){return O("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),e.SCALE_MODES}},BaseTextureCache:{get:function(){return O("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),e.utils.BaseTextureCache}},TextureCache:{get:function(){return O("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),e.utils.TextureCache}},math:{get:function(){return O("The math namespace is deprecated, please access members already accessible on PIXI."),e}},AbstractFilter:{get:function(){return O("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.Filter}},TransformManual:{get:function(){return O("TransformManual has been renamed to TransformBase, please update your pixi-spine"),e.TransformBase}},TARGET_FPMS:{get:function(){return O("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS},set:function(_){O("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS=_}},FILTER_RESOLUTION:{get:function(){return O("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION},set:function(_){O("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION=_}},RESOLUTION:{get:function(){return O("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION},set:function(_){O("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION=_}},MIPMAP_TEXTURES:{get:function(){return O("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES},set:function(_){O("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES=_}},SPRITE_BATCH_SIZE:{get:function(){return O("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE},set:function(_){O("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE=_}},SPRITE_MAX_TEXTURES:{get:function(){return O("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES},set:function(_){O("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES=_}},RETINA_PREFIX:{get:function(){return O("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX},set:function(_){O("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX=_}},DEFAULT_RENDER_OPTIONS:{get:function(){return O("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),e.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(_){var m=u[_];Object.defineProperty(e[m.parent],"DEFAULT",{get:function(){return O("PIXI."+m.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+m.target)),e.settings[m.target]},set:function(y){O("PIXI."+m.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+m.target)),e.settings[m.target]=y}})},h=0;h<u.length;h++)l(h);Object.defineProperties(e.settings,{PRECISION:{get:function(){return O("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT},set:function(_){O("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT=_}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return O("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return O("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),e.TextureMatrix}}}),e.DisplayObject.prototype.generateTexture=function(_,m,x){return O("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),_.generateTexture(this,m,x)},e.Graphics.prototype.generateTexture=function(_,m){return O("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(_,m)},e.GroupD8.isSwapWidthHeight=function(_){return O("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),e.GroupD8.isVertical(_)},e.RenderTexture.prototype.render=function(_,m,x,y){this.legacyRenderer.render(_,this,x,m,!y),O("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},e.RenderTexture.prototype.getImage=function(_){return O("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(_)},e.RenderTexture.prototype.getBase64=function(_){return O("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(_)},e.RenderTexture.prototype.getCanvas=function(_){return O("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(_)},e.RenderTexture.prototype.getPixels=function(_){return O("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(_)},e.Sprite.prototype.setTexture=function(_){this.texture=_,O("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(_){this.text=_,O("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),e.Text.prototype.setText=function(_){this.text=_,O("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},e.Text.calculateFontProperties=function(_){return O("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),e.TextMetrics.measureFont(_)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return O("Text.fontPropertiesCache is deprecated"),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return O("Text.fontPropertiesCanvas is deprecated"),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return O("Text.fontPropertiesContext is deprecated"),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(_){this.style=_,O("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},e.Text.prototype.determineFontProperties=function(_){return O("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),e.TextMetrics.measureFont(_)},e.Text.getFontStyle=function(_){return O("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),_=_||{},_ instanceof e.TextStyle||(_=new e.TextStyle(_)),_.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){O("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var _=typeof this._fontSize=="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+_+" "+this._fontFamily},set:function(_){O("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),_.indexOf("italic")>1?this._fontStyle="italic":_.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",_.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var m=_.split(" "),x=-1;this._fontSize=26;for(var y=0;y<m.length;++y)if(m[y].match(/(px|pt|em|%)/)){x=y,this._fontSize=m[y];break}this._fontWeight="normal";for(var b=0;b<x;++b)if(m[b].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=m[b];break}if(x>-1&&x<m.length-1){this._fontFamily="";for(var w=x+1;w<m.length;++w)this._fontFamily+=m[w]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),e.Texture.prototype.setFrame=function(_){this.frame=_,O("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},e.Texture.addTextureToCache=function(_,m){e.Texture.addToCache(_,m),O("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},e.Texture.removeTextureFromCache=function(_){return O("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),e.BaseTexture.removeFromCache(_),e.Texture.removeFromCache(_)},Object.defineProperties(i,{AbstractFilter:{get:function(){return O("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return O("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),e.SpriteMaskFilter}},VoidFilter:{get:function(){return O("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),i.AlphaFilter}}}),e.utils.uuid=function(){return O("utils.uuid() is deprecated, please use utils.uid() from now on."),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return O("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),e.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(e.utils,"_saidHello",{set:function(_){_&&(O("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),c=_},get:function(){return c}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(_,m){return O("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),_&&this.registerFindHook(_),m&&this.registerUploadHook(m),this}),a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){O("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return O("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){O("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return O("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),o.Loader){var v=o.Resource,p=o.Loader;Object.defineProperties(v.prototype,{isJson:{get:function(){return O("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===v.TYPE.JSON}},isXml:{get:function(){return O("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===v.TYPE.XML}},isImage:{get:function(){return O("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===v.TYPE.IMAGE}},isAudio:{get:function(){return O("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===v.TYPE.AUDIO}},isVideo:{get:function(){return O("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===v.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return O("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return O("The after() method is deprecated, please use use()."),this.use}}})}s.interactiveTarget&&Object.defineProperty(s.interactiveTarget,"defaultCursor",{set:function(_){O("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=_},get:function(){return O("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),s.InteractionManager&&(Object.defineProperty(s.InteractionManager,"defaultCursorStyle",{set:function(_){O("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=_},get:function(){return O("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(s.InteractionManager,"currentCursorStyle",{set:function(_){O("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=_},get:function(){return O("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}});var fu=T(hu=>{f();"use strict";hu.__esModule=!0;hu.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}});var Cp=T(du=>{f();"use strict";du.__esModule=!0;var j1=Y(),Jr=Q1(j1),K1=Vn(),Op=Pp(K1),Z1=fu(),J1=Pp(Z1);function Pp(e){return e&&e.__esModule?e:{default:e}}function Q1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Jr.utils.mixins.delayMixin(Jr.DisplayObject.prototype,J1.default);var eC=9,mi=100,tC=0,rC=0,Rp=2,Ap=1,nC=-1e3,iC=-1e3,aC=2,cu=function(){function e(t){$1(this,e),(Op.default.tablet||Op.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var n=document.createElement("div");n.style.width=mi+"px",n.style.height=mi+"px",n.style.position="absolute",n.style.top=tC+"px",n.style.left=rC+"px",n.style.zIndex=Rp,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var n=this,r=document.createElement("button");r.style.width=Ap+"px",r.style.height=Ap+"px",r.style.position="absolute",r.style.top=nC+"px",r.style.left=iC+"px",r.style.zIndex=aC,r.style.backgroundColor="#FF0000",r.title="HOOK DIV",r.addEventListener("focus",function(){n.isMobileAccessabillity=!0,n.activate(),document.body.removeChild(r)}),document.body.appendChild(r)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(n){if(!!n.visible){n.accessible&&n.interactive&&(n._accessibleActive||this.addChild(n),n.renderId=this.renderId);for(var r=n.children,i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}},e.prototype.update=function(){if(!!this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var n=this.renderer.view.getBoundingClientRect(),r=n.width/this.renderer.width,i=n.height/this.renderer.height,a=this.div;a.style.left=n.left+"px",a.style.top=n.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,Jr.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,this.children.length===0&&this.deactivate();else{a=s._accessibleDiv;var u=s.hitArea,l=s.worldTransform;s.hitArea?(a.style.left=(l.tx+u.x*l.a)*r+"px",a.style.top=(l.ty+u.y*l.d)*i+"px",a.style.width=u.width*l.a*r+"px",a.style.height=u.height*l.d*i+"px"):(u=s.getBounds(),this.capHitArea(u),a.style.left=u.x*r+"px",a.style.top=u.y*i+"px",a.style.width=u.width*r+"px",a.style.height=u.height*i+"px",a.title!==s.accessibleTitle&&s.accessibleTitle!==null&&(a.title=s.accessibleTitle),a.getAttribute("aria-label")!==s.accessibleHint&&s.accessibleHint!==null&&a.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},e.prototype.capHitArea=function(n){n.x<0&&(n.width+=n.x,n.x=0),n.y<0&&(n.height+=n.y,n.y=0),n.x+n.width>this.renderer.width&&(n.width=this.renderer.width-n.x),n.y+n.height>this.renderer.height&&(n.height=this.renderer.height-n.y)},e.prototype.addChild=function(n){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=mi+"px",r.style.height=mi+"px",r.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Rp,r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),n.accessibleTitle&&n.accessibleTitle!==null?r.title=n.accessibleTitle:(!n.accessibleHint||n.accessibleHint===null)&&(r.title="displayObject "+n.tabIndex),n.accessibleHint&&n.accessibleHint!==null&&r.setAttribute("aria-label",n.accessibleHint),n._accessibleActive=!0,n._accessibleDiv=r,r.displayObject=n,this.children.push(n),this.div.appendChild(n._accessibleDiv),n._accessibleDiv.tabIndex=n.tabIndex},e.prototype._onClick=function(n){var r=this.renderer.plugins.interaction;r.dispatchEvent(n.target.displayObject,"click",r.eventData)},e.prototype._onFocus=function(n){n.target.getAttribute("aria-live","off")||n.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(n.target.displayObject,"mouseover",r.eventData)},e.prototype._onFocusOut=function(n){n.target.getAttribute("aria-live","off")||n.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(n.target.displayObject,"mouseout",r.eventData)},e.prototype._onKeyDown=function(n){n.keyCode===eC&&this.activate()},e.prototype._onMouseMove=function(n){n.movementX===0&&n.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var n=0;n<this.children.length;n++)this.children[n].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();du.default=cu;Jr.WebGLRenderer.registerPlugin("accessibility",cu);Jr.CanvasRenderer.registerPlugin("accessibility",cu)});var Dp=T(yi=>{f();"use strict";yi.__esModule=!0;var oC=fu();Object.defineProperty(yi,"accessibleTarget",{enumerable:!0,get:function(){return Ip(oC).default}});var sC=Cp();Object.defineProperty(yi,"AccessibilityManager",{enumerable:!0,get:function(){return Ip(sC).default}});function Ip(e){return e&&e.__esModule?e:{default:e}}});var Np=T(pu=>{f();"use strict";pu.__esModule=!0;var uC=Y(),Qr=lC(uC);function lC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function hC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Lp=new Qr.Rectangle,Fp=4,Bp=function(){function e(t){hC(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(n){var r=new Image;return r.src=this.base64(n),r},e.prototype.base64=function(n){return this.canvas(n).toDataURL()},e.prototype.canvas=function(n){var r=this.renderer,i=void 0,a=void 0,o=void 0,s=!1,u=void 0,l=!1;n&&(n instanceof Qr.RenderTexture?u=n:(u=this.renderer.generateTexture(n),l=!0)),u?(i=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=i.resolution,o=u.frame,s=!1):(i=this.renderer.rootRenderTarget,a=i.resolution,s=!0,o=Lp,o.width=i.size.width,o.height=i.size.height);var h=Math.floor(o.width*a+1e-4),c=Math.floor(o.height*a+1e-4),v=new Qr.CanvasRenderTarget(h,c,1);if(i){r.bindRenderTarget(i);var p=new Uint8Array(Fp*h*c),d=r.gl;d.readPixels(o.x*a,o.y*a,h,c,d.RGBA,d.UNSIGNED_BYTE,p);var _=v.context.getImageData(0,0,h,c);_.data.set(p),v.context.putImageData(_,0,0),s&&(v.context.scale(1,-1),v.context.drawImage(v.canvas,0,-c))}return l&&u.destroy(!0),v.canvas},e.prototype.pixels=function(n){var r=this.renderer,i=void 0,a=void 0,o=void 0,s=void 0,u=!1;n&&(n instanceof Qr.RenderTexture?s=n:(s=this.renderer.generateTexture(n),u=!0)),s?(i=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=i.resolution,o=s.frame):(i=this.renderer.rootRenderTarget,a=i.resolution,o=Lp,o.width=i.size.width,o.height=i.size.height);var l=o.width*a,h=o.height*a,c=new Uint8Array(Fp*l*h);if(i){r.bindRenderTarget(i);var v=r.gl;v.readPixels(o.x*a,o.y*a,l,h,v.RGBA,v.UNSIGNED_BYTE,c)}return u&&s.destroy(!0),c},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();pu.default=Bp;Qr.WebGLRenderer.registerPlugin("extract",Bp)});var Up=T(vu=>{f();"use strict";vu.__esModule=!0;var fC=Y(),$r=cC(fC);function cC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function dC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kp=new $r.Rectangle,qp=function(){function e(t){dC(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(n){var r=new Image;return r.src=this.base64(n),r},e.prototype.base64=function(n){return this.canvas(n).toDataURL()},e.prototype.canvas=function(n){var r=this.renderer,i=void 0,a=void 0,o=void 0,s=void 0;n&&(n instanceof $r.RenderTexture?s=n:s=r.generateTexture(n)),s?(i=s.baseTexture._canvasRenderTarget.context,a=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=r.rootContext,a=r.resolution,o=kp,o.width=this.renderer.width,o.height=this.renderer.height);var u=Math.floor(o.width*a+1e-4),l=Math.floor(o.height*a+1e-4),h=new $r.CanvasRenderTarget(u,l,1),c=i.getImageData(o.x*a,o.y*a,u,l);return h.context.putImageData(c,0,0),h.canvas},e.prototype.pixels=function(n){var r=this.renderer,i=void 0,a=void 0,o=void 0,s=void 0;return n&&(n instanceof $r.RenderTexture?s=n:s=r.generateTexture(n)),s?(i=s.baseTexture._canvasRenderTarget.context,a=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=r.rootContext,o=kp,o.width=r.width,o.height=r.height),i.getImageData(0,0,o.width*a,o.height*a).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();vu.default=qp;$r.CanvasRenderer.registerPlugin("extract",qp)});var Xp=T(xi=>{f();"use strict";xi.__esModule=!0;var pC=Np();Object.defineProperty(xi,"webgl",{enumerable:!0,get:function(){return Gp(pC).default}});var vC=Up();Object.defineProperty(xi,"canvas",{enumerable:!0,get:function(){return Gp(vC).default}});function Gp(e){return e&&e.__esModule?e:{default:e}}});var Wp=T(_u=>{f();"use strict";_u.__esModule=!0;var _C=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gC=Y(),xt=mC(gC);function mC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function yC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function TC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bC=function(e){TC(t,e);function t(n,r){yC(this,t);var i=xC(this,e.call(this,n[0]instanceof xt.Texture?n[0]:n[0].texture));return i._textures=null,i._durations=null,i.textures=n,i._autoUpdate=r!==!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return t.prototype.stop=function(){!this.playing||(this.playing=!1,this._autoUpdate&&xt.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&xt.ticker.shared.add(this.update,this,xt.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(r){this.stop();var i=this.currentFrame;this._currentTime=r,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var i=this.currentFrame;this._currentTime=r,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){var i=this.animationSpeed*r,a=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):a!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<a?this.onLoop():this.animationSpeed<0&&this.currentFrame>a&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r)},t.fromFrames=function(r){for(var i=[],a=0;a<r.length;++a)i.push(xt.Texture.fromFrame(r[a]));return new t(i)},t.fromImages=function(r){for(var i=[],a=0;a<r.length;++a)i.push(xt.Texture.fromImage(r[a]));return new t(i)},_C(t,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(r){if(r[0]instanceof xt.Texture)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<r.length;i++)this._textures.push(r[i].texture),this._durations.push(r[i].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r}}]),t}(xt.Sprite);_u.default=bC});var Hp=T(gu=>{f();"use strict";gu.__esModule=!0;var wC=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),EC=Y(),nt=PC(EC),SC=Ur(),MC=OC(SC);function OC(e){return e&&e.__esModule?e:{default:e}}function PC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function RC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var en=new nt.Point,IC=function(e){CC(t,e);function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;RC(this,t);var a=AC(this,e.call(this,n));return a.tileTransform=new nt.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new nt.TextureMatrix(n),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(r){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),r.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(r){var i=this._texture;if(!!i.baseTexture.hasLoaded){var a=r.context,o=this.worldTransform,s=r.resolution,u=i.rotate===2,l=i.baseTexture,h=l.resolution,c=this.tilePosition.x/this.tileScale.x%i.orig.width*h,v=this.tilePosition.y/this.tileScale.y%i.orig.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var p=new nt.CanvasRenderTarget(i.orig.width,i.orig.height,h);if(this.tint!==16777215)this.tintedTexture=MC.default.getTintedTexture(this,this.tint),p.context.drawImage(this.tintedTexture,0,0);else{var d=i._frame.x*h,_=i._frame.y*h,m=i._frame.width*h,x=i._frame.height*h,y=(i.trim?i.trim.width:i.orig.width)*h,b=(i.trim?i.trim.height:i.orig.height)*h,w=(i.trim?i.trim.x:0)*h,E=(i.trim?i.trim.y:0)*h;u?(p.context.rotate(-Math.PI/2),p.context.translate(-b,0),p.context.drawImage(l.source,d,_,m,x,-E,w,b,y)):p.context.drawImage(l.source,d,_,m,x,w,E,y,b)}this.cachedTint=this.tint,this._canvasPattern=p.context.createPattern(p.canvas,"repeat")}a.globalAlpha=this.worldAlpha,a.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),r.setBlendMode(this.blendMode),a.fillStyle=this._canvasPattern,a.scale(this.tileScale.x/h,this.tileScale.y/h);var P=this.anchor.x*-this._width*h,A=this.anchor.y*-this._height*h;this.uvRespectAnchor?(a.translate(c,v),a.fillRect(-c+P,-v+A,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(a.translate(c+P,v+A),a.fillRect(-c,-v,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,i=this._height*-this._anchor._y,a=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,i,a,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new nt.Rectangle),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,en);var i=this._width,a=this._height,o=-i*this.anchor._x;if(en.x>=o&&en.x<o+i){var s=-a*this.anchor._y;if(en.y>=s&&en.y<s+a)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvTransform=null},t.from=function(r,i,a){return new t(nt.Texture.from(r),i,a)},t.fromFrame=function(r,i,a){var o=nt.utils.TextureCache[r];if(!o)throw new Error('The frameId "'+r+'" does not exist in the texture cache '+this);return new t(o,i,a)},t.fromImage=function(r,i,a,o,s){return new t(nt.Texture.fromImage(r,o,s),i,a)},wC(t,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(r){this.uvTransform.clampMargin=r,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copy(r)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copy(r)}},{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}}]),t}(nt.Sprite);gu.default=IC});var Yp=T(yu=>{f();"use strict";yu.__esModule=!0;var DC=Y(),Tt=LC(DC),mu=V(),y4=Pe("path");function LC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function FC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function NC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ti=new Tt.Matrix,Vp=function(e){NC(t,e);function t(n){FC(this,t);var r=BC(this,e.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return t.prototype.onContextChange=function(){var r=this.renderer.gl;this.shader=new Tt.Shader(r,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`),this.simpleShader=new Tt.Shader(r,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`),this.renderer.bindVao(null),this.quad=new Tt.Quad(r,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(r){var i=this.renderer,a=this.quad;i.bindVao(a.vao);var o=a.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(o=a.uvs,o[0]=o[6]=-r.anchor.x,o[1]=o[3]=-r.anchor.y,o[2]=o[4]=1-r.anchor.x,o[5]=o[7]=1-r.anchor.y),a.upload();var s=r._texture,u=s.baseTexture,l=r.tileTransform.localTransform,h=r.uvTransform,c=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;c&&(u._glTextures[i.CONTEXT_UID]?c=u.wrapMode!==mu.WRAP_MODES.CLAMP:u.wrapMode===mu.WRAP_MODES.CLAMP&&(u.wrapMode=mu.WRAP_MODES.REPEAT));var v=c?this.simpleShader:this.shader;i.bindShader(v);var p=s.width,d=s.height,_=r._width,m=r._height;Ti.set(l.a*p/_,l.b*p/m,l.c*d/_,l.d*d/m,l.tx/_,l.ty/m),Ti.invert(),c?Ti.prepend(h.mapCoord):(v.uniforms.uMapCoord=h.mapCoord.toArray(!0),v.uniforms.uClampFrame=h.uClampFrame,v.uniforms.uClampOffset=h.uClampOffset),v.uniforms.uTransform=Ti.toArray(!0),v.uniforms.uColor=Tt.utils.premultiplyTintToRgba(r.tint,r.worldAlpha,v.uniforms.uColor,u.premultipliedAlpha),v.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),v.uniforms.uSampler=i.bindTexture(s),i.setBlendMode(Tt.utils.correctBlendMode(r.blendMode,u.premultipliedAlpha)),a.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Tt.ObjectRenderer);yu.default=Vp;Tt.WebGLRenderer.registerPlugin("tilingSprite",Vp)});var Kp=T(xu=>{f();"use strict";xu.__esModule=!0;var kC=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qC=Y(),bt=VC(qC),UC=ca(),GC=zp(UC),XC=z(),WC=ae(),HC=zp(WC);function zp(e){return e&&e.__esModule?e:{default:e}}function VC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function YC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jp=function(e){jC(t,e);function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};YC(this,t);var i=zC(this,e.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:r.tint!==void 0?r.tint:16777215,align:r.align||"left",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new GC.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return t.prototype.updateText=function(){for(var r=t.fonts[this._font.name],i=this._font.size/r.size,a=new bt.Point,o=[],s=[],u=this.text.replace(/(?:\r\n|\r)/g,`
`),l=u.length,h=this._maxWidth*r.size/this._font.size,c=null,v=0,p=0,d=0,_=-1,m=0,x=0,y=0,b=0;b<l;b++){var w=u.charCodeAt(b),E=u.charAt(b);if(/(?:\s)/.test(E)&&(_=b,m=v),E==="\r"||E===`
`){s.push(v),p=Math.max(p,v),++d,++x,a.x=0,a.y+=r.lineHeight,c=null;continue}var P=r.chars[w];!P||(c&&P.kerning[c]&&(a.x+=P.kerning[c]),o.push({texture:P.texture,line:d,charCode:w,position:new bt.Point(a.x+P.xOffset+this._letterSpacing/2,a.y+P.yOffset)}),a.x+=P.xAdvance+this._letterSpacing,v=a.x,y=Math.max(y,P.yOffset+P.texture.height),c=w,_!==-1&&h>0&&a.x>h&&(++x,bt.utils.removeItems(o,1+_-x,1+b-_),b=_,_=-1,s.push(m),p=Math.max(p,m),d++,a.x=0,a.y+=r.lineHeight,c=null))}var A=u.charAt(u.length-1);A!=="\r"&&A!==`
`&&(/(?:\s)/.test(A)&&(v=m),s.push(v),p=Math.max(p,v));for(var S=[],R=0;R<=d;R++){var I=0;this._font.align==="right"?I=p-s[R]:this._font.align==="center"&&(I=(p-s[R])/2),S.push(I)}for(var D=o.length,q=this.tint,L=0;L<D;L++){var C=this._glyphs[L];C?C.texture=o[L].texture:(C=new bt.Sprite(o[L].texture),this._glyphs.push(C)),C.position.x=(o[L].position.x+S[o[L].line])*i,C.position.y=o[L].position.y*i,C.scale.x=C.scale.y=i,C.tint=q,C.parent||this.addChild(C)}for(var k=D;k<this._glyphs.length;++k)this.removeChild(this._glyphs[k]);if(this._textWidth=p*i,this._textHeight=(a.y+r.lineHeight)*i,this.anchor.x!==0||this.anchor.y!==0)for(var F=0;F<D;F++)this._glyphs[F].x-=this._textWidth*this.anchor.x,this._glyphs[F].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*i},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(r,i){var a={},o=r.getElementsByTagName("info")[0],s=r.getElementsByTagName("common")[0],u=r.getElementsByTagName("page"),l=(0,XC.getResolutionOfUrl)(u[0].getAttribute("file"),HC.default.RESOLUTION),h={};a.font=o.getAttribute("face"),a.size=parseInt(o.getAttribute("size"),10),a.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/l,a.chars={},i instanceof bt.Texture&&(i=[i]);for(var c=0;c<u.length;c++){var v=u[c].getAttribute("id"),p=u[c].getAttribute("file");h[v]=i instanceof Array?i[c]:i[p]}for(var d=r.getElementsByTagName("char"),_=0;_<d.length;_++){var m=d[_],x=parseInt(m.getAttribute("id"),10),y=m.getAttribute("page")||0,b=new bt.Rectangle(parseInt(m.getAttribute("x"),10)/l+h[y].frame.x/l,parseInt(m.getAttribute("y"),10)/l+h[y].frame.y/l,parseInt(m.getAttribute("width"),10)/l,parseInt(m.getAttribute("height"),10)/l);a.chars[x]={xOffset:parseInt(m.getAttribute("xoffset"),10)/l,yOffset:parseInt(m.getAttribute("yoffset"),10)/l,xAdvance:parseInt(m.getAttribute("xadvance"),10)/l,kerning:{},texture:new bt.Texture(h[y].baseTexture,b),page:y}}for(var w=r.getElementsByTagName("kerning"),E=0;E<w.length;E++){var P=w[E],A=parseInt(P.getAttribute("first"),10)/l,S=parseInt(P.getAttribute("second"),10)/l,R=parseInt(P.getAttribute("amount"),10)/l;a.chars[S]&&(a.chars[S].kerning[A]=R)}return t.fonts[a.font]=a,a},kC(t,[{key:"tint",get:function(){return this._font.tint},set:function(r){this._font.tint=typeof r=="number"&&r>=0?r:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(r){this._font.align=r||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copy(r)}},{key:"font",get:function(){return this._font},set:function(r){!r||(typeof r=="string"?(r=r.split(" "),this._font.name=r.length===1?r[0]:r.slice(1).join(" "),this._font.size=r.length>=2?parseInt(r[0],10):t.fonts[this._font.name].size):(this._font.name=r.name,this._font.size=typeof r.size=="number"?r.size:parseInt(r.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(r){r=r.toString()||" ",this._text!==r&&(this._text=r,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),t}(bt.Container);xu.default=jp;jp.fonts={}});var $p=T(()=>{f();"use strict";var KC=Y(),wt=QC(KC),ZC=$e(),Tu=Jp(ZC),JC=Ut(),bu=Jp(JC),Zp=z();function Jp(e){return e&&e.__esModule?e:{default:e}}function QC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ne=wt.DisplayObject,Qp=new wt.Matrix;Ne.prototype._cacheAsBitmap=!1;Ne.prototype._cacheData=!1;var eI=function e(){$C(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Ne.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var n=void 0;t?(this._cacheData||(this._cacheData=new eI),n=this._cacheData,n.originalRenderWebGL=this.renderWebGL,n.originalRenderCanvas=this.renderCanvas,n.originalUpdateTransform=this.updateTransform,n.originalCalculateBounds=this.calculateBounds,n.originalGetLocalBounds=this.getLocalBounds,n.originalDestroy=this.destroy,n.originalContainsPoint=this.containsPoint,n.originalMask=this._mask,n.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(n=this._cacheData,n.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=n.originalRenderWebGL,this.renderCanvas=n.originalRenderCanvas,this.calculateBounds=n.originalCalculateBounds,this.getLocalBounds=n.originalGetLocalBounds,this.destroy=n.originalDestroy,this.updateTransform=n.originalUpdateTransform,this.containsPoint=n.originalContainsPoint,this._mask=n.originalMask,this.filterArea=n.originalFilterArea)}}}});Ne.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))};Ne.prototype._initCachedDisplayObject=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var i=this._filters[0].padding;r.pad(i)}r.ceil(wt.settings.RESOLUTION);var a=t._activeRenderTarget,o=t.filterManager.filterStack,s=wt.RenderTexture.create(r.width,r.height),u="cacheAsBitmap_"+(0,Zp.uid)();this._cacheData.textureCacheId=u,bu.default.addToCache(s.baseTexture,u),Tu.default.addToCache(s,u);var l=Qp;l.tx=-r.x,l.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,s,!0,l,!0),t.bindRenderTarget(a),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new wt.Sprite(s);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Ne.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Ne.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;n.ceil(wt.settings.RESOLUTION);var a=wt.RenderTexture.create(n.width,n.height),o="cacheAsBitmap_"+(0,Zp.uid)();this._cacheData.textureCacheId=o,bu.default.addToCache(a.baseTexture,o),Tu.default.addToCache(a,o);var s=Qp;this.transform.localTransform.copy(s),s.invert(),s.tx-=n.x,s.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,a,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new wt.Sprite(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Ne.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID};Ne.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};Ne.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,bu.default.removeFromCache(this._cacheData.textureCacheId),Tu.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ne.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}});var tv=T(()=>{f();"use strict";var tI=Y(),ev=rI(tI);function rI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}ev.DisplayObject.prototype.name=null;ev.Container.prototype.getChildByName=function(t){for(var n=0;n<this.children.length;n++)if(this.children[n].name===t)return this.children[n];return null}});var nv=T(()=>{f();"use strict";var nI=Y(),rv=iI(nI);function iI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}rv.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new rv.Point,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.parent?this.parent.toGlobal(this.position,t,n):(t.x=this.position.x,t.y=this.position.y),t}});var wu=T(Ge=>{f();"use strict";Ge.__esModule=!0;Ge.BitmapText=Ge.TilingSpriteRenderer=Ge.TilingSprite=Ge.AnimatedSprite=void 0;var aI=Wp();Object.defineProperty(Ge,"AnimatedSprite",{enumerable:!0,get:function(){return bi(aI).default}});var oI=Hp();Object.defineProperty(Ge,"TilingSprite",{enumerable:!0,get:function(){return bi(oI).default}});var sI=Yp();Object.defineProperty(Ge,"TilingSpriteRenderer",{enumerable:!0,get:function(){return bi(sI).default}});var uI=Kp();Object.defineProperty(Ge,"BitmapText",{enumerable:!0,get:function(){return bi(uI).default}});$p();tv();nv();function bi(e){return e&&e.__esModule?e:{default:e}}});var iv=T(Eu=>{f();"use strict";Eu.__esModule=!0;var lI=Y(),hI=fI(lI),R4=Pe("path");function fI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vI=function(e){pI(t,e);function t(){return cI(this,t),dI(this,e.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return t}(hI.Filter);Eu.default=vI});var av=T(Su=>{f();"use strict";Su.__esModule=!0;var _I=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gI=Y(),mI=yI(gI),C4=Pe("path");function yI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function xI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wI=function(e){bI(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();xI(this,t);var i=TI(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`));return i.noise=n,i.seed=r,i}return _I(t,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r}}]),t}(mI.Filter);Su.default=wI});var ov=T(Ou=>{f();"use strict";Ou.__esModule=!0;var EI=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SI=Y(),Mu=MI(SI),D4=Pe("path");function MI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function OI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var AI=function(e){RI(t,e);function t(n,r){OI(this,t);var i=new Mu.Matrix;n.renderable=!1;var a=PI(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy *= scale / filterArea.xy;

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`));return a.maskSprite=n,a.maskMatrix=i,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=i,a.uniforms.scale={x:1,y:1},r==null&&(r=20),a.scale=new Mu.Point(r,r),a}return t.prototype.apply=function(r,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,r.applyFilter(this,i,a)},EI(t,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r}}]),t}(Mu.Filter);Ou.default=AI});var Ru=T(Pu=>{f();"use strict";Pu.__esModule=!0;Pu.default=II;var CI=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`);function II(e,t){var n=Math.ceil(e/2),r=CI,i="",a=void 0;t?a="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var s=a.replace("%index%",o);s=s.replace("%sampleIndex%",o-(n-1)+".0"),i+=s,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e),r}});var Cu=T(Au=>{f();"use strict";Au.__esModule=!0;Au.default=FI;var DI={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},LI=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function FI(e){for(var t=DI[e],n=t.length,r=LI,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o=void 0,s=0;s<e;s++){var u=a.replace("%index%",s);o=s,s>=n&&(o=e-s-1),u=u.replace("%value%",t[o]),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e),r}});var Du=T(Iu=>{f();"use strict";Iu.__esModule=!0;Iu.default=BI;function BI(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),n=15;n>t;)n-=2;return n}});var Bu=T(Fu=>{f();"use strict";Fu.__esModule=!0;var NI=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kI=Y(),sv=WI(kI),qI=Ru(),uv=Lu(qI),UI=Cu(),lv=Lu(UI),GI=Du(),XI=Lu(GI);function Lu(e){return e&&e.__esModule?e:{default:e}}function WI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function HI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zI=function(e){YI(t,e);function t(n,r,i,a){HI(this,t),a=a||5;var o=(0,uv.default)(a,!0),s=(0,lv.default)(a),u=VI(this,e.call(this,o,s));return u.resolution=i||sv.settings.RESOLUTION,u._quality=0,u.quality=r||4,u.strength=n||8,u.firstRun=!0,u}return t.prototype.apply=function(r,i,a,o){if(this.firstRun){var s=r.renderer.gl,u=(0,XI.default)(s);this.vertexSrc=(0,uv.default)(u,!0),this.fragmentSrc=(0,lv.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/a.size.width*(a.size.width/i.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,i,a,o);else{for(var l=r.getRenderTarget(!0),h=i,c=l,v=0;v<this.passes-1;v++){r.applyFilter(this,h,c,!0);var p=c;c=h,h=p}r.applyFilter(this,h,a,o),r.returnRenderTarget(l)}},NI(t,[{key:"blur",get:function(){return this.strength},set:function(r){this.padding=Math.abs(r)*2,this.strength=r}},{key:"quality",get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r}}]),t}(sv.Filter);Fu.default=zI});var qu=T(ku=>{f();"use strict";ku.__esModule=!0;var jI=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),KI=Y(),hv=eD(KI),ZI=Ru(),fv=Nu(ZI),JI=Cu(),cv=Nu(JI),QI=Du(),$I=Nu(QI);function Nu(e){return e&&e.__esModule?e:{default:e}}function eD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function tD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iD=function(e){nD(t,e);function t(n,r,i,a){tD(this,t),a=a||5;var o=(0,fv.default)(a,!1),s=(0,cv.default)(a),u=rD(this,e.call(this,o,s));return u.resolution=i||hv.settings.RESOLUTION,u._quality=0,u.quality=r||4,u.strength=n||8,u.firstRun=!0,u}return t.prototype.apply=function(r,i,a,o){if(this.firstRun){var s=r.renderer.gl,u=(0,$I.default)(s);this.vertexSrc=(0,fv.default)(u,!1),this.fragmentSrc=(0,cv.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/a.size.height*(a.size.height/i.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,i,a,o);else{for(var l=r.getRenderTarget(!0),h=i,c=l,v=0;v<this.passes-1;v++){r.applyFilter(this,h,c,!0);var p=c;c=h,h=p}r.applyFilter(this,h,a,o),r.returnRenderTarget(l)}},jI(t,[{key:"blur",get:function(){return this.strength},set:function(r){this.padding=Math.abs(r)*2,this.strength=r}},{key:"quality",get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r}}]),t}(hv.Filter);ku.default=iD});var vv=T(Uu=>{f();"use strict";Uu.__esModule=!0;var aD=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oD=Y(),dv=fD(oD),sD=Bu(),uD=pv(sD),lD=qu(),hD=pv(lD);function pv(e){return e&&e.__esModule?e:{default:e}}function fD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function cD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vD=function(e){pD(t,e);function t(n,r,i,a){cD(this,t);var o=dD(this,e.call(this));return o.blurXFilter=new uD.default(n,r,i,a),o.blurYFilter=new hD.default(n,r,i,a),o.padding=0,o.resolution=i||dv.settings.RESOLUTION,o.quality=r||4,o.blur=n||8,o}return t.prototype.apply=function(r,i,a){var o=r.getRenderTarget(!0);this.blurXFilter.apply(r,i,o,!0),this.blurYFilter.apply(r,o,a,!1),r.returnRenderTarget(o)},aD(t,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(r){this.blurYFilter._blendMode=r}}]),t}(dv.Filter);Uu.default=vD});var _v=T(Xu=>{f();"use strict";Xu.__esModule=!0;var _D=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gD=Y(),mD=yD(gD),G4=Pe("path");function yD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function xD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gu=function(e){bD(t,e);function t(){xD(this,t);var n=TD(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return t.prototype._loadMatrix=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r;i&&(this._multiply(a,this.uniforms.m,r),a=this._colorMatrix(a)),this.uniforms.m=a},t.prototype._multiply=function(r,i,a){return r[0]=i[0]*a[0]+i[1]*a[5]+i[2]*a[10]+i[3]*a[15],r[1]=i[0]*a[1]+i[1]*a[6]+i[2]*a[11]+i[3]*a[16],r[2]=i[0]*a[2]+i[1]*a[7]+i[2]*a[12]+i[3]*a[17],r[3]=i[0]*a[3]+i[1]*a[8]+i[2]*a[13]+i[3]*a[18],r[4]=i[0]*a[4]+i[1]*a[9]+i[2]*a[14]+i[3]*a[19]+i[4],r[5]=i[5]*a[0]+i[6]*a[5]+i[7]*a[10]+i[8]*a[15],r[6]=i[5]*a[1]+i[6]*a[6]+i[7]*a[11]+i[8]*a[16],r[7]=i[5]*a[2]+i[6]*a[7]+i[7]*a[12]+i[8]*a[17],r[8]=i[5]*a[3]+i[6]*a[8]+i[7]*a[13]+i[8]*a[18],r[9]=i[5]*a[4]+i[6]*a[9]+i[7]*a[14]+i[8]*a[19]+i[9],r[10]=i[10]*a[0]+i[11]*a[5]+i[12]*a[10]+i[13]*a[15],r[11]=i[10]*a[1]+i[11]*a[6]+i[12]*a[11]+i[13]*a[16],r[12]=i[10]*a[2]+i[11]*a[7]+i[12]*a[12]+i[13]*a[17],r[13]=i[10]*a[3]+i[11]*a[8]+i[12]*a[13]+i[13]*a[18],r[14]=i[10]*a[4]+i[11]*a[9]+i[12]*a[14]+i[13]*a[19]+i[14],r[15]=i[15]*a[0]+i[16]*a[5]+i[17]*a[10]+i[18]*a[15],r[16]=i[15]*a[1]+i[16]*a[6]+i[17]*a[11]+i[18]*a[16],r[17]=i[15]*a[2]+i[16]*a[7]+i[17]*a[12]+i[18]*a[17],r[18]=i[15]*a[3]+i[16]*a[8]+i[17]*a[13]+i[18]*a[18],r[19]=i[15]*a[4]+i[16]*a[9]+i[17]*a[14]+i[18]*a[19]+i[19],r},t.prototype._colorMatrix=function(r){var i=new Float32Array(r);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(r,i){var a=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.greyscale=function(r,i){var a=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.blackAndWhite=function(r){var i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.hue=function(r,i){r=(r||0)/180*Math.PI;var a=Math.cos(r),o=Math.sin(r),s=Math.sqrt,u=1/3,l=s(u),h=a+(1-a)*u,c=u*(1-a)-l*o,v=u*(1-a)+l*o,p=u*(1-a)+l*o,d=a+u*(1-a),_=u*(1-a)-l*o,m=u*(1-a)-l*o,x=u*(1-a)+l*o,y=a+u*(1-a),b=[h,c,v,0,0,p,d,_,0,0,m,x,y,0,0,0,0,0,1,0];this._loadMatrix(b,i)},t.prototype.contrast=function(r,i){var a=(r||0)+1,o=-.5*(a-1),s=[a,0,0,0,o,0,a,0,0,o,0,0,a,0,o,0,0,0,1,0];this._loadMatrix(s,i)},t.prototype.saturate=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1],a=r*2/3+1,o=(a-1)*-.5,s=[a,o,o,0,0,o,a,o,0,0,o,o,a,0,0,0,0,0,1,0];this._loadMatrix(s,i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.sepia=function(r){var i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.technicolor=function(r){var i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.polaroid=function(r){var i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.toBGR=function(r){var i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.kodachrome=function(r){var i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.browni=function(r){var i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.vintage=function(r){var i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.colorTone=function(r,i,a,o,s){r=r||.2,i=i||.15,a=a||16770432,o=o||3375104;var u=(a>>16&255)/255,l=(a>>8&255)/255,h=(a&255)/255,c=(o>>16&255)/255,v=(o>>8&255)/255,p=(o&255)/255,d=[.3,.59,.11,0,0,u,l,h,r,0,c,v,p,i,0,u-c,l-v,h-p,0,0];this._loadMatrix(d,s)},t.prototype.night=function(r,i){r=r||.1;var a=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.predator=function(r,i){var a=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(a,i)},t.prototype.lsd=function(r){var i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},_D(t,[{key:"matrix",get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r}}]),t}(mD.Filter);Xu.default=Gu;Gu.prototype.grayscale=Gu.prototype.greyscale});var gv=T(Wu=>{f();"use strict";Wu.__esModule=!0;var wD=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ED=Y(),SD=MD(ED),W4=Pe("path");function MD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function OD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var AD=function(e){RD(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;OD(this,t);var r=PD(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`));return r.alpha=n,r.glShaderKey="alpha",r}return wD(t,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r}}]),t}(SD.Filter);Wu.default=AD});var mv=T(Xe=>{f();"use strict";Xe.__esModule=!0;var CD=iv();Object.defineProperty(Xe,"FXAAFilter",{enumerable:!0,get:function(){return Et(CD).default}});var ID=av();Object.defineProperty(Xe,"NoiseFilter",{enumerable:!0,get:function(){return Et(ID).default}});var DD=ov();Object.defineProperty(Xe,"DisplacementFilter",{enumerable:!0,get:function(){return Et(DD).default}});var LD=vv();Object.defineProperty(Xe,"BlurFilter",{enumerable:!0,get:function(){return Et(LD).default}});var FD=Bu();Object.defineProperty(Xe,"BlurXFilter",{enumerable:!0,get:function(){return Et(FD).default}});var BD=qu();Object.defineProperty(Xe,"BlurYFilter",{enumerable:!0,get:function(){return Et(BD).default}});var ND=_v();Object.defineProperty(Xe,"ColorMatrixFilter",{enumerable:!0,get:function(){return Et(ND).default}});var kD=gv();Object.defineProperty(Xe,"AlphaFilter",{enumerable:!0,get:function(){return Et(kD).default}});function Et(e){return e&&e.__esModule?e:{default:e}}});var Vu=T(Hu=>{f();"use strict";Hu.__esModule=!0;var qD=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),UD=Y(),GD=XD(UD);function XD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function WD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var HD=function(){function e(){WD(this,e),this.global=new GD.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(n,r,i){return n.worldTransform.applyInverse(i||this.global,r)},e.prototype.copyEvent=function(n){n.isPrimary&&(this.isPrimary=!0),this.button=n.button,this.buttons=Number.isInteger(n.buttons)?n.buttons:n.which,this.width=n.width,this.height=n.height,this.tiltX=n.tiltX,this.tiltY=n.tiltY,this.pointerType=n.pointerType,this.pressure=n.pressure,this.rotationAngle=n.rotationAngle,this.twist=n.twist||0,this.tangentialPressure=n.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},qD(e,[{key:"pointerId",get:function(){return this.identifier}}]),e}();Hu.default=HD});var zu=T(Yu=>{f();"use strict";Yu.__esModule=!0;function VD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var YD=function(){function e(){VD(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();Yu.default=YD});var Ku=T(ju=>{f();"use strict";ju.__esModule=!0;var zD=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function jD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yv=function(){function e(t){jD(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(n,r){r?this._flags=this._flags|n:this._flags=this._flags&~n},zD(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(n){this._flags=n}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!=0},set:function(n){this._doSet(this.constructor.FLAGS.OVER,n)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!=0},set:function(n){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,n)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!=0},set:function(n){this._doSet(this.constructor.FLAGS.LEFT_DOWN,n)}}]),e}();ju.default=yv;yv.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})});var Ju=T(Zu=>{f();"use strict";Zu.__esModule=!0;Zu.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}});var Tv=T(el=>{f();"use strict";el.__esModule=!0;var KD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZD=Y(),St=a2(ZD),JD=Vu(),xv=tn(JD),QD=zu(),$D=tn(QD),e2=Ku(),Qu=tn(e2),t2=vt(),r2=tn(t2),n2=Ju(),i2=tn(n2);function tn(e){return e&&e.__esModule?e:{default:e}}function a2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function u2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}St.utils.mixins.delayMixin(St.DisplayObject.prototype,i2.default);var wi=1,Ei={target:null,data:{global:null}},$u=function(e){u2(t,e);function t(n,r){o2(this,t);var i=s2(this,e.call(this));return r=r||{},i.renderer=n,i.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new xv.default,i.mouse.identifier=wi,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[wi]=i.mouse,i.interactionDataPool=[],i.eventData=new $D.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new St.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return t.prototype.hitTest=function(r,i){return Ei.target=null,Ei.data.global=r,i||(i=this.renderer._lastObjectRendered),this.processInteractive(Ei,i,null,!0),Ei.target},t.prototype.setTargetElement=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=r,this.resolution=i,this.addEvents()},t.prototype.addEvents=function(){!this.interactionDOMElement||(St.ticker.shared.add(this.update,this,St.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){!this.interactionDOMElement||(St.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(r){if(this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var i in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var a=this.activeInteractionData[i];if(a.originalEvent&&a.pointerType!=="touch"){var o=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a);this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i=="undefined"?"undefined":KD(i)){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(r);break;case"object":Object.assign(this.interactionDOMElement.style,i);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,i,a){a.stopped||(a.currentTarget=r,a.type=i,r.emit(i,a),r[i]&&r[i](a))},t.prototype.mapPositionToPoint=function(r,i,a){var o=void 0;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:0,height:0};var s=navigator.isCocoonJS?this.resolution:1/this.resolution;r.x=(i-o.left)*(this.interactionDOMElement.width/o.width)*s,r.y=(a-o.top)*(this.interactionDOMElement.height/o.height)*s},t.prototype.processInteractive=function(r,i,a,o,s){if(!i||!i.visible)return!1;var u=r.data.global;s=i.interactive||s;var l=!1,h=s,c=!0;if(i.hitArea?(o&&(i.worldTransform.applyInverse(u,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(o=!1,c=!1)),h=!1):i._mask&&o&&(i._mask.containsPoint(u)||(o=!1,c=!1)),c&&i.interactiveChildren&&i.children)for(var v=i.children,p=v.length-1;p>=0;p--){var d=v[p],_=this.processInteractive(r,d,a,o,h);if(_){if(!d.parent)continue;h=!1,_&&(r.target&&(o=!1),l=!0)}}return s&&(o&&!r.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(u)&&(l=!0),i.interactive&&(l&&!r.target&&(r.target=i),a&&a(r,i,!!l))),l},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);this.autoPreventDefault&&i[0].isNormalized&&r.preventDefault();for(var a=i.length,o=0;o<a;o++){var s=i[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=r,this.processInteractive(l,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,i,a){var o=r.data,s=r.data.identifier;if(a){if(i.trackedPointers[s]||(i.trackedPointers[s]=new Qu.default(s)),this.dispatchEvent(i,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(i,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var u=o.button===2;u?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,u?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,i,a){for(var o=this.normalizeToPointerData(r),s=o.length,u=r.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var h=o[l],c=this.getInteractionDataForPointerId(h),v=this.configureInteractionEventForDOMEvent(this.eventData,h,c);if(v.data.originalEvent=r,this.processInteractive(v,this.renderer._lastObjectRendered,a,i||!u),this.emit(i?"pointercancel":"pointerup"+u,v),h.pointerType==="mouse"||h.pointerType==="pen"){var p=h.button===2;this.emit(p?"rightup"+u:"mouseup"+u,v)}else h.pointerType==="touch"&&(this.emit(i?"touchcancel":"touchend"+u,v),this.releaseInteractionDataForPointerId(h.pointerId,c))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,i){var a=r.data,o=r.data.identifier;i.trackedPointers[o]!==void 0&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",r),a.pointerType==="touch"&&this.dispatchEvent(i,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,i,a){var o=r.data,s=r.data.identifier,u=i.trackedPointers[s],l=o.pointerType==="touch",h=o.pointerType==="mouse"||o.pointerType==="pen",c=!1;if(h){var v=o.button===2,p=Qu.default.FLAGS,d=v?p.RIGHT_DOWN:p.LEFT_DOWN,_=u!==void 0&&u.flags&d;a?(this.dispatchEvent(i,v?"rightup":"mouseup",r),_&&(this.dispatchEvent(i,v?"rightclick":"click",r),c=!0)):_&&this.dispatchEvent(i,v?"rightupoutside":"mouseupoutside",r),u&&(v?u.rightDown=!1:u.leftDown=!1)}a?(this.dispatchEvent(i,"pointerup",r),l&&this.dispatchEvent(i,"touchend",r),u&&((!h||c)&&this.dispatchEvent(i,"pointertap",r),l&&(this.dispatchEvent(i,"tap",r),u.over=!1))):u&&(this.dispatchEvent(i,"pointerupoutside",r),l&&this.dispatchEvent(i,"touchendoutside",r)),u&&u.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);(i[0].pointerType==="mouse"||i[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var a=i.length,o=0;o<a;o++){var s=i[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);l.data.originalEvent=r;var h=s.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(l,this.renderer._lastObjectRendered,this.processPointerMove,h),this.emit("pointermove",l),s.pointerType==="touch"&&this.emit("touchmove",l),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",l)}i[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,i,a){var o=r.data,s=o.pointerType==="touch",u=o.pointerType==="mouse"||o.pointerType==="pen";u&&this.processPointerOverOut(r,i,a),(!this.moveWhenInside||a)&&(this.dispatchEvent(i,"pointermove",r),s&&this.dispatchEvent(i,"touchmove",r),u&&this.dispatchEvent(i,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r),a=i[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,i,a){var o=r.data,s=r.data.identifier,u=o.pointerType==="mouse"||o.pointerType==="pen",l=i.trackedPointers[s];a&&!l&&(l=i.trackedPointers[s]=new Qu.default(s)),l!==void 0&&(a&&this.mouseOverRenderer?(l.over||(l.over=!0,this.dispatchEvent(i,"pointerover",r),u&&this.dispatchEvent(i,"mouseover",r)),u&&this.cursor===null&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),u&&this.dispatchEvent(i,"mouseout",r),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(r){var i=this.normalizeToPointerData(r),a=i[0],o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,a.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(r){var i=r.pointerId,a=void 0;return i===wi||r.pointerType==="mouse"?a=this.mouse:this.activeInteractionData[i]?a=this.activeInteractionData[i]:(a=this.interactionDataPool.pop()||new xv.default,a.identifier=i,this.activeInteractionData[i]=a),a.copyEvent(r),a},t.prototype.releaseInteractionDataForPointerId=function(r){var i=this.activeInteractionData[r];i&&(delete this.activeInteractionData[r],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(r,i,a){return r.data=a,this.mapPositionToPoint(a.global,i.clientX,i.clientY),navigator.isCocoonJS&&i.pointerType==="touch"&&(a.global.x=a.global.x/this.resolution,a.global.y=a.global.y/this.resolution),i.pointerType==="touch"&&(i.globalX=a.global.x,i.globalY=a.global.y),a.originalEvent=i,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var i=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var a=0,o=r.changedTouches.length;a<o;a++){var s=r.changedTouches[a];typeof s.button=="undefined"&&(s.button=r.touches.length?1:0),typeof s.buttons=="undefined"&&(s.buttons=r.touches.length?1:0),typeof s.isPrimary=="undefined"&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof s.width=="undefined"&&(s.width=s.radiusX||1),typeof s.height=="undefined"&&(s.height=s.radiusY||1),typeof s.tiltX=="undefined"&&(s.tiltX=0),typeof s.tiltY=="undefined"&&(s.tiltY=0),typeof s.pointerType=="undefined"&&(s.pointerType="touch"),typeof s.pointerId=="undefined"&&(s.pointerId=s.identifier||0),typeof s.pressure=="undefined"&&(s.pressure=s.force||.5),typeof s.twist=="undefined"&&(s.twist=0),typeof s.tangentialPressure=="undefined"&&(s.tangentialPressure=0),typeof s.layerX=="undefined"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY=="undefined"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))&&(typeof r.isPrimary=="undefined"&&(r.isPrimary=!0),typeof r.width=="undefined"&&(r.width=1),typeof r.height=="undefined"&&(r.height=1),typeof r.tiltX=="undefined"&&(r.tiltX=0),typeof r.tiltY=="undefined"&&(r.tiltY=0),typeof r.pointerType=="undefined"&&(r.pointerType="mouse"),typeof r.pointerId=="undefined"&&(r.pointerId=wi),typeof r.pressure=="undefined"&&(r.pressure=.5),typeof r.twist=="undefined"&&(r.twist=0),typeof r.tangentialPressure=="undefined"&&(r.tangentialPressure=0),r.isNormalized=!0),i.push(r);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(r2.default);el.default=$u;St.WebGLRenderer.registerPlugin("interaction",$u);St.CanvasRenderer.registerPlugin("interaction",$u)});var bv=T(Xt=>{f();"use strict";Xt.__esModule=!0;var l2=Vu();Object.defineProperty(Xt,"InteractionData",{enumerable:!0,get:function(){return rn(l2).default}});var h2=Tv();Object.defineProperty(Xt,"InteractionManager",{enumerable:!0,get:function(){return rn(h2).default}});var f2=Ju();Object.defineProperty(Xt,"interactiveTarget",{enumerable:!0,get:function(){return rn(f2).default}});var c2=Ku();Object.defineProperty(Xt,"InteractionTrackingData",{enumerable:!0,get:function(){return rn(c2).default}});var d2=zu();Object.defineProperty(Xt,"InteractionEvent",{enumerable:!0,get:function(){return rn(d2).default}});function rn(e){return e&&e.__esModule?e:{default:e}}});var tl=T((Si,Ov)=>{f();"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var wv=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ev(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var nn=function(){function e(t,n,r){n===void 0&&(n=!1),Ev(this,e),this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return wv(e,[{key:"detach",value:function(){return this._owner===null?!1:(this._owner.detach(this),!0)}}]),e}();function Sv(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Mv=function(){function e(){Ev(this,e),this._head=this._tail=void 0}return wv(e,[{key:"handlers",value:function(){var n=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],r=this._head;if(n)return!!r;for(var i=[];r;)i.push(r),r=r._next;return i}},{key:"has",value:function(n){if(!(n instanceof nn))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return n._owner===this}},{key:"dispatch",value:function(){var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,arguments),n=n._next;return!0}},{key:"add",value:function(n){var r=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof n!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Sv(this,new nn(n,!1,r))}},{key:"once",value:function(n){var r=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof n!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Sv(this,new nn(n,!0,r))}},{key:"detach",value:function(n){if(!(n instanceof nn))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return n._owner!==this?this:(n._prev&&(n._prev._next=n._next),n._next&&(n._next._prev=n._prev),n===this._head?(this._head=n._next,n._next===null&&(this._tail=null)):n===this._tail&&(this._tail=n._prev,this._tail._next=null),n._owner=null,this)}},{key:"detachAll",value:function(){var n=this._head;if(!n)return this;for(this._head=this._tail=null;n;)n._owner=null,n=n._next;return this}}]),e}();Mv.MiniSignalBinding=nn;Si.default=Mv;Ov.exports=Si.default});var rl=T(Mi=>{f();"use strict";Mi.__esModule=!0;Mi.eachSeries=p2;Mi.queue=_2;function Wt(){}function p2(e,t,n,r){var i=0,a=e.length;(function o(s){if(s||i===a){n&&n(s);return}r?setTimeout(function(){t(e[i++],o)},1):t(e[i++],o)})()}function v2(e){return function(){if(e===null)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,arguments)}}function _2(e,t){if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:Wt,unsaturated:Wt,buffer:t/4,empty:Wt,drain:Wt,error:Wt,started:!1,paused:!1,push:function(s,u){i(s,!1,u)},kill:function(){n=0,r.drain=Wt,r.started=!1,r._tasks=[]},unshift:function(s,u){i(s,!0,u)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var s=r._tasks.shift();r._tasks.length===0&&r.empty(),n+=1,n===r.concurrency&&r.saturated(),e(s.data,v2(a(s)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var s=1;s<=r.concurrency;s++)r.process()}}};function i(o,s,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");if(r.started=!0,o==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var l={data:o,callback:typeof u=="function"?u:Wt};s?r._tasks.unshift(l):r._tasks.push(l),setTimeout(function(){return r.process()},1)}function a(o){return function(){n-=1,o.callback.apply(o,arguments),arguments[0]!=null&&r.error(arguments[0],o.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}});var Ai=T((Ri,il)=>{f();"use strict";Ri.__esModule=!0;Ri.Resource=void 0;var g2=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m2=An(),y2=Pv(m2),x2=tl(),Oi=Pv(x2);function Pv(e){return e&&e.__esModule?e:{default:e}}function T2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b2=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Pi=null,w2=0,Rv=200,E2=204,S2=1223,M2=2;function O2(){}var N=Ri.Resource=function(){e.setExtensionLoadType=function(n,r){Av(e._loadTypeMap,n,r)},e.setExtensionXhrType=function(n,r){Av(e._xhrTypeMap,n,r)};function e(t,n,r){if(T2(this,e),typeof t!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=O2,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Oi.default,this.onProgress=new Oi.default,this.onComplete=new Oi.default,this.onAfterMiddleware=new Oi.default}return e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(n){if(!this.error){if(this.error=new Error(n),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(n){var r=this;if(!this.isLoading){if(this.isComplete){n&&setTimeout(function(){return n(r)},1);return}else n&&this.onComplete.once(n);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:b2&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(n){return(this._flags&n)!=0},e.prototype._setFlag=function(n,r){this._flags=r?this._flags|n:this._flags&~n},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(n){this.metadata.loadElement?this.data=this.metadata.loadElement:n==="image"&&typeof window.Image!="undefined"?this.data=new Image:this.data=document.createElement(n),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(n){if(this.metadata.loadElement?this.data=this.metadata.loadElement:n==="audio"&&typeof window.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(n),this.data===null){this.abort("Unsupported element: "+n);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(n,this.url[i],Array.isArray(r)?r[i]:r));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(n,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XMLHttpRequest;n.open("GET",this.url,!0),n.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?n.responseType=e.XHR_RESPONSE_TYPE.TEXT:n.responseType=this.xhrType,n.addEventListener("error",this._boundXhrOnError,!1),n.addEventListener("timeout",this._boundXhrOnTimeout,!1),n.addEventListener("abort",this._boundXhrOnAbort,!1),n.addEventListener("progress",this._boundOnProgress,!1),n.addEventListener("load",this._boundXhrOnLoad,!1),n.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XDomainRequest;n.timeout=this.timeout||5e3,n.onerror=this._boundXhrOnError,n.ontimeout=this._boundXhrOnTimeout,n.onprogress=this._boundOnProgress,n.onload=this._boundXhrOnLoad,n.open("GET",this.url,!0),setTimeout(function(){return n.send()},1)},e.prototype._createSource=function(n,r,i){i||(i=n+"/"+this._getExtension(r));var a=document.createElement("source");return a.src=r,a.type=i,a},e.prototype._onError=function(n){this.abort("Failed to load element using: "+n.target.nodeName)},e.prototype._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(this,n.loaded/n.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var n=this.xhr;this.abort(nl(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},e.prototype._xhrOnTimeout=function(){var n=this.xhr;this.abort(nl(n)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var n=this.xhr;this.abort(nl(n)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var n=this.xhr,r="",i=typeof n.status=="undefined"?Rv:n.status;(n.responseType===""||n.responseType==="text"||typeof n.responseType=="undefined")&&(r=n.responseText),i===w2&&(r.length>0||n.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=Rv:i===S2&&(i=E2);var a=i/100|0;if(a===M2)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var s=document.createElement("div");s.innerHTML=r,this.data=s}this.type=e.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=n.response||r;else{this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(n,r){if(n.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";r=r||window.location,Pi||(Pi=document.createElement("a")),Pi.href=n,n=(0,y2.default)(Pi.href,{strictMode:!0});var i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var n=this.url,r="";if(this.isDataUrl){var i=n.indexOf("/");r=n.substring(i+1,n.indexOf(";",i))}else{var a=n.indexOf("?"),o=n.indexOf("#"),s=Math.min(a>-1?a:n.length,o>-1?o:n.length);n=n.substring(0,s),r=n.substring(n.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(n){switch(n){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},g2(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();N.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};N.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};N.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};N.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};N._loadTypeMap={gif:N.LOAD_TYPE.IMAGE,png:N.LOAD_TYPE.IMAGE,bmp:N.LOAD_TYPE.IMAGE,jpg:N.LOAD_TYPE.IMAGE,jpeg:N.LOAD_TYPE.IMAGE,tif:N.LOAD_TYPE.IMAGE,tiff:N.LOAD_TYPE.IMAGE,webp:N.LOAD_TYPE.IMAGE,tga:N.LOAD_TYPE.IMAGE,svg:N.LOAD_TYPE.IMAGE,"svg+xml":N.LOAD_TYPE.IMAGE,mp3:N.LOAD_TYPE.AUDIO,ogg:N.LOAD_TYPE.AUDIO,wav:N.LOAD_TYPE.AUDIO,mp4:N.LOAD_TYPE.VIDEO,webm:N.LOAD_TYPE.VIDEO};N._xhrTypeMap={xhtml:N.XHR_RESPONSE_TYPE.DOCUMENT,html:N.XHR_RESPONSE_TYPE.DOCUMENT,htm:N.XHR_RESPONSE_TYPE.DOCUMENT,xml:N.XHR_RESPONSE_TYPE.DOCUMENT,tmx:N.XHR_RESPONSE_TYPE.DOCUMENT,svg:N.XHR_RESPONSE_TYPE.DOCUMENT,tsx:N.XHR_RESPONSE_TYPE.DOCUMENT,gif:N.XHR_RESPONSE_TYPE.BLOB,png:N.XHR_RESPONSE_TYPE.BLOB,bmp:N.XHR_RESPONSE_TYPE.BLOB,jpg:N.XHR_RESPONSE_TYPE.BLOB,jpeg:N.XHR_RESPONSE_TYPE.BLOB,tif:N.XHR_RESPONSE_TYPE.BLOB,tiff:N.XHR_RESPONSE_TYPE.BLOB,webp:N.XHR_RESPONSE_TYPE.BLOB,tga:N.XHR_RESPONSE_TYPE.BLOB,json:N.XHR_RESPONSE_TYPE.JSON,text:N.XHR_RESPONSE_TYPE.TEXT,txt:N.XHR_RESPONSE_TYPE.TEXT,ttf:N.XHR_RESPONSE_TYPE.BUFFER,otf:N.XHR_RESPONSE_TYPE.BUFFER};N.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Av(e,t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),!!t&&(e[t]=n)}function nl(e){return e.toString().replace("object ","")}typeof il!="undefined"&&(il.exports.default=N)});var Iv=T(Ci=>{f();"use strict";Ci.__esModule=!0;Ci.Loader=void 0;var P2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A2=tl(),an=Cv(A2),C2=An(),I2=Cv(C2),D2=rl(),al=F2(D2),L2=Ai();function F2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Cv(e){return e&&e.__esModule?e:{default:e}}function B2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ol=100,N2=/(#[\w-]+)?$/,Mt=Ci.Loader=function(){function e(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;B2(this,e),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(o,s){return t._loadResource(o,s)},this._queue=al.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new an.default,this.onError=new an.default,this.onLoad=new an.default,this.onStart=new an.default,this.onComplete=new an.default;for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var a=0;a<e._defaultAfterMiddleware.length;++a)this.use(e._defaultAfterMiddleware[a])}return e.prototype.add=function(n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;++o)this.add(n[o]);return this}if((typeof n=="undefined"?"undefined":P2(n))==="object"&&(a=r||n.callback||n.onComplete,i=n,r=n.url,n=n.name||n.key||n.url),typeof r!="string"&&(a=i,i=r,r=n),typeof r!="string")throw new Error("No url passed to add resource to loader.");if(typeof i=="function"&&(a=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[n])throw new Error('Resource named "'+n+'" already exists.');if(r=this._prepareUrl(r),this.resources[n]=new L2.Resource(n,r,i),typeof a=="function"&&this.resources[n].onAfterMiddleware.once(a),this.loading){for(var s=i.parentResource,u=[],l=0;l<s.children.length;++l)s.children[l].isComplete||u.push(s.children[l]);var h=s.progressChunk*(u.length+1),c=h/(u.length+2);s.children.push(this.resources[n]),s.progressChunk=c;for(var v=0;v<u.length;++v)u[v].progressChunk=c;this.resources[n].progressChunk=c}return this._queue.push(this.resources[n]),this},e.prototype.pre=function(n){return this._beforeMiddleware.push(n),this},e.prototype.use=function(n){return this._afterMiddleware.push(n),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var n in this.resources){var r=this.resources[n];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort()}return this.resources={},this},e.prototype.load=function(n){if(typeof n=="function"&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,i=ol/r,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},e.prototype._prepareUrl=function(n){var r=(0,I2.default)(n,{strictMode:!0}),i=void 0;if(r.protocol||!r.path||n.indexOf("//")===0?i=n:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&n.charAt(0)!=="/"?i=this.baseUrl+"/"+n:i=this.baseUrl+n,this.defaultQueryString){var a=N2.exec(i)[0];i=i.substr(0,i.length-a.length),i.indexOf("?")!==-1?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=a}return i},e.prototype._loadResource=function(n,r){var i=this;n._dequeue=r,al.eachSeries(this._beforeMiddleware,function(a,o){a.call(i,n,function(){o(n.isComplete?{}:null)})},function(){n.isComplete?i._onLoad(n):(n._onLoadBinding=n.onComplete.once(i._onLoad,i),n.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=ol,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),al.eachSeries(this._afterMiddleware,function(i,a){i.call(r,n,a)},function(){n.onAfterMiddleware.dispatch(n),r.progress=Math.min(ol,r.progress+n.progressChunk),r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},R2(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n}}]),e}();Mt._defaultBeforeMiddleware=[];Mt._defaultAfterMiddleware=[];Mt.pre=function(t){return Mt._defaultBeforeMiddleware.push(t),Mt};Mt.use=function(t){return Mt._defaultAfterMiddleware.push(t),Mt}});var ll=T((sl,ul)=>{f();"use strict";sl.__esModule=!0;sl.encodeBinary=Dv;var k2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Dv(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],a=0;a<r.length;++a)n<e.length?r[a]=e.charCodeAt(n++)&255:r[a]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var o=n-(e.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break;default:break}for(var s=0;s<i.length;++s)t+=k2.charAt(i[s])}return t}typeof ul!="undefined"&&(ul.exports.default=Dv)});var dr=T((eX,Ii)=>{f();"use strict";var Ht=Iv().Loader,q2=Ai().Resource,U2=rl(),Lv=ll();Ht.Resource=q2;Ht.async=U2;Ht.encodeBinary=Lv;Ht.base64=Lv;Ii.exports=Ht;Ii.exports.Loader=Ht;Ii.exports.default=Ht});var hl=T(Di=>{f();"use strict";Di.__esModule=!0;Di.parse=Bv;Di.default=function(){return function(t,n){if(!t.data||t.type!==Fv.Resource.TYPE.XML){n();return}if(t.data.getElementsByTagName("page").length===0||t.data.getElementsByTagName("info").length===0||t.data.getElementsByTagName("info")[0].getAttribute("face")===null){n();return}var r=t.isDataUrl?"":X2.dirname(t.url);t.isDataUrl&&(r==="."&&(r=""),this.baseUrl&&r&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(this.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/");for(var i=t.data.getElementsByTagName("page"),a={},o=function(_){a[_.metadata.pageFile]=_.texture,Object.keys(a).length===i.length&&(Bv(t,a),n())},s=0;s<i.length;++s){var u=i[s].getAttribute("file"),l=r+u,h=!1;for(var c in this.resources){var v=this.resources[c];if(v.url===l){v.metadata.pageFile=u,v.texture?o(v):v.onAfterMiddleware.add(o),h=!0;break}}if(!h){var p={crossOrigin:t.crossOrigin,loadType:Fv.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(l,p,o)}}}};var G2=Pe("path"),X2=H2(G2),Fv=dr(),W2=wu();function H2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Bv(e,t){e.bitmapFont=W2.BitmapText.registerFont(e.data,t)}});var fl=T(Li=>{f();"use strict";Li.__esModule=!0;Li.default=function(){return function(t,n){var r=t.name+"_image";if(!t.data||t.type!==V2.Resource.TYPE.JSON||!t.data.frames||this.resources[r]){n();return}var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=Nv(t,this.baseUrl);this.add(r,a,i,function(s){if(s.error){n(s.error);return}var u=new j2.Spritesheet(s.texture.baseTexture,t.data,t.url);u.parse(function(){t.spritesheet=u,t.textures=u.textures,n()})})}};Li.getResourcePath=Nv;var V2=dr(),Y2=Pe("url"),z2=K2(Y2),j2=Y();function K2(e){return e&&e.__esModule?e:{default:e}}function Nv(e,t){return e.isDataUrl?e.data.meta.image:z2.default.resolve(e.url.replace(t,""),e.data.meta.image)}});var dl=T(cl=>{f();"use strict";cl.__esModule=!0;cl.default=function(){return function(t,n){t.data&&t.type===Z2.Resource.TYPE.IMAGE&&(t.texture=Q2.default.fromLoader(t.data,t.url,t.name)),n()}};var Z2=dr(),J2=$e(),Q2=$2(J2);function $2(e){return e&&e.__esModule?e:{default:e}}});var qv=T(vl=>{f();"use strict";vl.__esModule=!0;vl.blobMiddlewareFactory=tL;var pl=Ai(),eL=ll(),kv=window.URL||window.webkitURL;function tL(){return function(t,n){if(!t.data){n();return}if(t.xhr&&t.xhrType===pl.Resource.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+(0,eL.encodeBinary)(t.xhr.responseText),t.type=pl.Resource.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,n()};return}}else if(t.data.type.indexOf("image")===0){var i=kv.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=pl.Resource.TYPE.IMAGE,t.data.onload=function(){kv.revokeObjectURL(i),t.data.onload=null,n()};return}}n()}}});var Wv=T(yl=>{f();"use strict";yl.__esModule=!0;var rL=dr(),Uv=on(rL),nL=qv(),iL=vt(),_l=on(iL),aL=dl(),oL=on(aL),sL=fl(),uL=on(sL),lL=hl(),hL=on(lL);function on(e){return e&&e.__esModule?e:{default:e}}function fL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cL(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ml=function(e){dL(t,e);function t(n,r){fL(this,t);var i=cL(this,e.call(this,n,r));_l.default.call(i);for(var a=0;a<t._pixiMiddleware.length;++a)i.use(t._pixiMiddleware[a]());return i.onStart.add(function(o){return i.emit("start",o)}),i.onProgress.add(function(o,s){return i.emit("progress",o,s)}),i.onError.add(function(o,s,u){return i.emit("error",o,s,u)}),i.onLoad.add(function(o,s){return i.emit("load",o,s)}),i.onComplete.add(function(o,s){return i.emit("complete",o,s)}),i}return t.addPixiMiddleware=function(r){t._pixiMiddleware.push(r)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(Uv.default);yl.default=ml;for(var Gv in _l.default.prototype)ml.prototype[Gv]=_l.default.prototype[Gv];ml._pixiMiddleware=[nL.blobMiddlewareFactory,oL.default,uL.default,hL.default];var Xv=Uv.default.Resource;Xv.setExtensionXhrType("fnt",Xv.XHR_RESPONSE_TYPE.DOCUMENT)});var Yv=T(ce=>{f();"use strict";ce.__esModule=!0;ce.shared=ce.Resource=ce.textureParser=ce.getResourcePath=ce.spritesheetParser=ce.parseBitmapFontData=ce.bitmapFontParser=ce.Loader=void 0;var Hv=hl();Object.defineProperty(ce,"bitmapFontParser",{enumerable:!0,get:function(){return sn(Hv).default}});Object.defineProperty(ce,"parseBitmapFontData",{enumerable:!0,get:function(){return Hv.parse}});var Vv=fl();Object.defineProperty(ce,"spritesheetParser",{enumerable:!0,get:function(){return sn(Vv).default}});Object.defineProperty(ce,"getResourcePath",{enumerable:!0,get:function(){return Vv.getResourcePath}});var pL=dl();Object.defineProperty(ce,"textureParser",{enumerable:!0,get:function(){return sn(pL).default}});var vL=dr();Object.defineProperty(ce,"Resource",{enumerable:!0,get:function(){return vL.Resource}});var _L=uu(),gL=sn(_L),mL=Wv(),xl=sn(mL);function sn(e){return e&&e.__esModule?e:{default:e}}ce.Loader=xl.default;var Tl=new xl.default;Tl.destroy=function(){};ce.shared=Tl;var un=gL.default.prototype;un._loader=null;Object.defineProperty(un,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?Tl:new xl.default}return this._loader}});un._parentDestroy=un.destroy;un.destroy=function(t,n){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,n)}});var pr=T(wl=>{f();"use strict";wl.__esModule=!0;var yL=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xL=Y(),Ot=EL(xL),TL=$e(),bL=wL(TL);function wL(e){return e&&e.__esModule?e:{default:e}}function EL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function SL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ML(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function OL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bl=new Ot.Point,zv=new Ot.Polygon,jv=function(e){OL(t,e);function t(n,r,i,a,o){SL(this,t);var s=ML(this,e.call(this));return s._texture=n||bL.default.EMPTY,s.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),s.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),s.indices=a||new Uint16Array([0,1,3,2]),s.dirty=0,s.indexDirty=0,s.vertexDirty=0,s.autoUpdate=!0,s.blendMode=Ot.BLEND_MODES.NORMAL,s.canvasPadding=Ot.settings.MESH_CANVAS_PADDING,s.drawMode=o||t.DRAW_MODES.TRIANGLE_MESH,s.shader=null,s.tintRgb=new Float32Array([1,1,1]),s._glDatas={},s._uvTransform=new Ot.TextureMatrix(s._texture),s.uploadUvTransform=!1,s.pluginName="mesh",s}return t.prototype._renderWebGL=function(r){this.refresh(),r.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(r){this.refresh(),r.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(r){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(r)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,bl);for(var i=this.vertices,a=zv.points,o=this.indices,s=this.indices.length,u=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<s;l+=u){var h=o[l]*2,c=o[l+1]*2,v=o[l+2]*2;if(a[0]=i[h],a[1]=i[h+1],a[2]=i[c],a[3]=i[c+1],a[4]=i[v],a[5]=i[v+1],zv.contains(bl.x,bl.y))return!0}return!1},t.prototype.destroy=function(r){for(var i in this._glDatas){var a=this._glDatas[i];a.destroy?a.destroy():(a.vertexBuffer&&(a.vertexBuffer.destroy(),a.vertexBuffer=null),a.indexBuffer&&(a.indexBuffer.destroy(),a.indexBuffer=null),a.uvBuffer&&(a.uvBuffer.destroy(),a.uvBuffer=null),a.vao&&(a.vao.destroy(),a.vao=null))}this._glDatas=null,e.prototype.destroy.call(this,r)},yL(t,[{key:"texture",get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture=r,r&&(r.baseTexture.hasLoaded?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return Ot.utils.rgb2hex(this.tintRgb)},set:function(r){this.tintRgb=Ot.utils.hex2rgb(r,this.tintRgb)}}]),t}(Ot.Container);wl.default=jv;jv.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}});var Jv=T(El=>{f();"use strict";El.__esModule=!0;var PL=Y(),vr=IL(PL),RL=Se(),Fi=Kv(RL),AL=pr(),CL=Kv(AL),uX=Pe("path");function Kv(e){return e&&e.__esModule?e:{default:e}}function IL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function DL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BL=vr.Matrix.IDENTITY,Zv=function(e){FL(t,e);function t(n){DL(this,t);var r=LL(this,e.call(this,n));return r.shader=null,r}return t.prototype.onContextChange=function(){var r=this.renderer.gl;this.shader=new vr.Shader(r,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`)},t.prototype.render=function(r){var i=this.renderer,a=i.gl,o=r._texture;if(!!o.valid){var s=r._glDatas[i.CONTEXT_UID];s||(i.bindVao(null),s={shader:this.shader,vertexBuffer:Fi.default.GLBuffer.createVertexBuffer(a,r.vertices,a.STREAM_DRAW),uvBuffer:Fi.default.GLBuffer.createVertexBuffer(a,r.uvs,a.STREAM_DRAW),indexBuffer:Fi.default.GLBuffer.createIndexBuffer(a,r.indices,a.STATIC_DRAW),vao:null,dirty:r.dirty,indexDirty:r.indexDirty,vertexDirty:r.vertexDirty},s.vao=new Fi.default.VertexArrayObject(a).addIndex(s.indexBuffer).addAttribute(s.vertexBuffer,s.shader.attributes.aVertexPosition,a.FLOAT,!1,2*4,0).addAttribute(s.uvBuffer,s.shader.attributes.aTextureCoord,a.FLOAT,!1,2*4,0),r._glDatas[i.CONTEXT_UID]=s),i.bindVao(s.vao),r.dirty!==s.dirty&&(s.dirty=r.dirty,s.uvBuffer.upload(r.uvs)),r.indexDirty!==s.indexDirty&&(s.indexDirty=r.indexDirty,s.indexBuffer.upload(r.indices)),r.vertexDirty!==s.vertexDirty&&(s.vertexDirty=r.vertexDirty,s.vertexBuffer.upload(r.vertices)),i.bindShader(s.shader),s.shader.uniforms.uSampler=i.bindTexture(o),i.state.setBlendMode(vr.utils.correctBlendMode(r.blendMode,o.baseTexture.premultipliedAlpha)),s.shader.uniforms.uTransform&&(r.uploadUvTransform?s.shader.uniforms.uTransform=r._uvTransform.mapCoord.toArray(!0):s.shader.uniforms.uTransform=BL.toArray(!0)),s.shader.uniforms.translationMatrix=r.worldTransform.toArray(!0),s.shader.uniforms.uColor=vr.utils.premultiplyRgba(r.tintRgb,r.worldAlpha,s.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha);var u=r.drawMode===CL.default.DRAW_MODES.TRIANGLE_MESH?a.TRIANGLE_STRIP:a.TRIANGLES;s.vao.draw(u,r.indices.length,0)}},t}(vr.ObjectRenderer);El.default=Zv;vr.WebGLRenderer.registerPlugin("mesh",Zv)});var $v=T(Sl=>{f();"use strict";Sl.__esModule=!0;var NL=Y(),kL=XL(NL),qL=pr(),UL=GL(qL);function GL(e){return e&&e.__esModule?e:{default:e}}function XL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function WL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Qv=function(){function e(t){WL(this,e),this.renderer=t}return e.prototype.render=function(n){var r=this.renderer,i=r.context,a=n.worldTransform,o=r.resolution;r.roundPixels?i.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o|0,a.ty*o|0):i.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o,a.ty*o),r.context.globalAlpha=n.worldAlpha,r.setBlendMode(n.blendMode),n.drawMode===UL.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(n):this._renderTriangles(n)},e.prototype._renderTriangleMesh=function(n){for(var r=n.vertices.length/2,i=0;i<r-2;i++){var a=i*2;this._renderDrawTriangle(n,a,a+2,a+4)}},e.prototype._renderTriangles=function(n){for(var r=n.indices,i=r.length,a=0;a<i;a+=3){var o=r[a]*2,s=r[a+1]*2,u=r[a+2]*2;this._renderDrawTriangle(n,o,s,u)}},e.prototype._renderDrawTriangle=function(n,r,i,a){var o=this.renderer.context,s=n.uvs,u=n.vertices,l=n._texture;if(!!l.valid){var h=l.baseTexture,c=h.source,v=h.width,p=h.height,d=void 0,_=void 0,m=void 0,x=void 0,y=void 0,b=void 0;if(n.uploadUvTransform){var w=n._uvTransform.mapCoord;d=(s[r]*w.a+s[r+1]*w.c+w.tx)*h.width,_=(s[i]*w.a+s[i+1]*w.c+w.tx)*h.width,m=(s[a]*w.a+s[a+1]*w.c+w.tx)*h.width,x=(s[r]*w.b+s[r+1]*w.d+w.ty)*h.height,y=(s[i]*w.b+s[i+1]*w.d+w.ty)*h.height,b=(s[a]*w.b+s[a+1]*w.d+w.ty)*h.height}else d=s[r]*h.width,_=s[i]*h.width,m=s[a]*h.width,x=s[r+1]*h.height,y=s[i+1]*h.height,b=s[a+1]*h.height;var E=u[r],P=u[i],A=u[a],S=u[r+1],R=u[i+1],I=u[a+1],D=n.canvasPadding/this.renderer.resolution;if(D>0){var q=D/Math.abs(n.worldTransform.a),L=D/Math.abs(n.worldTransform.d),C=(E+P+A)/3,k=(S+R+I)/3,F=E-C,U=S-k,X=Math.sqrt(F*F+U*U);E=C+F/X*(X+q),S=k+U/X*(X+L),F=P-C,U=R-k,X=Math.sqrt(F*F+U*U),P=C+F/X*(X+q),R=k+U/X*(X+L),F=A-C,U=I-k,X=Math.sqrt(F*F+U*U),A=C+F/X*(X+q),I=k+U/X*(X+L)}o.save(),o.beginPath(),o.moveTo(E,S),o.lineTo(P,R),o.lineTo(A,I),o.closePath(),o.clip();var ee=d*y+x*m+_*b-y*m-x*_-d*b,re=E*y+x*A+P*b-y*A-x*P-E*b,K=d*P+E*m+_*A-P*m-E*_-d*A,xe=d*y*A+x*P*m+E*_*b-E*y*m-x*_*A-d*P*b,se=S*y+x*I+R*b-y*I-x*R-S*b,de=d*R+S*m+_*I-R*m-S*_-d*I,We=d*y*I+x*R*m+S*_*b-S*y*m-x*_*I-d*R*b;o.transform(re/ee,se/ee,K/ee,de/ee,xe/ee,We/ee),o.drawImage(c,0,0,v*h.resolution,p*h.resolution,0,0,v,p),o.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(n){var r=this.renderer.context,i=n.vertices,a=i.length/2;r.beginPath();for(var o=1;o<a-2;++o){var s=o*2,u=i[s],l=i[s+1],h=i[s+2],c=i[s+3],v=i[s+4],p=i[s+5];r.moveTo(u,l),r.lineTo(h,c),r.lineTo(v,p)}r.fillStyle="#FF0000",r.fill(),r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();Sl.default=Qv;kL.CanvasRenderer.registerPlugin("mesh",Qv)});var Pl=T(Ol=>{f();"use strict";Ol.__esModule=!0;var HL=pr(),Ml=VL(HL);function VL(e){return e&&e.__esModule?e:{default:e}}function YL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zL(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KL=function(e){jL(t,e);function t(n,r,i){YL(this,t);var a=zL(this,e.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=i||10,a.drawMode=Ml.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return t.prototype._refresh=function(){for(var r=this._texture,i=this.verticesX*this.verticesY,a=[],o=[],s=[],u=[],l=this.verticesX-1,h=this.verticesY-1,c=r.width/l,v=r.height/h,p=0;p<i;p++){var d=p%this.verticesX,_=p/this.verticesX|0;a.push(d*c,_*v),s.push(d/l,_/h)}for(var m=l*h,x=0;x<m;x++){var y=x%l,b=x/l|0,w=b*this.verticesX+y,E=b*this.verticesX+y+1,P=(b+1)*this.verticesX+y,A=(b+1)*this.verticesX+y+1;u.push(w,E,P),u.push(E,A,P)}this.vertices=new Float32Array(a),this.uvs=new Float32Array(s),this.colors=new Float32Array(o),this.indices=new Uint16Array(u),this.dirty++,this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){Ml.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(Ml.default);Ol.default=KL});var t_=T(Rl=>{f();"use strict";Rl.__esModule=!0;var ZL=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),JL=Pl(),QL=e_(JL),$L=Ur(),eF=e_($L);function e_(e){return e&&e.__esModule?e:{default:e}}function tF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bi=10,iF=function(e){nF(t,e);function t(n,r,i,a,o){tF(this,t);var s=rF(this,e.call(this,n,4,4));return s._origWidth=n.orig.width,s._origHeight=n.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=typeof r!="undefined"?r:Bi,s._rightWidth=typeof a!="undefined"?a:Bi,s._topHeight=typeof i!="undefined"?i:Bi,s._bottomHeight=typeof o!="undefined"?o:Bi,s._cachedTint=16777215,s._tintedTexture=null,s._canvasUvs=null,s.refresh(!0),s}return t.prototype.updateHorizontalVertices=function(){var r=this.vertices,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i;r[9]=r[11]=r[13]=r[15]=this._topHeight*a,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*a,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,i=this._leftWidth+this._rightWidth,a=this._width>i?1:this._width/i;r[2]=r[10]=r[18]=r[26]=this._leftWidth*a,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*a,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._renderCanvas=function(r){var i=r.context,a=this.worldTransform,o=r.resolution,s=this.tint!==16777215,u=this._texture;s&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=eF.default.getTintedTexture(this,this.tint));var l=s?this._tintedTexture:u.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var h=this.vertices,c=this._canvasUvs,v=s?0:u.frame.x,p=s?0:u.frame.y,d=v+u.frame.width,_=p+u.frame.height;c[0]=v,c[1]=v+this._leftWidth,c[2]=d-this._rightWidth,c[3]=d,c[4]=p,c[5]=p+this._topHeight,c[6]=_-this._bottomHeight,c[7]=_;for(var m=0;m<8;m++)c[m]*=u.baseTexture.resolution;i.globalAlpha=this.worldAlpha,r.setBlendMode(this.blendMode),r.roundPixels?i.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o|0,a.ty*o|0):i.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o,a.ty*o);for(var x=0;x<3;x++)for(var y=0;y<3;y++){var b=y*2+x*8,w=Math.max(1,c[y+1]-c[y]),E=Math.max(1,c[x+5]-c[x+4]),P=Math.max(1,h[b+10]-h[b]),A=Math.max(1,h[b+11]-h[b+1]);i.drawImage(l,c[y],c[x+4],w,E,h[b],h[b+1],P,A)}},t.prototype._refresh=function(){e.prototype._refresh.call(this);var r=this.uvs,i=this._texture;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var a=1/this._origWidth,o=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=a*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-a*this._rightWidth,r[9]=r[11]=r[13]=r[15]=o*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},ZL(t,[{key:"width",get:function(){return this._width},set:function(r){this._width=r,this._refresh()}},{key:"height",get:function(){return this._height},set:function(r){this._height=r,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()}}]),t}(QL.default);Rl.default=iF});var r_=T(Al=>{f();"use strict";Al.__esModule=!0;var aF=pr(),oF=sF(aF);function sF(e){return e&&e.__esModule?e:{default:e}}function uF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fF=function(e){hF(t,e);function t(n,r){uF(this,t);var i=lF(this,e.call(this,n));return i.points=r,i.vertices=new Float32Array(r.length*4),i.uvs=new Float32Array(r.length*4),i.colors=new Float32Array(r.length*2),i.indices=new Uint16Array(r.length*2),i.autoUpdate=!0,i.refresh(),i}return t.prototype._refresh=function(){var r=this.points;if(!(r.length<1||!this._texture._uvs)){this.vertices.length/4!==r.length&&(this.vertices=new Float32Array(r.length*4),this.uvs=new Float32Array(r.length*4),this.colors=new Float32Array(r.length*2),this.indices=new Uint16Array(r.length*2));var i=this.uvs,a=this.indices,o=this.colors;i[0]=0,i[1]=0,i[2]=0,i[3]=1,o[0]=1,o[1]=1,a[0]=0,a[1]=1;for(var s=r.length,u=1;u<s;u++){var l=u*4,h=u/(s-1);i[l]=h,i[l+1]=0,i[l+2]=h,i[l+3]=1,l=u*2,o[l]=1,o[l+1]=1,l=u*2,a[l]=l,a[l+1]=l+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var r=this.points;if(!(r.length<1))for(var i=r[0],a=void 0,o=0,s=0,u=this.vertices,l=r.length,h=0;h<l;h++){var c=r[h],v=h*4;h<r.length-1?a=r[h+1]:a=c,s=-(a.x-i.x),o=a.y-i.y;var p=(1-h/(l-1))*10;p>1&&(p=1);var d=Math.sqrt(o*o+s*s),_=this._texture.height/2;o/=d,s/=d,o*=_,s*=_,u[v]=c.x+o,u[v+1]=c.y+s,u[v+2]=c.x-o,u[v+3]=c.y-s,i=c}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(oF.default);Al.default=fF});var n_=T(Pt=>{f();"use strict";Pt.__esModule=!0;var cF=pr();Object.defineProperty(Pt,"Mesh",{enumerable:!0,get:function(){return _r(cF).default}});var dF=Jv();Object.defineProperty(Pt,"MeshRenderer",{enumerable:!0,get:function(){return _r(dF).default}});var pF=$v();Object.defineProperty(Pt,"CanvasMeshRenderer",{enumerable:!0,get:function(){return _r(pF).default}});var vF=Pl();Object.defineProperty(Pt,"Plane",{enumerable:!0,get:function(){return _r(vF).default}});var _F=t_();Object.defineProperty(Pt,"NineSlicePlane",{enumerable:!0,get:function(){return _r(_F).default}});var gF=r_();Object.defineProperty(Pt,"Rope",{enumerable:!0,get:function(){return _r(gF).default}});function _r(e){return e&&e.__esModule?e:{default:e}}});var a_=T(Cl=>{f();"use strict";Cl.__esModule=!0;var mF=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yF=Y(),i_=TF(yF),xF=z();function TF(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function bF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function EF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SF=function(e){EF(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,r=arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;bF(this,t);var o=wF(this,e.call(this)),s=16384;return i>s&&(i=s),i>n&&(i=n),o._properties=[!1,!0,!1,!1,!1],o._maxSize=n,o._batchSize=i,o._glBuffers={},o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=i_.BLEND_MODES.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(r){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),r.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var i=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.renderCanvas=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var i=r.context,a=this.worldTransform,o=!0,s=0,u=0,l=0,h=0;r.setBlendMode(this.blendMode),i.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var v=this.children[c];if(!!v.visible){var p=v._texture.frame;if(i.globalAlpha=this.worldAlpha*v.alpha,v.rotation%(Math.PI*2)==0)o&&(i.setTransform(a.a,a.b,a.c,a.d,a.tx*r.resolution,a.ty*r.resolution),o=!1),s=v.anchor.x*(-p.width*v.scale.x)+v.position.x+.5,u=v.anchor.y*(-p.height*v.scale.y)+v.position.y+.5,l=p.width*v.scale.x,h=p.height*v.scale.y;else{o||(o=!0),v.displayObjectUpdateTransform();var d=v.worldTransform;r.roundPixels?i.setTransform(d.a,d.b,d.c,d.d,d.tx*r.resolution|0,d.ty*r.resolution|0):i.setTransform(d.a,d.b,d.c,d.d,d.tx*r.resolution,d.ty*r.resolution),s=v.anchor.x*-p.width+.5,u=v.anchor.y*-p.height+.5,l=p.width,h=p.height}var _=v._texture.baseTexture.resolution;i.drawImage(v._texture.baseTexture.source,p.x*_,p.y*_,p.width*_,p.height*_,s*r.resolution,u*r.resolution,l*r.resolution,h*r.resolution)}}}},t.prototype.destroy=function(r){if(e.prototype.destroy.call(this,r),this._buffers)for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},mF(t,[{key:"tint",get:function(){return this._tint},set:function(r){this._tint=r,(0,xF.hex2rgb)(r,this.tintRgb)}}]),t}(i_.Container);Cl.default=SF});var o_=T(Il=>{f();"use strict";Il.__esModule=!0;var MF=lr(),OF=PF(MF);function PF(e){return e&&e.__esModule?e:{default:e}}function RF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var IF=function(e){CF(t,e);function t(n){return RF(this,t),AF(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join(`
`)))}return t}(OF.default);Il.default=IF});var u_=T(Dl=>{f();"use strict";Dl.__esModule=!0;var DF=Se(),Ni=s_(DF),LF=di(),FF=s_(LF);function s_(e){return e&&e.__esModule?e:{default:e}}function BF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var NF=function(){function e(t,n,r,i){BF(this,e),this.gl=t,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<n.length;++a){var o=n[a];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset},r[a]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var n=this.gl,r=0;this.indices=(0,FF.default)(this.size),this.indexBuffer=Ni.default.GLBuffer.createIndexBuffer(n,this.indices,n.STATIC_DRAW),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];a.offset=r,r+=a.size,this.dynamicStride+=a.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=Ni.default.GLBuffer.createVertexBuffer(n,o,n.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s,s+=l.size,this.staticStride+=l.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=Ni.default.GLBuffer.createVertexBuffer(n,h,n.STATIC_DRAW),this.vao=new Ni.default.VertexArrayObject(n).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var v=this.dynamicProperties[c];v.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,v.attribute,n.UNSIGNED_BYTE,!0,this.dynamicStride*4,v.offset*4):this.vao.addAttribute(this.dynamicBuffer,v.attribute,n.FLOAT,!1,this.dynamicStride*4,v.offset*4)}for(var p=0;p<this.staticProperties.length;++p){var d=this.staticProperties[p];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,n.UNSIGNED_BYTE,!0,this.staticStride*4,d.offset*4):this.vao.addAttribute(this.staticBuffer,d.attribute,n.FLOAT,!1,this.staticStride*4,d.offset*4)}},e.prototype.uploadDynamic=function(n,r,i){for(var a=0;a<this.dynamicProperties.length;a++){var o=this.dynamicProperties[a];o.uploadFunction(n,r,i,o.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(n,r,i){for(var a=0;a<this.staticProperties.length;a++){var o=this.staticProperties[a];o.uploadFunction(n,r,i,o.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e}();Dl.default=NF});var c_=T(Ll=>{f();"use strict";Ll.__esModule=!0;var kF=Y(),ln=WF(kF),qF=o_(),UF=h_(qF),GF=u_(),l_=h_(GF),XF=z();function h_(e){return e&&e.__esModule?e:{default:e}}function WF(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function HF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f_=function(e){YF(t,e);function t(n){HF(this,t);var r=VF(this,e.call(this,n));return r.shader=null,r.indexBuffer=null,r.properties=null,r.tempMatrix=new ln.Matrix,r.CONTEXT_UID=0,r}return t.prototype.onContextChange=function(){var r=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new UF.default(r),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(r){var i=r.children,a=r._maxSize,o=r._batchSize,s=this.renderer,u=i.length;if(u!==0){u>a&&(u=a);var l=r._glBuffers[s.CONTEXT_UID];l||(l=r._glBuffers[s.CONTEXT_UID]=this.generateBuffers(r));var h=i[0]._texture.baseTexture;this.renderer.setBlendMode(ln.utils.correctBlendMode(r.blendMode,h.premultipliedAlpha));var c=s.gl,v=r.worldTransform.copy(this.tempMatrix);v.prepend(s._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=v.toArray(!0),this.shader.uniforms.uColor=ln.utils.premultiplyRgba(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha),this.shader.uniforms.uSampler=s.bindTexture(h);for(var p=!1,d=0,_=0;d<u;d+=o,_+=1){var m=u-d;if(m>o&&(m=o),_>=l.length){if(!r.autoResize)break;l.push(this._generateOneMoreBuffer(r))}var x=l[_];x.uploadDynamic(i,d,m);var y=r._bufferUpdateIDs[_]||0;p=p||x._updateID<y,p&&(x._updateID=r._updateID,x.uploadStatic(i,d,m)),s.bindVao(x.vao),x.vao.draw(c.TRIANGLES,m*6)}}},t.prototype.generateBuffers=function(r){for(var i=this.renderer.gl,a=[],o=r._maxSize,s=r._batchSize,u=r._properties,l=0;l<o;l+=s)a.push(new l_.default(i,this.properties,u,s));return a},t.prototype._generateOneMoreBuffer=function(r){var i=this.renderer.gl,a=r._batchSize,o=r._properties;return new l_.default(i,this.properties,o,a)},t.prototype.uploadVertices=function(r,i,a,o,s,u){for(var l=0,h=0,c=0,v=0,p=0;p<a;++p){var d=r[i+p],_=d._texture,m=d.scale.x,x=d.scale.y,y=_.trim,b=_.orig;y?(h=y.x-d.anchor.x*b.width,l=h+y.width,v=y.y-d.anchor.y*b.height,c=v+y.height):(l=b.width*(1-d.anchor.x),h=b.width*-d.anchor.x,c=b.height*(1-d.anchor.y),v=b.height*-d.anchor.y),o[u]=h*m,o[u+1]=v*x,o[u+s]=l*m,o[u+s+1]=v*x,o[u+s*2]=l*m,o[u+s*2+1]=c*x,o[u+s*3]=h*m,o[u+s*3+1]=c*x,u+=s*4}},t.prototype.uploadPosition=function(r,i,a,o,s,u){for(var l=0;l<a;l++){var h=r[i+l].position;o[u]=h.x,o[u+1]=h.y,o[u+s]=h.x,o[u+s+1]=h.y,o[u+s*2]=h.x,o[u+s*2+1]=h.y,o[u+s*3]=h.x,o[u+s*3+1]=h.y,u+=s*4}},t.prototype.uploadRotation=function(r,i,a,o,s,u){for(var l=0;l<a;l++){var h=r[i+l].rotation;o[u]=h,o[u+s]=h,o[u+s*2]=h,o[u+s*3]=h,u+=s*4}},t.prototype.uploadUvs=function(r,i,a,o,s,u){for(var l=0;l<a;++l){var h=r[i+l]._texture._uvs;h?(o[u]=h.x0,o[u+1]=h.y0,o[u+s]=h.x1,o[u+s+1]=h.y1,o[u+s*2]=h.x2,o[u+s*2+1]=h.y2,o[u+s*3]=h.x3,o[u+s*3+1]=h.y3,u+=s*4):(o[u]=0,o[u+1]=0,o[u+s]=0,o[u+s+1]=0,o[u+s*2]=0,o[u+s*2+1]=0,o[u+s*3]=0,o[u+s*3+1]=0,u+=s*4)}},t.prototype.uploadTint=function(r,i,a,o,s,u){for(var l=0;l<a;++l){var h=r[i+l],c=h._texture.baseTexture.premultipliedAlpha,v=h.alpha,p=v<1&&c?(0,XF.premultiplyTint)(h._tintRGB,v):h._tintRGB+(v*255<<24);o[u]=p,o[u+s]=p,o[u+s*2]=p,o[u+s*3]=p,u+=s*4}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(ln.ObjectRenderer);Ll.default=f_;ln.WebGLRenderer.registerPlugin("particle",f_)});var p_=T(ki=>{f();"use strict";ki.__esModule=!0;var zF=a_();Object.defineProperty(ki,"ParticleContainer",{enumerable:!0,get:function(){return d_(zF).default}});var jF=c_();Object.defineProperty(ki,"ParticleRenderer",{enumerable:!0,get:function(){return d_(jF).default}});function d_(e){return e&&e.__esModule?e:{default:e}}});var Bl=T(Fl=>{f();"use strict";Fl.__esModule=!0;function KF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ZF=function(){function e(t){KF(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();Fl.default=ZF});var qi=T(kl=>{f();"use strict";kl.__esModule=!0;var JF=Y(),be=tB(JF),QF=Bl(),$F=eB(QF);function eB(e){return e&&e.__esModule?e:{default:e}}function tB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function rB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Nl=be.ticker.shared;be.settings.UPLOADS_PER_FRAME=4;var nB=function(){function e(t){var n=this;rB(this,e),this.limiter=new $F.default(be.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!n.queue||n.prepareItems()},this.registerFindHook(lB),this.registerFindHook(hB),this.registerFindHook(iB),this.registerFindHook(aB),this.registerFindHook(oB),this.registerUploadHook(sB),this.registerUploadHook(uB)}return e.prototype.upload=function(n,r){typeof n=="function"&&(r=n,n=null),n&&this.add(n),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Nl.addOnce(this.tick,this,be.UPDATE_PRIORITY.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var n=this.queue[0],r=!1;if(n&&!n._destroyed){for(var i=0,a=this.uploadHooks.length;i<a;i++)if(this.uploadHooks[i](this.uploadHookHelper,n)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Nl.addOnce(this.tick,this,be.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},e.prototype.registerFindHook=function(n){return n&&this.addHooks.push(n),this},e.prototype.registerUploadHook=function(n){return n&&this.uploadHooks.push(n),this},e.prototype.add=function(n){for(var r=0,i=this.addHooks.length;r<i&&!this.addHooks[r](n,this.queue);r++);if(n instanceof be.Container)for(var a=n.children.length-1;a>=0;a--)this.add(n.children[a]);return this},e.prototype.destroy=function(){this.ticking&&Nl.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();kl.default=nB;function iB(e,t){var n=!1;if(e&&e._textures&&e._textures.length){for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof be.Texture){var i=e._textures[r].baseTexture;t.indexOf(i)===-1&&(t.push(i),n=!0)}}return n}function aB(e,t){return e instanceof be.BaseTexture?(t.indexOf(e)===-1&&t.push(e),!0):!1}function oB(e,t){if(e._texture&&e._texture instanceof be.Texture){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function sB(e,t){return t instanceof be.Text?(t.updateText(!0),!0):!1}function uB(e,t){if(t instanceof be.TextStyle){var n=t.toFontString();return be.TextMetrics.measureFont(n),!0}return!1}function lB(e,t){if(e instanceof be.Text){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function hB(e,t){return e instanceof be.TextStyle?(t.indexOf(e)===-1&&t.push(e),!0):!1}});var __=T(ql=>{f();"use strict";ql.__esModule=!0;var fB=Y(),Ui=vB(fB),cB=qi(),dB=pB(cB);function pB(e){return e&&e.__esModule?e:{default:e}}function vB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v_=function(e){mB(t,e);function t(n){_B(this,t);var r=gB(this,e.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(TB),r.registerUploadHook(yB),r.registerUploadHook(xB),r}return t}(dB.default);ql.default=v_;function yB(e,t){return t instanceof Ui.BaseTexture?(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0):!1}function xB(e,t){return t instanceof Ui.Graphics?((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0):!1}function TB(e,t){return e instanceof Ui.Graphics?(t.push(e),!0):!1}Ui.WebGLRenderer.registerPlugin("prepare",v_)});var x_=T(Ul=>{f();"use strict";Ul.__esModule=!0;var bB=Y(),g_=MB(bB),wB=qi(),EB=SB(wB);function SB(e){return e&&e.__esModule?e:{default:e}}function MB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function OB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m_=16,y_=function(e){RB(t,e);function t(n){OB(this,t);var r=PB(this,e.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=m_,r.canvas.height=m_,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(AB),r}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(EB.default);Ul.default=y_;function AB(e,t){if(t instanceof g_.BaseTexture){var n=t.source,r=n.width===0?e.canvas.width:Math.min(e.canvas.width,n.width),i=n.height===0?e.canvas.height:Math.min(e.canvas.height,n.height);return e.ctx.drawImage(n,0,0,r,i,0,0,e.canvas.width,e.canvas.height),!0}return!1}g_.CanvasRenderer.registerPlugin("prepare",y_)});var T_=T(Gl=>{f();"use strict";Gl.__esModule=!0;function CB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var IB=function(){function e(t){CB(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();Gl.default=IB});var b_=T(Vt=>{f();"use strict";Vt.__esModule=!0;var DB=__();Object.defineProperty(Vt,"webgl",{enumerable:!0,get:function(){return hn(DB).default}});var LB=x_();Object.defineProperty(Vt,"canvas",{enumerable:!0,get:function(){return hn(LB).default}});var FB=qi();Object.defineProperty(Vt,"BasePrepare",{enumerable:!0,get:function(){return hn(FB).default}});var BB=Bl();Object.defineProperty(Vt,"CountLimiter",{enumerable:!0,get:function(){return hn(BB).default}});var NB=T_();Object.defineProperty(Vt,"TimeLimiter",{enumerable:!0,get:function(){return hn(NB).default}});function hn(e){return e&&e.__esModule?e:{default:e}}});var Gi=T(Z=>{f();"use strict";Z.__esModule=!0;Z.loader=Z.prepare=Z.particles=Z.mesh=Z.loaders=Z.interaction=Z.filters=Z.extras=Z.extract=Z.accessibility=void 0;var w_=qf();Object.keys(w_).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Z,e,{enumerable:!0,get:function(){return w_[e]}})});var Xl=Y();Object.keys(Xl).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Z,e,{enumerable:!0,get:function(){return Xl[e]}})});var kB=Mp(),E_=rN(kB),qB=Dp(),UB=it(qB),GB=Xp(),XB=it(GB),WB=wu(),HB=it(WB),VB=mv(),YB=it(VB),zB=bv(),jB=it(zB),KB=Yv(),S_=it(KB),ZB=n_(),JB=it(ZB),QB=p_(),$B=it(QB),eN=b_(),tN=it(eN);function it(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function rN(e){return e&&e.__esModule?e:{default:e}}Xl.utils.mixins.performMixins();var nN=S_.shared||null;Z.accessibility=UB;Z.extract=XB;Z.extras=HB;Z.filters=YB;Z.interaction=jB;Z.loaders=S_;Z.mesh=JB;Z.particles=$B;Z.prepare=tN;Z.loader=nN;typeof E_.default=="function"&&(0,E_.default)(Z);g.PIXI=Z});f();f();var wr=Yt(Vi());f();f();f();f();f();f();function Z_(){this.__data__=[],this.size=0}var $l=Z_;f();f();f();function J_(e,t){return e===t||e!==e&&t!==t}var vn=J_;function Q_(e,t){for(var n=e.length;n--;)if(vn(e[n][0],t))return n;return-1}var at=Q_;var $_=Array.prototype,eg=$_.splice;function tg(e){var t=this.__data__,n=at(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():eg.call(t,n,1),--this.size,!0}var eh=tg;f();function rg(e){var t=this.__data__,n=at(t,e);return n<0?void 0:t[n][1]}var th=rg;f();function ng(e){return at(this.__data__,e)>-1}var rh=ng;f();function ig(e,t){var n=this.__data__,r=at(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var nh=ig;function zt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zt.prototype.clear=$l;zt.prototype.delete=eh;zt.prototype.get=th;zt.prototype.has=rh;zt.prototype.set=nh;var ot=zt;f();function ag(){this.__data__=new ot,this.size=0}var ih=ag;f();function og(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ah=og;f();function sg(e){return this.__data__.get(e)}var oh=sg;f();function ug(e){return this.__data__.has(e)}var sh=ug;f();f();f();f();f();f();f();f();f();var lg=typeof g=="object"&&g&&g.Object===Object&&g,_n=lg;var hg=typeof self=="object"&&self&&self.Object===Object&&self,fg=_n||hg||Function("return this")(),ue=fg;var cg=ue.Symbol,He=cg;f();var uh=Object.prototype,dg=uh.hasOwnProperty,pg=uh.toString,mr=He?He.toStringTag:void 0;function vg(e){var t=dg.call(e,mr),n=e[mr];try{e[mr]=void 0;var r=!0}catch(a){}var i=pg.call(e);return r&&(t?e[mr]=n:delete e[mr]),i}var lh=vg;f();var _g=Object.prototype,gg=_g.toString;function mg(e){return gg.call(e)}var hh=mg;var yg="[object Null]",xg="[object Undefined]",fh=He?He.toStringTag:void 0;function Tg(e){return e==null?e===void 0?xg:yg:fh&&fh in Object(e)?lh(e):hh(e)}var Ve=Tg;f();function bg(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jt=bg;var wg="[object AsyncFunction]",Eg="[object Function]",Sg="[object GeneratorFunction]",Mg="[object Proxy]";function Og(e){if(!jt(e))return!1;var t=Ve(e);return t==Eg||t==Sg||t==wg||t==Mg}var gn=Og;f();f();var Pg=ue["__core-js_shared__"],mn=Pg;var ch=function(){var e=/[^.]+$/.exec(mn&&mn.keys&&mn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rg(e){return!!ch&&ch in e}var dh=Rg;f();var Ag=Function.prototype,Cg=Ag.toString;function Ig(e){if(e!=null){try{return Cg.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ye=Ig;var Dg=/[\\^$.*+?()[\]{}|]/g,Lg=/^\[object .+?Constructor\]$/,Fg=Function.prototype,Bg=Object.prototype,Ng=Fg.toString,kg=Bg.hasOwnProperty,qg=RegExp("^"+Ng.call(kg).replace(Dg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ug(e){if(!jt(e)||dh(e))return!1;var t=gn(e)?qg:Lg;return t.test(Ye(e))}var ph=Ug;f();function Gg(e,t){return e==null?void 0:e[t]}var vh=Gg;function Xg(e,t){var n=vh(e,t);return ph(n)?n:void 0}var Re=Xg;var Wg=Re(ue,"Map"),st=Wg;f();f();f();f();f();var Hg=Re(Object,"create"),ze=Hg;function Vg(){this.__data__=ze?ze(null):{},this.size=0}var _h=Vg;f();function Yg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gh=Yg;f();var zg="__lodash_hash_undefined__",jg=Object.prototype,Kg=jg.hasOwnProperty;function Zg(e){var t=this.__data__;if(ze){var n=t[e];return n===zg?void 0:n}return Kg.call(t,e)?t[e]:void 0}var mh=Zg;f();var Jg=Object.prototype,Qg=Jg.hasOwnProperty;function $g(e){var t=this.__data__;return ze?t[e]!==void 0:Qg.call(t,e)}var yh=$g;f();var em="__lodash_hash_undefined__";function tm(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ze&&t===void 0?em:t,this}var xh=tm;function Kt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kt.prototype.clear=_h;Kt.prototype.delete=gh;Kt.prototype.get=mh;Kt.prototype.has=yh;Kt.prototype.set=xh;var Yi=Kt;function rm(){this.size=0,this.__data__={hash:new Yi,map:new(st||ot),string:new Yi}}var Th=rm;f();f();f();function nm(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bh=nm;function im(e,t){var n=e.__data__;return bh(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ut=im;function am(e){var t=ut(this,e).delete(e);return this.size-=t?1:0,t}var wh=am;f();function om(e){return ut(this,e).get(e)}var Eh=om;f();function sm(e){return ut(this,e).has(e)}var Sh=sm;f();function um(e,t){var n=ut(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Mh=um;function Zt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zt.prototype.clear=Th;Zt.prototype.delete=wh;Zt.prototype.get=Eh;Zt.prototype.has=Sh;Zt.prototype.set=Mh;var yn=Zt;var lm=200;function hm(e,t){var n=this.__data__;if(n instanceof ot){var r=n.__data__;if(!st||r.length<lm-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yn(r)}return n.set(e,t),this.size=n.size,this}var Oh=hm;function Jt(e){var t=this.__data__=new ot(e);this.size=t.size}Jt.prototype.clear=ih;Jt.prototype.delete=ah;Jt.prototype.get=oh;Jt.prototype.has=sh;Jt.prototype.set=Oh;var xn=Jt;f();f();f();var fm="__lodash_hash_undefined__";function cm(e){return this.__data__.set(e,fm),this}var Ph=cm;f();function dm(e){return this.__data__.has(e)}var Rh=dm;function Tn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yn;++t<n;)this.add(e[t])}Tn.prototype.add=Tn.prototype.push=Ph;Tn.prototype.has=Rh;var Ah=Tn;f();function pm(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ch=pm;f();function vm(e,t){return e.has(t)}var Ih=vm;var _m=1,gm=2;function mm(e,t,n,r,i,a){var o=n&_m,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),h=a.get(t);if(l&&h)return l==t&&h==e;var c=-1,v=!0,p=n&gm?new Ah:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var d=e[c],_=t[c];if(r)var m=o?r(_,d,c,t,e,a):r(d,_,c,e,t,a);if(m!==void 0){if(m)continue;v=!1;break}if(p){if(!Ch(t,function(x,y){if(!Ih(p,y)&&(d===x||i(d,x,n,r,a)))return p.push(y)})){v=!1;break}}else if(!(d===_||i(d,_,n,r,a))){v=!1;break}}return a.delete(e),a.delete(t),v}var bn=mm;f();f();var ym=ue.Uint8Array,zi=ym;f();function xm(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Dh=xm;f();function Tm(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Lh=Tm;var bm=1,wm=2,Em="[object Boolean]",Sm="[object Date]",Mm="[object Error]",Om="[object Map]",Pm="[object Number]",Rm="[object RegExp]",Am="[object Set]",Cm="[object String]",Im="[object Symbol]",Dm="[object ArrayBuffer]",Lm="[object DataView]",Fh=He?He.prototype:void 0,ji=Fh?Fh.valueOf:void 0;function Fm(e,t,n,r,i,a,o){switch(n){case Lm:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dm:return!(e.byteLength!=t.byteLength||!a(new zi(e),new zi(t)));case Em:case Sm:case Pm:return vn(+e,+t);case Mm:return e.name==t.name&&e.message==t.message;case Rm:case Cm:return e==t+"";case Om:var s=Dh;case Am:var u=r&bm;if(s||(s=Lh),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=wm,o.set(e,t);var h=bn(s(e),s(t),r,i,a,o);return o.delete(e),h;case Im:if(ji)return ji.call(e)==ji.call(t)}return!1}var Bh=Fm;f();f();f();f();function Bm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Nh=Bm;f();var Nm=Array.isArray,Rt=Nm;function km(e,t,n){var r=t(e);return Rt(e)?r:Nh(r,n(e))}var kh=km;f();f();function qm(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var qh=qm;f();function Um(){return[]}var Uh=Um;var Gm=Object.prototype,Xm=Gm.propertyIsEnumerable,Gh=Object.getOwnPropertySymbols,Wm=Gh?function(e){return e==null?[]:(e=Object(e),qh(Gh(e),function(t){return Xm.call(e,t)}))}:Uh,Xh=Wm;f();f();f();function Hm(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Wh=Hm;f();f();f();function Vm(e){return e!=null&&typeof e=="object"}var je=Vm;var Ym="[object Arguments]";function zm(e){return je(e)&&Ve(e)==Ym}var Ki=zm;var Hh=Object.prototype,jm=Hh.hasOwnProperty,Km=Hh.propertyIsEnumerable,Zm=Ki(function(){return arguments}())?Ki:function(e){return je(e)&&jm.call(e,"callee")&&!Km.call(e,"callee")},Vh=Zm;f();f();function Jm(){return!1}var Yh=Jm;var zh=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jh=zh&&typeof module=="object"&&module&&!module.nodeType&&module,Qm=jh&&jh.exports===zh,Kh=Qm?ue.Buffer:void 0,$m=Kh?Kh.isBuffer:void 0,ey=$m||Yh,yr=ey;f();var ty=9007199254740991,ry=/^(?:0|[1-9]\d*)$/;function ny(e,t){var n=typeof e;return t=t??ty,!!t&&(n=="number"||n!="symbol"&&ry.test(e))&&e>-1&&e%1==0&&e<t}var Zh=ny;f();f();f();var iy=9007199254740991;function ay(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iy}var wn=ay;var oy="[object Arguments]",sy="[object Array]",uy="[object Boolean]",ly="[object Date]",hy="[object Error]",fy="[object Function]",cy="[object Map]",dy="[object Number]",py="[object Object]",vy="[object RegExp]",_y="[object Set]",gy="[object String]",my="[object WeakMap]",yy="[object ArrayBuffer]",xy="[object DataView]",Ty="[object Float32Array]",by="[object Float64Array]",wy="[object Int8Array]",Ey="[object Int16Array]",Sy="[object Int32Array]",My="[object Uint8Array]",Oy="[object Uint8ClampedArray]",Py="[object Uint16Array]",Ry="[object Uint32Array]",J={};J[Ty]=J[by]=J[wy]=J[Ey]=J[Sy]=J[My]=J[Oy]=J[Py]=J[Ry]=!0;J[oy]=J[sy]=J[yy]=J[uy]=J[xy]=J[ly]=J[hy]=J[fy]=J[cy]=J[dy]=J[py]=J[vy]=J[_y]=J[gy]=J[my]=!1;function Ay(e){return je(e)&&wn(e.length)&&!!J[Ve(e)]}var Jh=Ay;f();function Cy(e){return function(t){return e(t)}}var Qh=Cy;f();var $h=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xr=$h&&typeof module=="object"&&module&&!module.nodeType&&module,Iy=xr&&xr.exports===$h,Zi=Iy&&_n.process,Dy=function(){try{var e=xr&&xr.require&&xr.require("util").types;return e||Zi&&Zi.binding&&Zi.binding("util")}catch(t){}}(),Ji=Dy;var ef=Ji&&Ji.isTypedArray,Ly=ef?Qh(ef):Jh,En=Ly;var Fy=Object.prototype,By=Fy.hasOwnProperty;function Ny(e,t){var n=Rt(e),r=!n&&Vh(e),i=!n&&!r&&yr(e),a=!n&&!r&&!i&&En(e),o=n||r||i||a,s=o?Wh(e.length,String):[],u=s.length;for(var l in e)(t||By.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Zh(l,u)))&&s.push(l);return s}var tf=Ny;f();f();var ky=Object.prototype;function qy(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ky;return e===n}var rf=qy;f();f();function Uy(e,t){return function(n){return e(t(n))}}var nf=Uy;var Gy=nf(Object.keys,Object),af=Gy;var Xy=Object.prototype,Wy=Xy.hasOwnProperty;function Hy(e){if(!rf(e))return af(e);var t=[];for(var n in Object(e))Wy.call(e,n)&&n!="constructor"&&t.push(n);return t}var of=Hy;f();function Vy(e){return e!=null&&wn(e.length)&&!gn(e)}var sf=Vy;function Yy(e){return sf(e)?tf(e):of(e)}var uf=Yy;function zy(e){return kh(e,uf,Xh)}var Qi=zy;var jy=1,Ky=Object.prototype,Zy=Ky.hasOwnProperty;function Jy(e,t,n,r,i,a){var o=n&jy,s=Qi(e),u=s.length,l=Qi(t),h=l.length;if(u!=h&&!o)return!1;for(var c=u;c--;){var v=s[c];if(!(o?v in t:Zy.call(t,v)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var _=!0;a.set(e,t),a.set(t,e);for(var m=o;++c<u;){v=s[c];var x=e[v],y=t[v];if(r)var b=o?r(y,x,v,t,e,a):r(x,y,v,e,t,a);if(!(b===void 0?x===y||i(x,y,n,r,a):b)){_=!1;break}m||(m=v=="constructor")}if(_&&!m){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(_=!1)}return a.delete(e),a.delete(t),_}var lf=Jy;f();f();var Qy=Re(ue,"DataView"),Sn=Qy;f();var $y=Re(ue,"Promise"),Mn=$y;f();var ex=Re(ue,"Set"),On=ex;f();var tx=Re(ue,"WeakMap"),Pn=tx;var hf="[object Map]",rx="[object Object]",ff="[object Promise]",cf="[object Set]",df="[object WeakMap]",pf="[object DataView]",nx=Ye(Sn),ix=Ye(st),ax=Ye(Mn),ox=Ye(On),sx=Ye(Pn),At=Ve;(Sn&&At(new Sn(new ArrayBuffer(1)))!=pf||st&&At(new st)!=hf||Mn&&At(Mn.resolve())!=ff||On&&At(new On)!=cf||Pn&&At(new Pn)!=df)&&(At=function(e){var t=Ve(e),n=t==rx?e.constructor:void 0,r=n?Ye(n):"";if(r)switch(r){case nx:return pf;case ix:return hf;case ax:return ff;case ox:return cf;case sx:return df}return t});var $i=At;var ux=1,vf="[object Arguments]",_f="[object Array]",Rn="[object Object]",lx=Object.prototype,gf=lx.hasOwnProperty;function hx(e,t,n,r,i,a){var o=Rt(e),s=Rt(t),u=o?_f:$i(e),l=s?_f:$i(t);u=u==vf?Rn:u,l=l==vf?Rn:l;var h=u==Rn,c=l==Rn,v=u==l;if(v&&yr(e)){if(!yr(t))return!1;o=!0,h=!1}if(v&&!h)return a||(a=new xn),o||En(e)?bn(e,t,n,r,i,a):Bh(e,t,u,n,r,i,a);if(!(n&ux)){var p=h&&gf.call(e,"__wrapped__"),d=c&&gf.call(t,"__wrapped__");if(p||d){var _=p?e.value():e,m=d?t.value():t;return a||(a=new xn),i(_,m,n,r,a)}}return v?(a||(a=new xn),lf(e,t,n,r,i,a)):!1}var mf=hx;function yf(e,t,n,r,i){return e===t?!0:e==null||t==null||!je(e)&&!je(t)?e!==e&&t!==t:mf(e,t,n,r,yf,i)}var xf=yf;function fx(e,t){return xf(e,t)}var Qt=fx;f();f();var Tf=function(){function e(t,n,r){n===void 0&&(n=!1),this.next=null,this.prev=null,this.owner=null,this.fn=t,this.once=n,this.thisArg=r}return e.prototype.detach=function(){return this.owner===null?!1:(this.owner.detach(this),!0)},e.prototype.dispose=function(){this.detach()},e}(),le=function(){function e(){this._head=null,this._tail=null,this._filter=null}return e.prototype.handlers=function(){for(var t=this._head,n=[];t;)n.push(t),t=t.next;return n},e.prototype.hasAny=function(){return!!this._head},e.prototype.has=function(t){return t.owner===this},e.prototype.dispatch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._head;if(!r||this._filter&&!this._filter.apply(this,t))return!1;for(;r;)r.once&&this.detach(r),r.fn.apply(r.thisArg,t),r=r.next;return!0},e.prototype.add=function(t,n){return n===void 0&&(n=null),this._addSignalBinding(new Tf(t,!1,n))},e.prototype.once=function(t,n){return n===void 0&&(n=null),this._addSignalBinding(new Tf(t,!0,n))},e.prototype.detach=function(t){var n=t;return n.owner!==this?this:(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n===this._head?(this._head=n.next,n.next===null&&(this._tail=null)):n===this._tail&&(this._tail=n.prev,this._tail&&(this._tail.next=null)),n.owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=null,this._tail=null;t;)t.owner=null,t=t.next;return this},e.prototype.filter=function(t){this._filter=t},e.prototype.proxy=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t.dispatch.apply(t,o)},a=0;a<n.length;++a)n[a].add(i);return this},e.prototype._addSignalBinding=function(t){var n=t;return this._head?(this._tail&&(this._tail.next=n),n.prev=this._tail,this._tail=n):(this._head=n,this._tail=n),n.owner=this,n},e}();var Cn=Yt(An());var ea=function(){function e(t){this.config=t,this.onError=new le,this.onComplete=new le,this.onProgress=new le}return e}();var ta=function(e,t){return ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ta(e,t)};function Tr(e,t){ta(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function dx(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function ra(e){var t=e.indexOf("data:")===0,n="";if(t){var r=e.indexOf("/");n=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),n=e.substring(e.lastIndexOf(".")+1)}return n.toLowerCase()}function wf(e){throw new Error("Unexpected value. Should have been never.")}var we;(function(e){e[e.Unknown=0]="Unknown",e[e.Buffer=1]="Buffer",e[e.Blob=2]="Blob",e[e.Json=3]="Json",e[e.Xml=4]="Xml",e[e.Image=5]="Image",e[e.Audio=6]="Audio",e[e.Video=7]="Video",e[e.Text=8]="Text"})(we||(we={}));var lt;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete"})(lt||(lt={}));var Ef=function(e){Tr(t,e);function t(n,r){var i=e.call(this,n)||this;return i.elementType=r,i._boundOnLoad=i._onLoad.bind(i),i._boundOnError=i._onError.bind(i),i._boundOnTimeout=i._onTimeout.bind(i),i._element=i._createElement(),i._elementTimer=0,i}return t.prototype.load=function(){var n=this.config;n.crossOrigin&&(this._element.crossOrigin=n.crossOrigin);var r=n.sourceSet||[n.url];if(navigator.isCocoonJS)this._element.src=r[0];else for(var i=0;i<r.length;++i){var a=r[i],o=n.mimeTypes?n.mimeTypes[i]:void 0;o||(o=this.elementType+"/"+ra(a));var s=document.createElement("source");s.src=a,s.type=o,this._element.appendChild(s)}this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("canplaythrough",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),this._element.load(),n.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,n.timeout))},t.prototype.abort=function(){for(this._clearEvents();this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._error(this.elementType+" load aborted by the user.")},t.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement(this.elementType)},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("canplaythrough",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},t.prototype._error=function(n){this._clearEvents(),this.onError.dispatch(n)},t.prototype._complete=function(){this._clearEvents();var n=we.Unknown;switch(this.elementType){case"audio":n=we.Audio;break;case"video":n=we.Video;break;default:wf(this.elementType)}this.onComplete.dispatch(n,this._element)},t.prototype._onLoad=function(){this._complete()},t.prototype._onError=function(){this._error(this.elementType+" failed to load.")},t.prototype._onTimeout=function(){this._error(this.elementType+" load timed out.")},t}(ea),na=function(e){Tr(t,e);function t(n){return e.call(this,n,"audio")||this}return t}(Ef),px="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",ve=function(e){Tr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._boundOnLoad=n._onLoad.bind(n),n._boundOnError=n._onError.bind(n),n._boundOnTimeout=n._onTimeout.bind(n),n._element=n._createElement(),n._elementTimer=0,n}return t.prototype.load=function(){var n=this.config;n.crossOrigin&&(this._element.crossOrigin=n.crossOrigin),this._element.src=n.url,this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),n.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,n.timeout))},t.prototype.abort=function(){this._clearEvents(),this._element.src=px,this._error("Image load aborted by the user.")},t.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement("img")},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},t.prototype._error=function(n){this._clearEvents(),this.onError.dispatch(n)},t.prototype._complete=function(){this._clearEvents(),this.onComplete.dispatch(we.Image,this._element)},t.prototype._onLoad=function(){this._complete()},t.prototype._onError=function(){this._error("Image failed to load.")},t.prototype._onTimeout=function(){this._error("Image load timed out.")},t}(ea),br=function(e){Tr(t,e);function t(n){return e.call(this,n,"video")||this}return t}(Ef),In=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),B;(function(e){e.Default="text",e.Buffer="arraybuffer",e.Blob="blob",e.Document="document",e.Json="json",e.Text="text"})(B||(B={}));function ia(e){return e.toString().replace("object ","")}var Ee=function(e){Tr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._boundOnLoad=n._onLoad.bind(n),n._boundOnAbort=n._onAbort.bind(n),n._boundOnError=n._onError.bind(n),n._boundOnTimeout=n._onTimeout.bind(n),n._boundOnProgress=n._onProgress.bind(n),n._xhr=n._createRequest(),n._xhrType=B.Default,n}return t.prototype.load=function(){var n=this.config,r=ra(n.url);typeof n.xhrType!="string"&&(n.xhrType=this._determineXhrType(r));var i=this._xhr;this._xhrType=n.xhrType||B.Default,In?(i.timeout=n.timeout||5e3,i.onload=this._boundOnLoad,i.onerror=this._boundOnError,i.ontimeout=this._boundOnTimeout,i.onprogress=this._boundOnProgress,i.open("GET",n.url,!0),setTimeout(function(){i.send()},0)):(i.open("GET",n.url,!0),n.timeout&&(i.timeout=n.timeout),n.xhrType===B.Json||n.xhrType===B.Document?i.responseType=B.Text:i.responseType=n.xhrType,i.addEventListener("load",this._boundOnLoad,!1),i.addEventListener("abort",this._boundOnAbort,!1),i.addEventListener("error",this._boundOnError,!1),i.addEventListener("timeout",this._boundOnTimeout,!1),i.addEventListener("progress",this._boundOnProgress,!1),i.send())},t.prototype.abort=function(){In?(this._clearEvents(),this._xhr.abort(),this._onAbort()):this._xhr.abort()},t.prototype._createRequest=function(){return In?new window.XDomainRequest:new XMLHttpRequest},t.prototype._determineXhrType=function(n){return t._xhrTypeMap[n]||B.Default},t.prototype._clearEvents=function(){In?(this._xhr.onload=null,this._xhr.onerror=null,this._xhr.ontimeout=null,this._xhr.onprogress=null):(this._xhr.removeEventListener("load",this._boundOnLoad,!1),this._xhr.removeEventListener("abort",this._boundOnAbort,!1),this._xhr.removeEventListener("error",this._boundOnError,!1),this._xhr.removeEventListener("timeout",this._boundOnTimeout,!1),this._xhr.removeEventListener("progress",this._boundOnProgress,!1))},t.prototype._error=function(n){this._clearEvents(),this.onError.dispatch(n)},t.prototype._complete=function(n,r){this._clearEvents(),this.onComplete.dispatch(n,r)},t.prototype._onLoad=function(){var n=this._xhr,r="",i=typeof n.status=="undefined"?200:n.status;(typeof n.responseType=="undefined"||n.responseType===""||n.responseType==="text")&&(r=n.responseText),i===0&&(r.length>0||n.responseType===B.Buffer)?i=200:i===1223&&(i=204);var a=Math.floor(i/100)*100;if(a!==200){this._error("["+n.status+"] "+n.statusText+": "+n.responseURL);return}switch(this._xhrType){case B.Buffer:this._complete(we.Buffer,n.response);break;case B.Blob:this._complete(we.Blob,n.response);break;case B.Document:this._parseDocument(r);break;case B.Json:this._parseJson(r);break;case B.Default:case B.Text:this._complete(we.Text,r);break;default:wf(this._xhrType)}},t.prototype._parseDocument=function(n){try{if(window.DOMParser){var r=new DOMParser,i=r.parseFromString(n,"text/xml");this._complete(we.Xml,i)}else{var a=document.createElement("div");a.innerHTML=n,this._complete(we.Xml,a)}}catch(o){this._error("Error trying to parse loaded xml: "+o)}},t.prototype._parseJson=function(n){try{var r=JSON.parse(n);this._complete(we.Json,r)}catch(i){this._error("Error trying to parse loaded json: "+i)}},t.prototype._onAbort=function(){var n=this._xhr;this._error(ia(n)+" Request was aborted by the user.")},t.prototype._onError=function(){var n=this._xhr;this._error(ia(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},t.prototype._onTimeout=function(){var n=this._xhr;this._error(ia(n)+" Request timed out.")},t.prototype._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(n.loaded/n.total)},t.setExtensionXhrType=function(n,r){n&&n.indexOf(".")===0&&(n=n.substring(1)),!!n&&(t._xhrTypeMap[n]=r)},t.ResponseType=B,t._xhrTypeMap={xhtml:B.Document,html:B.Document,htm:B.Document,xml:B.Document,tmx:B.Document,svg:B.Document,tsx:B.Document,gif:B.Blob,png:B.Blob,bmp:B.Blob,jpg:B.Blob,jpeg:B.Blob,tif:B.Blob,tiff:B.Blob,webp:B.Blob,tga:B.Blob,json:B.Json,text:B.Text,txt:B.Text,ttf:B.Buffer,otf:B.Buffer},t}(ea);function vx(e){var t=e;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t===null)throw new Error("Callback was already called.");var a=t;return t=null,a.apply(this,r)}}var _x=function(){function e(t,n){if(n===void 0&&(n=1),this.worker=t,this.concurrency=n,this.workers=0,this.buffer=0,this.paused=!1,this._started=!1,this._tasks=[],this.onSaturated=new le,this.onUnsaturated=new le,this.onEmpty=new le,this.onDrain=new le,this.onError=new le,n===0)throw new Error("Concurrency must not be zero");this.buffer=n/4}return Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.onDrain.detachAll(),this.workers=0,this._started=!1,this._tasks=[]},e.prototype.push=function(t,n){this._insert(t,!1,n)},e.prototype.unshift=function(t,n){this._insert(t,!0,n)},e.prototype.process=function(){for(;!this.paused&&this.workers<this.concurrency&&this._tasks.length;){var t=this._tasks.shift();this._tasks.length===0&&this.onEmpty.dispatch(),this.workers+=1,this.workers===this.concurrency&&this.onSaturated.dispatch(),this.worker(t.data,vx(this._next(t)))}},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.prototype.getTask=function(t){return this._tasks[t]},e.prototype._insert=function(t,n,r){var i=this;if(r!=null&&typeof r!="function")throw new Error("task callback must be a function");if(this._started=!0,t==null&&this.idle()){setTimeout(function(){return i.onDrain.dispatch()},1);return}var a={data:t,callback:r};n?this._tasks.unshift(a):this._tasks.push(a),setTimeout(function(){return i.process()},1)},e.prototype._next=function(t){var n=this;return function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];n.workers-=1,t.callback&&t.callback.apply(t,dx([r],i)),r&&n.onError.dispatch(r,t.data),n.workers<=n.concurrency-n.buffer&&n.onUnsaturated.dispatch(),n.idle()&&n.onDrain.dispatch(),n.process()}},e}(),gx=function(){function e(t,n){if(this.children=[],this.onStart=new le,this.onProgress=new le,this.onComplete=new le,this.onAfterMiddleware=new le,this.data=null,this.type=we.Unknown,this.error="",this.progressChunk=0,this._dequeue=function(){},this._onCompleteBinding=null,this._state=lt.NotStarted,this.name=t,this.metadata=n.metadata,typeof n.crossOrigin!="string"&&(n.crossOrigin=this._determineCrossOrigin(n.url)),n.strategy&&typeof n.strategy!="function")this._strategy=n.strategy,this._strategy.config=n;else{var r=n.strategy;r||(r=e._loadStrategyMap[ra(n.url)]),r||(r=e._defaultLoadStrategy),this._strategy=new r(n)}this._strategy.onError.add(this._error,this),this._strategy.onComplete.add(this._complete,this),this._strategy.onProgress.add(this._progress,this)}return e.setDefaultLoadStrategy=function(t){e._defaultLoadStrategy=t},e.setLoadStrategy=function(t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),!!t&&(e._loadStrategyMap[t]=n)},Object.defineProperty(e.prototype,"strategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._strategy.config.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._state===lt.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._state===lt.Complete},enumerable:!0,configurable:!0}),e.prototype.abort=function(){this._strategy.abort()},e.prototype.load=function(){this._state=lt.Loading,this.onStart.dispatch(this),this._strategy.load()},e.prototype._error=function(t){this._state=lt.Complete,this.error=t,this.onComplete.dispatch(this)},e.prototype._complete=function(t,n){this._state=lt.Complete,this.type=t,this.data=n,this.onComplete.dispatch(this)},e.prototype._progress=function(t){this.onProgress.dispatch(this,t)},e.prototype._determineCrossOrigin=function(t,n){if(n===void 0&&(n=window.location),t.indexOf("data:")===0||t.indexOf("javascript:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";e._tempAnchor||(e._tempAnchor=document.createElement("a")),e._tempAnchor.href=t;var r=(0,Cn.default)(e._tempAnchor.href,{strictMode:!0}),i=!r.port&&n.port===""||r.port===n.port,a=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!i||a!==n.protocol?"anonymous":""},e._tempAnchor=null,e._defaultLoadStrategy=Ee,e._loadStrategyMap={gif:ve,png:ve,bmp:ve,jpg:ve,jpeg:ve,tif:ve,tiff:ve,webp:ve,tga:ve,svg:ve,"svg+xml":ve,mp3:na,ogg:na,wav:na,mp4:br,webm:br,mov:br},e}();function mx(e,t,n,r){r===void 0&&(r=!1);var i=0,a=e.length;(function o(s){if(s||i===a){n&&n(s);return}r?setTimeout(function(){return t(e[i++],o)},1):t(e[i++],o)})()}var aa=100,yx=/(#[\w-]+)?$/,Sf=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this.resources={},this.onError=new le,this.onLoad=new le,this.onStart=new le,this.onComplete=new le,this.onProgress=new le,this._baseUrl="",this._urlResolvers=[],this._middleware=[],this._resourcesParsing=[],this._boundLoadResource=this._loadResource.bind(this),this.baseUrl=t,this._queue=new _x(this._boundLoadResource,n),this._queue.pause(),this._middleware=e._defaultMiddleware.slice()}return Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(t){for(;t.length&&t.charAt(t.length-1)==="/";)t=t.slice(0,-1);this._baseUrl=t},enumerable:!0,configurable:!0}),e.prototype.add=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}var i="",a="",o=this._baseUrl,s={url:""};if(typeof t=="object"?(i=t.url,a=t.name||t.url,o=t.baseUrl||o,s=t):(a=t,typeof n=="string"?i=n:i=a),!i)throw new Error("You must specify the `url` property.");if(this.loading&&!s.parentResource)throw new Error("Cannot add root resources while the loader is running.");if(this.resources[a])throw new Error('Resource named "'+a+'" already exists.');i=this._prepareUrl(i,o),s.url=i;var u=new gx(a,s);if(this.resources[a]=u,typeof s.onComplete=="function"&&u.onAfterMiddleware.once(s.onComplete),this.loading){for(var l=s.parentResource,h=[],r=0;r<l.children.length;++r)l.children[r].isComplete||h.push(l.children[r]);var c=l.progressChunk*(h.length+1),v=c/(h.length+2);l.children.push(u),l.progressChunk=v;for(var r=0;r<h.length;++r)h[r].progressChunk=v;u.progressChunk=v}return this._queue.push(u),this},e.prototype.use=function(t,n){return n===void 0&&(n=e.DefaultMiddlewarePriority),this._middleware.push({fn:t,priority:n}),this._middleware.sort(function(r,i){return r.priority-i.priority}),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.reset(),this._queue.pause();for(var t in this.resources){var n=this.resources[t];!n||(n._onCompleteBinding&&n._onCompleteBinding.detach(),n.isLoading&&n.abort())}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue.length(),r=aa/n,i=0;i<this._queue.length();++i)this._queue.getTask(i).data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!0,configurable:!0}),e.prototype.addUrlResolver=function(t){return this._urlResolvers.push(t),this},e.prototype._prepareUrl=function(t,n){var r=(0,Cn.default)(t,{strictMode:!0});if(this._urlResolvers.forEach(function(o){t=o(t,r),r=(0,Cn.default)(t,{strictMode:!0})}),!r.protocol&&t.indexOf("//")!==0&&(n.length&&t.charAt(0)!=="/"?t=n+"/"+t:t=n+t),this.defaultQueryString){var i=yx.exec(t);if(i){var a=i[0];t=t.substr(0,t.length-a.length),t.indexOf("?")!==-1?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=a}}return t},e.prototype._loadResource=function(t,n){t._dequeue=n,t._onCompleteBinding=t.onComplete.once(this._onLoad,this),t.load()},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=aa,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var n=this;t._onCompleteBinding=null,this._resourcesParsing.push(t),t._dequeue(),mx(this._middleware,function(r,i){r.fn.call(n,t,i)},function(){t.onAfterMiddleware.dispatch(t),n.progress=Math.min(aa,n.progress+t.progressChunk),n.onProgress.dispatch(n,t),t.error?n.onError.dispatch(t.error,n,t):n.onLoad.dispatch(n,t),n._resourcesParsing.splice(n._resourcesParsing.indexOf(t),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},e.use=function(t,n){return n===void 0&&(n=e.DefaultMiddlewarePriority),e._defaultMiddleware.push({fn:t,priority:n}),e._defaultMiddleware.sort(function(r,i){return r.priority-i.priority}),e},e.DefaultMiddlewarePriority=50,e._defaultMiddleware=[],e}();var oa=function(e,t){return oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},oa(e,t)};function $t(e,t){oa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ct(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function It(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(l){try{u(r.next(l))}catch(h){a(h)}}function s(l){try{u(r.throw(l))}catch(h){a(h)}}function u(l){l.done?i(l.value):new n(function(h){h(l.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})}function Dt(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(h){return u([l,h])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(h){l=[6,h],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Q(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function xx(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Dn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xx(arguments[t]));return e}function Tx(e){if(e instanceof Ke)return e.name;if(e instanceof Function)return e.componentName}var Ke=function(e){$t(t,e);function t(n){var r=e.call(this)||this;return r.started=!1,r.name=r.constructor.componentName,r.__componentDefaultParams=n,r}return t}(wr.default),_e;(function(e){e.ADD="ADD",e.REMOVE="REMOVE",e.CHANGE="CHANGE"})(_e||(_e={}));var Ln={},Fn={},Lt={},er={};function bx(e,t){Ln[e.gameObject.id]||(Ln[e.gameObject.id]={});var n=Ln[e.gameObject.id],r=e.name+"_"+t.join(",");if(n[r])return n[r];for(var i=t.length-1,a=e,o=0;o<i;o++)a=a[t[o]];return n[r]={property:a,key:t[i]},n[r]}function wx(e){e.gameObject&&delete Ln[e.gameObject.id]}function Ex(e){var t=e.systemName,n=e.componentName,r=e.component,i=e.prop,a=e.type;Fn[t].componentObserver.add({component:r,prop:i,type:a,componentName:n})}function Sx(e){var t=e.prop,n=e.component,r=e.componentName;for(var i in Lt){var a=Lt[i]||{},o=a[r];if(!!o){var s=o.findIndex(function(u){return Qt(u,t)});s>-1&&Ex({systemName:i,componentName:r,component:n,prop:t,type:_e.CHANGE})}}}function Mf(e){var t,n,r=e.obj,i=e.key,a=e.prop,o=e.component,s=e.componentName;if(r!==void 0){if(!(i in r)){console.error("prop "+i+" not in component: "+s+", Can not observer");return}if(Object.defineProperty(r,"_"+i,{enumerable:!1,writable:!0,value:r[i]}),a.deep&&jt(r[i]))try{for(var u=Q(Object.keys(r[i])),l=u.next();!l.done;l=u.next()){var h=l.value;Mf({obj:r[i],key:h,prop:a,component:o,componentName:s})}}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}Object.defineProperty(r,i,{enumerable:!0,set:function(c){r["_"+i]!==c&&(r["_"+i]=c,Sx({prop:a,component:o,componentName:s}))},get:function(){return r["_"+i]}})}}function Mx(e){return e&&e.constructor&&"componentName"in e.constructor}function Ox(e){var t,n,r,i,a=[];e instanceof Array?a.push.apply(a,Dn(e)):a.push(e);try{for(var o=Q(a),s=o.next();!s.done;s=o.next()){var u=s.value;for(var l in u.observerInfo){er[l]=er[l]||[];var h=er[l],c=function(_){var m=h.findIndex(function(x){return Qt(x,_)});m===-1&&er[l].push(_)};try{for(var v=(r=void 0,Q(u.observerInfo[l])),p=v.next();!p.done;p=v.next()){var d=p.value;c(d)}}catch(_){r={error:_}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}}}}catch(_){t={error:_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}function Px(e,t){var n,r;if(t===void 0&&(t=e.name),!(!t||!er[t])){if(!e||!Mx(e))throw new Error("component param must be an instance of Component");if(!e.gameObject||!e.gameObject.id)throw new Error("component should be add to a gameObject");try{for(var i=Q(er[t]),a=i.next();!a.done;a=i.next()){var o=a.value,s=bx(e,o.prop),u=s.property,l=s.key;Mf({obj:u,key:l,prop:o,component:e,componentName:t})}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function Rx(e,t){t===void 0&&(t=e.name);for(var n in Lt){var r=Lt[n]||{},i=r[t];i&&Fn[n].componentObserver.add({component:e,type:_e.ADD,componentName:t})}}function Ax(e,t){t===void 0&&(t=e.name);for(var n in Lt){var r=Lt[n]||{},i=r[t];i&&Fn[n].componentObserver.add({component:e,type:_e.REMOVE,componentName:t})}wx(e)}function Cx(e,t){Lt[t.systemName]=t.observerInfo,Fn[t.systemName]=e}function ht(e,t){e.constructor.IDEProps||(e.constructor.IDEProps=[]),e.constructor.IDEProps.push(t)}var Of=function(e){$t(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.name="Transform",n._parent=null,n.inScene=!1,n.children=[],n.position={x:0,y:0},n.size={width:0,height:0},n.origin={x:0,y:0},n.anchor={x:0,y:0},n.scale={x:1,y:1},n.skew={x:0,y:0},n.rotation=0,n}return t.prototype.init=function(n){var r,i;n===void 0&&(n={});var a=["position","size","origin","anchor","scale","skew"];try{for(var o=Q(a),s=o.next();!s.done;s=o.next()){var u=s.value;Object.assign(this[u],n[u])}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.rotation=n.rotation||this.rotation},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(n){n?n.addChild(this):this.parent&&this.parent.removeChild(this)},enumerable:!1,configurable:!0}),t.prototype.addChild=function(n){if(n.parent===this){var r=this.children.findIndex(function(i){return i===n});this.children.splice(r,1)}else n.parent&&n.parent.removeChild(n);n._parent=this,this.children.push(n)},t.prototype.removeChild=function(n){var r=this.children.findIndex(function(i){return i===n});r>-1&&(this.children.splice(r,1),n._parent=null)},t.prototype.clearChildren=function(){this.children.length=0},t.componentName="Transform",Ct([ht],t.prototype,"position",void 0),Ct([ht],t.prototype,"size",void 0),Ct([ht],t.prototype,"origin",void 0),Ct([ht],t.prototype,"anchor",void 0),Ct([ht],t.prototype,"scale",void 0),Ct([ht],t.prototype,"skew",void 0),Ct([ht],t.prototype,"rotation",void 0),t}(Ke),Ix=0;function Dx(){return++Ix}var sa=function(){function e(t,n){this._componentCache={},this.components=[],this._name=t,this.id=Dx(),this.addComponent(Of,n)}return Object.defineProperty(e.prototype,"transform",{get:function(){return this.getComponent(Of.componentName)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.transform&&this.transform.parent&&this.transform.parent.gameObject},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},set:function(t){var n,r;if(this._scene!==t){var i=this._scene;if(this._scene=t,this.transform&&this.transform.children)try{for(var a=Q(this.transform.children),o=a.next();!o.done;o=a.next()){var s=o.value;s.gameObject.scene=t}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t?t.addGameObject(this):i&&i.removeGameObject(this)}},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){if(!(!t||!t.transform||t===this)){if(!(t instanceof e))throw new Error("addChild only receive GameObject");if(!this.transform)throw new Error("gameObject '"+this.name+"' has been destroy");t.transform.parent=this.transform,t.scene=this.scene}},e.prototype.removeChild=function(t){return!(t instanceof e)||!t.parent||t.parent!==this||(t.transform.parent=null,t.scene=null),t},e.prototype.addComponent=function(t,n){var r=Tx(t);if(!this._componentCache[r]){var i;if(t instanceof Function)i=new t(n);else if(t instanceof Ke)i=t;else throw new Error("addComponent recieve Component and Component Constructor");if(i.gameObject)throw new Error("component has been added on gameObject "+i.gameObject.name);return i.gameObject=this,i.init&&i.init(i.__componentDefaultParams),Rx(i,i.name),Px(i,i.name),this.components.push(i),this._componentCache[r]=i,i.awake&&i.awake(),i}},e.prototype.removeComponent=function(t){var n;if(typeof t=="string"?n=t:t instanceof Ke?n=t.name:t.componentName&&(n=t.componentName),n==="Transform")throw new Error("Transform can't be removed");return this._removeComponent(n)},e.prototype._removeComponent=function(t){var n=this.components.findIndex(function(i){var a=i.name;return a===t});if(n!==-1){var r=this.components.splice(n,1)[0];return delete this._componentCache[t],r.onDestroy&&r.onDestroy(),Ax(r,t),r.gameObject=void 0,r}},e.prototype.getComponent=function(t){var n;if(typeof t=="string"?n=t:t instanceof Ke?n=t.name:t.componentName&&(n=t.componentName),typeof this._componentCache[n]!="undefined")return this._componentCache[n]},e.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},e.prototype.destroy=function(){Array.from(this.transform.children).forEach(function(n){var r=n.gameObject;r.destroy()}),this.remove(),this.transform.clearChildren();for(var t in this._componentCache)this._removeComponent(t);this.components.length=0},e}(),Lx=function(){function e(){this.events=[]}return e.prototype.add=function(t){var n=t.component,r=t.prop,i=t.type,a=t.componentName;i===_e.REMOVE&&(this.events=this.events.filter(function(s){return s.component!==n}));var o=this.events.findIndex(function(s){return s.component===n&&Qt(s.prop,r)&&s.type===i});o>-1&&this.events.splice(o,1),this.events.push({gameObject:n.gameObject,component:n,prop:r,type:i,componentName:a})},e.prototype.getChanged=function(){return this.events},Object.defineProperty(e.prototype,"changed",{get:function(){return this.events},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var t=this.events;return this.events=[],t},e}(),tr=function(){function e(t){this.started=!1,this.componentObserver=new Lx,this.__systemDefaultParams=t,this.name=this.constructor.systemName}return e.prototype.destroy=function(){var t;this.componentObserver=null,this.__systemDefaultParams=null,(t=this.onDestroy)===null||t===void 0||t.call(this)},e}(),Fx={autoStart:!0,frameRate:60},Bx=function(){function e(t){var n=this;t=Object.assign({},Fx,t),this._frameDuration=1e3/t.frameRate,this.autoStart=t.autoStart,this.frameRate=t.frameRate,this._tickers=new Set,this._requestId=null,this._blockTime=0,this._lastTime=Date.now(),this._frameCount=0,this._activeWithPause=!1,this._ticker=function(){n._started&&(n._requestId=requestAnimationFrame(n._ticker),n.update())},this.autoStart&&this.start(),this.bindEvent()}return e.prototype.update=function(){var t,n,r=Date.now();if(r-this._lastTime>=this._frameDuration){var i=r-this._lastTime,a={deltaTime:i,frameCount:++this._frameCount,time:r-this._blockTime,fps:Math.round(1e3/i)};try{for(var o=Q(this._tickers),s=o.next();!s.done;s=o.next()){var u=s.value;typeof u=="function"&&u(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this._lastTime=r}},e.prototype.add=function(t){this._tickers.add(t)},e.prototype.remove=function(t){this._tickers.delete(t)},e.prototype.start=function(){this._started||(this._lastStopTime>0&&(this._blockTime=this._blockTime+Date.now()-this._lastStopTime,this._lastStopTime=0),this._started=!0,this._lastTime=Date.now(),this._requestId=requestAnimationFrame(this._ticker))},e.prototype.pause=function(){this._started=!1,this._lastStopTime=Date.now()},e.prototype.active=function(){this._activeWithPause||this.start(),this._activeWithPause=!1},e.prototype.background=function(){this._started?this.pause():this._activeWithPause=!0},e.prototype.bindEvent=function(){},e}(),Nx=function(e){$t(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.gameObjects=[],i.scene=i,i}return t.prototype.addGameObject=function(n){this.gameObjects.push(n),n.transform&&(n.transform.inScene=!0)},t.prototype.removeGameObject=function(n){var r=this.gameObjects.indexOf(n);r!==-1&&(n.transform&&(n.transform.inScene=!1),this.gameObjects.splice(r,1))},t.prototype.destroy=function(){this.scene=null,e.prototype.destroy.call(this),this.gameObjects=null,this.canvas=null},t}(sa),ft;(function(e){e.SINGLE="SINGLE",e.MULTI_CANVAS="MULTI_CANVAS"})(ft||(ft={}));var Pf=function(e){if(!(!(e instanceof tr)&&!(e instanceof Ke))&&!e.started){try{e.start&&e.start()}catch(t){e instanceof Ke?console.error(e.constructor.componentName+" start error",t):console.error(e.constructor.systemName+" start error",t)}e.started=!0}},kx=function(e){var t,n,r,i=((r=e==null?void 0:e.scene)===null||r===void 0?void 0:r.gameObjects)||[],a=e==null?void 0:e.multiScenes.map(function(h){var c=h.gameObjects;return c}),o=[];try{for(var s=Q(a),u=s.next();!u.done;u=s.next()){var l=u.value;o=Dn(o,l)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return Dn(i,o)},qx=function(e,t){var n,r,i,a,o,s,u,l;t===void 0&&(t=[]);try{for(var h=Q(t),c=h.next();!c.done;c=h.next()){var v=c.value;try{for(var p=(i=void 0,Q(v.components)),d=p.next();!d.done;d=p.next()){var _=d.value;try{Pf(_),_.update&&_.update(e)}catch(w){console.error("gameObject: "+v.name+" "+_.name+" update error",w)}}}catch(w){i={error:w}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var m=Q(t),x=m.next();!x.done;x=m.next()){var v=x.value;try{for(var y=(u=void 0,Q(v.components)),b=y.next();!b.done;b=y.next()){var _=b.value;try{_.lateUpdate&&_.lateUpdate(e)}catch(P){console.error("gameObject: "+v.name+" "+_.name+" lateUpdate error",P)}}}catch(E){u={error:E}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}}}catch(w){o={error:w}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}},Ux=function(e){var t,n,r,i;try{for(var a=Q(e),o=a.next();!o.done;o=a.next()){var s=o.value;try{for(var u=(r=void 0,Q(s.components)),l=u.next();!l.done;l=u.next()){var h=l.value;try{h.onResume&&h.onResume()}catch(c){console.error("gameObject: "+s.name+", "+h.name+", onResume error",c)}}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},Gx=function(e){var t,n,r,i;try{for(var a=Q(e),o=a.next();!o.done;o=a.next()){var s=o.value;try{for(var u=(r=void 0,Q(s.components)),l=u.next();!l.done;l=u.next()){var h=l.value;try{h.onPause&&h.onPause()}catch(c){console.error("gameObject: "+s.name+", "+h.name+", onResume error",c)}}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},Rf=function(e){$t(t,e);function t(n){var r,i,a=n===void 0?{}:n,o=a.autoStart,s=o===void 0?!0:o,u=a.frameRate,l=u===void 0?120:u,h=a.systems,c=a.needScene,v=c===void 0?!0:c,p=e.call(this)||this;if(p.playing=!1,p.started=!1,p.multiScenes=[],p.systems=[],p.ticker=new Bx({autoStart:!1,frameRate:l}),p.initTicker(),h&&h.length)try{for(var d=Q(h),_=d.next();!_.done;_=d.next()){var m=_.value;p.addSystem(m)}}catch(x){r={error:x}}finally{try{_&&!_.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return v&&p.loadScene(new Nx("scene")),s&&p.start(),p}return Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},set:function(n){this._scene=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameObjects",{get:function(){return kx(this)},enumerable:!1,configurable:!0}),t.prototype.addSystem=function(n,r){var i;if(n instanceof Function)i=new n(r);else if(n instanceof tr)i=n;else{console.warn("can only add System");return}var a=this.systems.find(function(o){return o.constructor===i.constructor});if(a){console.warn(i.constructor.systemName+" System has been added");return}i.game=this,i.init&&i.init(i.__systemDefaultParams),Cx(i,i.constructor),Ox(i.constructor);try{i.awake&&i.awake()}catch(o){console.error(i.constructor.systemName+" awake error",o)}return this.systems.push(i),i},t.prototype.removeSystem=function(n){if(!!n){var r=-1;typeof n=="string"?r=this.systems.findIndex(function(i){return i.name===n}):n instanceof Function?r=this.systems.findIndex(function(i){return i.constructor===n}):n instanceof tr&&(r=this.systems.findIndex(function(i){return i===n})),r>-1&&(this.systems[r].destroy&&this.systems[r].destroy(),this.systems.splice(r,1))}},t.prototype.getSystem=function(n){return this.systems.find(function(r){return typeof n=="string"?r.name===n:r instanceof n})},t.prototype.pause=function(){this.playing!==!1&&(this.playing=!1,this.ticker.pause(),this.triggerPause())},t.prototype.start=function(){this.playing!==!0&&(this.ticker.start(),this.playing=!0,this.started=!0)},t.prototype.resume=function(){this.playing!==!0&&(this.ticker.start(),this.triggerResume(),this.playing=!0)},t.prototype.initTicker=function(){var n=this;this.ticker.add(function(r){var i,a,o,s;n.scene&&qx(r,n.gameObjects);try{for(var u=Q(n.systems),l=u.next();!l.done;l=u.next()){var h=l.value;try{Pf(h),h.update&&h.update(r)}catch(p){console.error(h.constructor.systemName+" update error",p)}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}try{for(var c=Q(n.systems),v=c.next();!v.done;v=c.next()){var h=v.value;try{h.lateUpdate&&h.lateUpdate(r)}catch(d){console.error(h.constructor.systemName+" lateUpdate error",d)}}}catch(p){o={error:p}}finally{try{v&&!v.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}})},t.prototype.triggerResume=function(){var n,r;Ux(this.gameObjects);try{for(var i=Q(this.systems),a=i.next();!a.done;a=i.next()){var o=a.value;try{o.onResume&&o.onResume()}catch(s){console.error(o.constructor.systemName+", onResume error",s)}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.triggerPause=function(){var n,r;Gx(this.gameObjects);try{for(var i=Q(this.systems),a=i.next();!a.done;a=i.next()){var o=a.value;try{o.onPause&&o.onPause()}catch(s){console.error(o.constructor.systemName+", onPause error",s)}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.destroySystems=function(){var n,r;try{for(var i=Q(Dn(this.systems)),a=i.next();!a.done;a=i.next()){var o=a.value;this.removeSystem(o)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.systems=[]},t.prototype.destroy=function(){this.removeAllListeners(),this.pause(),this.scene.destroy(),this.destroySystems(),this.ticker=null,this.scene=null,this.canvas=null,this.multiScenes=null},t.prototype.loadScene=function(n){var r=n.scene,i=n.mode,a=i===void 0?ft.SINGLE:i,o=n.params,s=o===void 0?{}:o;if(!!r){switch(a){case ft.SINGLE:this.scene=r;break;case ft.MULTI_CANVAS:this.multiScenes.push(r);break}this.emit("sceneChanged",{scene:r,mode:a,params:s})}},t}(wr.default);function Xx(e){return e===void 0&&(e={}),function(t){if(!t.observerInfo){for(var n in e)for(var r in e[n]){typeof e[n][r]=="string"&&(e[n][r]=[e[n][r]]);var i=void 0;Array.isArray(e[n][r])&&(i={prop:e[n][r],deep:!1},e[n][r]=i),i=e[n][r],typeof i.prop=="string"&&(i.prop=[i.prop])}t.observerInfo=e}}}var Wx=function(e){$t(t,e);function t(n){var r=n.resource,i=n.resourceTotal,a=e.call(this)||this;return a.progress=0,a.resourceTotal=0,a.resourceLoadedCount=0,a.resource=r,a.resourceTotal=i,i===0&&a.resource.emit(ct.COMPLETE,a),a}return t.prototype.onStart=function(){this.resource.emit(ct.START,this)},t.prototype.onProgress=function(n){this.resourceLoadedCount++,this.progress=Math.floor(this.resourceLoadedCount/this.resourceTotal*100)/100,n.success?this.resource.emit(ct.LOADED,this,n):this.resource.emit(ct.ERROR,this,n),this.resource.emit(ct.PROGRESS,this,n),this.resourceLoadedCount===this.resourceTotal&&this.resource.emit(ct.COMPLETE,this)},t}(wr.default),ct;(function(e){e.START="start",e.PROGRESS="progress",e.LOADED="loaded",e.COMPLETE="complete",e.ERROR="error"})(ct||(ct={}));var dt;(function(e){e.IMAGE="IMAGE",e.SPRITE="SPRITE",e.SPRITE_ANIMATION="SPRITE_ANIMATION",e.DRAGONBONE="DRAGONBONE",e.SPINE="SPINE",e.AUDIO="AUDIO",e.VIDEO="VIDEO"})(dt||(dt={}));Ee.setExtensionXhrType("json",B.Json);Ee.setExtensionXhrType("tex",B.Json);Ee.setExtensionXhrType("ske",B.Json);Ee.setExtensionXhrType("mp3",B.Buffer);Ee.setExtensionXhrType("wav",B.Buffer);Ee.setExtensionXhrType("aac",B.Buffer);Ee.setExtensionXhrType("ogg",B.Buffer);var Hx={png:ve,jpg:ve,jpeg:ve,webp:ve,json:Ee,tex:Ee,ske:Ee,audio:Ee,video:br},Vx=function(e){$t(t,e);function t(n){var r=e.call(this)||this;return r.timeout=6e3,r.resourcesMap={},r.makeInstanceFunctions={},r.destroyInstanceFunctions={},r.promiseMap={},r.loaders=[],n&&typeof n.timeout=="number"&&(r.timeout=n.timeout),r}return t.prototype.loadConfig=function(n){this.addResource(n),this.preload()},t.prototype.loadSingle=function(n){return this.addResource([n]),this.getResource(n.name)},t.prototype.addResource=function(n){var r,i;if(!n||n.length<1){console.warn("no resources");return}try{for(var a=Q(n),o=a.next();!o.done;o=a.next()){var s=o.value;if(this.resourcesMap[s.name]){console.warn(s.name+" was already added");continue}this.resourcesMap[s.name]=s,this.resourcesMap[s.name].data={}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.preload=function(){var n=Object.values(this.resourcesMap).filter(function(r){var i=r.preload;return i}).map(function(r){var i=r.name;return i});this.progress=new Wx({resource:this,resourceTotal:n.length}),this.loadResource({names:n,preload:!0})},t.prototype.getResource=function(n){return It(this,void 0,void 0,function(){return Dt(this,function(r){return this.loadResource({names:[n]}),[2,this.promiseMap[n]||Promise.resolve({})]})})},t.prototype.instance=function(n){return It(this,void 0,void 0,function(){var r,i;return Dt(this,function(a){switch(a.label){case 0:return r=this.resourcesMap[n],i=this.makeInstanceFunctions[r.type],i?[4,this.makeInstanceFunctions[r.type](r)]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return[2,i]}})})},t.prototype.destroy=function(n){return It(this,void 0,void 0,function(){return Dt(this,function(r){switch(r.label){case 0:return[4,this._destroy(n)];case 1:return r.sent(),[2]}})})},t.prototype._destroy=function(n,r){return r===void 0&&(r=!1),It(this,void 0,void 0,function(){var i,a;return Dt(this,function(o){switch(o.label){case 0:if(i=this.resourcesMap[n],!i)return[2];if(r)return[3,5];o.label=1;case 1:return o.trys.push([1,4,,5]),this.destroyInstanceFunctions[i.type]?[4,this.destroyInstanceFunctions[i.type](i)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:return a=o.sent(),console.warn("destroy resource "+i.name+" error with '"+a.message+"'"),[3,5];case 5:return delete this.promiseMap[n],i.complete=!1,i.instance=void 0,[2]}})})},t.prototype.registerInstance=function(n,r){this.makeInstanceFunctions[n]=r},t.prototype.registerDestroy=function(n,r){this.destroyInstanceFunctions[n]=r},t.prototype.loadResource=function(n){var r=this,i=n.names,a=i===void 0?[]:i,o=n.preload,s=o===void 0?!1:o,u=a.filter(function(c){return!r.promiseMap[c]&&r.resourcesMap[c]});if(!!u.length){var l={},h=this.getLoader(s);u.forEach(function(c){r.promiseMap[c]=new Promise(function(_){return l[c]=_});var v=r.resourcesMap[c];for(var p in v.src){var d=v.src[p].type;d==="data"?(v.data[p]=v.src[p].data,r.doComplete(c,l[c],s)):h.add({url:v.src[p].url,name:v.name+"_"+p,strategy:Hx[d],metadata:{key:p,name:v.name,resolves:l}})}}),h.load()}},t.prototype.doComplete=function(n,r,i){return i===void 0&&(i=!1),It(this,void 0,void 0,function(){var a,o,s,u;return Dt(this,function(l){switch(l.label){case 0:if(a=this.resourcesMap[n],o={name:n,resource:this.resourcesMap[n],success:!0},!this.checkAllLoaded(n))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=a,[4,this.instance(n)];case 2:return s.instance=l.sent(),a.complete=!0,i&&this.progress.onProgress(o),r(a),[3,4];case 3:return u=l.sent(),a.complete=!1,i&&(o.errMsg=u.message,o.success=!1,this.progress.onProgress(o)),r({}),[3,4];case 4:return[2]}})})},t.prototype.checkAllLoaded=function(n){var r=this.resourcesMap[n];return Array.from(Object.keys(r.src)).every(function(i){return r.data[i]})},t.prototype.getLoader=function(n){var r=this;n===void 0&&(n=!1);var i=this.loaders.find(function(a){var o=a.loading;return!o});return i||(i=new Sf,this.loaders.push(i)),n&&i.onStart.once(function(){r.progress.onStart()}),i.onLoad.add(function(a,o){r.onLoad({preload:n,resource:o})}),i.onError.add(function(a,o,s){r.onError({errMsg:a,resource:s,preload:n})}),i.onComplete.once(function(){i.onLoad.detachAll(),i.onError.detachAll(),i.reset()}),i},t.prototype.onLoad=function(n){var r=n.preload,i=r===void 0?!1:r,a=n.resource;return It(this,void 0,void 0,function(){var o,s,u,l,h,c;return Dt(this,function(v){return o=a.metadata,s=o.key,u=o.name,l=o.resolves,h=a.data,c=this.resourcesMap[u],c.data[s]=h,this.doComplete(u,l[u],i),[2]})})},t.prototype.onError=function(n){var r=n.errMsg,i=n.preload,a=i===void 0?!1:i,o=n.resource;return It(this,void 0,void 0,function(){var s,u,l,h;return Dt(this,function(c){return s=o.metadata,u=s.name,l=s.resolves,this._destroy(u,!0),l[u]({}),a&&(h={name:u,resource:this.resourcesMap[u],success:!1,errMsg:r},this.progress.onProgress(h)),[2]})})},t}(wr.default),Ft=new Vx,rr={IDEProp:ht,componentObserver:Xx};f();f();var j=Yt(Gi());var Wl=function(e,t){return Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Wl(e,t)};function fn(e,t){Wl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var M_=function(e){fn(t,e);function t(n){var r=this;return n.autoStart=!1,r=e.call(this,n)||this,r}return t}(j.Application),O_=function(e){fn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(j.Container),OX=function(e){fn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(j.Graphics),PX=function(e){fn(t,e);function t(n,r,i,a,o){var s=this,u;return n==="string"?u=j.Texture.fromFrame(n):u=j.Texture.from(n),s=e.call(this,u,r,i,a,o)||this,s}return t}(j.mesh.NineSlicePlane),P_=function(){function e(t){this._image=null,this._image=t,t?t instanceof HTMLImageElement?this.sprite=j.Sprite.from(t):t instanceof j.Texture&&(this.sprite=new j.Sprite(t)):this.sprite=new j.Sprite}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(t){this._image!==t&&(t instanceof HTMLImageElement?(this.sprite.texture&&this.sprite.texture.destroy(!1),this.sprite.texture=j.Texture.from(t)):t instanceof j.Texture&&(this.sprite.texture=t),this._image=t)},enumerable:!1,configurable:!0}),e}(),RX=function(){function e(t){var n=t.frames;this.animatedSprite=new j.extras.AnimatedSprite(n)}return e.prototype.play=function(){this.animatedSprite.play()},e.prototype.stop=function(){this.animatedSprite.stop()},Object.defineProperty(e.prototype,"speed",{get:function(){return this.animatedSprite.animationSpeed},set:function(t){this.animatedSprite.animationSpeed=t},enumerable:!1,configurable:!0}),e}(),AX=function(e){fn(t,e);function t(n,r){return e.call(this,n,r)||this}return t}(j.Text),Hl=j.extras.TilingSprite,CX=function(){function e(t){this._image=null,this._image=t,t?t instanceof HTMLImageElement?this.tilingSprite=new Hl(j.Texture.from(t)):t instanceof j.Texture&&(this.tilingSprite=new Hl(t)):this.tilingSprite=new Hl(j.Texture.EMPTY)}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(t){this._image!==t&&(t instanceof HTMLImageElement?this.tilingSprite.texture=j.Texture.from(t):t instanceof j.Texture&&(this.tilingSprite.texture=t),this._image=t)},enumerable:!1,configurable:!0}),e}();var R_=Yt(Vi()),Vl=Yt(Gi());var Yl=function(e,t){return Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Yl(e,t)};function zl(e,t){Yl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jl=function(){return jl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},jl.apply(this,arguments)};function A_(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function ke(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function iN(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function aN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(iN(arguments[t]));return e}var oN=function(){function e(t){var n=t.game,r=t.rendererSystem;this.renderers=[],this.game=n,this.rendererSystem=r}return e.prototype.register=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var a=ke(r),o=a.next();!o.done;o=a.next()){var s=o.value;s.game=this.game,s.rendererManager=this.rendererSystem.rendererManager,s.containerManager=this.rendererSystem.containerManager,this.renderers.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.componentChanged=function(t){var n,r,i=function(l){var h,c;try{for(var v=(h=void 0,ke(a.renderers)),p=v.next();!p.done;p=v.next()){var d=p.value,_=d.observerInfo[l.componentName];if(_){if([_e.ADD,_e.REMOVE].indexOf(l.type)>-1){try{d.componentChanged&&d.componentChanged(l)}catch(x){console.error("gameObject: "+l.gameObject.name+", "+l.componentName+" is error.",l,x)}continue}var m=_.findIndex(function(x){return Qt(x,l.prop)});if(m>-1)try{d.componentChanged&&d.componentChanged(l)}catch(x){console.error("gameObject: "+(l.gameObject&&l.gameObject.name)+", "+l.componentName+" is componentChanged error.",l,x)}}}}catch(x){h={error:x}}finally{try{p&&!p.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}},a=this;try{for(var o=ke(t),s=o.next();!s.done;s=o.next()){var u=s.value;i(u)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.update=function(t){var n,r,i,a;try{for(var o=ke(t.components),s=o.next();!s.done;s=o.next()){var u=s.value;try{for(var l=(i=void 0,ke(this.renderers)),h=l.next();!h.done;h=l.next()){var c=h.value,v=[],p=c.observerInfo[u.name];if(p&&v.indexOf(t)===-1){v.push(t);try{c.rendererUpdate&&c.rendererUpdate(t)}catch(d){console.info("gameObject: "+t.name+", "+u.name+" is update error",d)}}}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e}(),sN=function(){function e(){this.containerMap={}}return e.prototype.addContainer=function(t){var n=t.name,r=t.container;this.containerMap[n]=r},e.prototype.getContainer=function(t){return this.containerMap[t]},e.prototype.removeContainer=function(t){delete this.containerMap[t]},e.prototype.updateTransform=function(t){var n=t.name,r=t.transform,i=this.containerMap[n];if(!!i){var a=r.anchor,o=r.origin,s=r.position,u=r.rotation,l=r.scale,h=r.size,c=r.skew;i.rotation=u,i.scale=l,i.pivot.x=h.width*o.x,i.pivot.y=h.height*o.y,i.skew=c;var v=s.x,p=s.y;if(r.parent){var d=r.parent;v=v+d.size.width*a.x,p=p+d.size.height*a.y}i.position={x:v,y:p}}},e}(),uN=function(e){zl(t,e);function t(n){var r=n.system,i=n.containerManager,a=e.call(this)||this;return a.name="Transform",a.waitRemoveIds=[],a.waitChangeScenes=[],a.containerManager=i,a.init(r),a}return t.prototype.init=function(n){var r=this;this.system=n,this.on("changeScene",function(i){var a=i.scene,o=i.mode,s=i.application;r.waitChangeScenes.push({scene:a,mode:o,application:s})})},t.prototype.update=function(){var n,r,i,a;try{for(var o=ke(this.waitRemoveIds),s=o.next();!s.done;s=o.next()){var u=s.value;this.containerManager.removeContainer(u)}}catch(p){n={error:p}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.waitRemoveIds=[];try{for(var l=ke(this.waitChangeScenes),h=l.next();!h.done;h=l.next()){var c=h.value,v=this.containerManager.getContainer(c.scene.id);v&&(c.application.stage.removeChildren(),c.application.stage.addChild(v))}}catch(p){i={error:p}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}this.waitChangeScenes=[]},t.prototype.componentChanged=function(n){n.type===_e.ADD?this.addContainer(n):n.type===_e.CHANGE?this.change(n):n.type===_e.REMOVE&&this.waitRemoveIds.push(n.gameObject.id)},t.prototype.addContainer=function(n){var r=new O_;r.name=n.gameObject.name,this.containerManager.addContainer({name:n.gameObject.id,container:r});var i=n.component;i.worldTransform=r.transform.worldTransform},t.prototype.change=function(n){var r=n.component;if(r.parent){var i=this.containerManager.getContainer(r.parent.gameObject.id);i.addChild(this.containerManager.getContainer(n.gameObject.id));var a=n.gameObject.transform.parent&&n.gameObject.transform.parent.gameObject.getComponent("Render");a&&(a.sortDirty=!0)}else{var o=this.containerManager.getContainer(n.gameObject.id);o.parent&&o.parent.removeChild(o)}},t.prototype.destroy=function(){this.removeAllListeners(),this.waitRemoveIds=null,this.waitChangeScenes=null,this.system=null,this.containerManager=null},t=A_([rr.componentObserver({Transform:["_parent"]})],t),t}(R_.default),Kl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Kl||(Kl={}));var Xi=function(e){zl(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.multiApps=[],n}return t.prototype.init=function(n){var r=this;this.params=n,this.application=this.createApplication(n),this.containerManager=new sN,this.rendererManager=new oN({game:this.game,rendererSystem:this}),this.game.canvas=this.application.view,this.transform=new uN({system:this,containerManager:this.containerManager}),this.game.on("sceneChanged",function(i){var a=i.scene,o=i.mode,s=i.params,u;switch(o){case ft.SINGLE:u=r.application;break;case ft.MULTI_CANVAS:u=r.createMultiApplication({params:s});break}a.canvas=u.view,r.transform.emit("changeScene",{scene:a,mode:o,application:u})})},t.prototype.registerObserver=function(n){var r,i=this.constructor.observerInfo;for(var a in n)i[a]||(i[a]=[]),(r=i[a]).push.apply(r,aN(n[a]))},t.prototype.createMultiApplication=function(n){var r=n.params,i=this.createApplication(r);return this.multiApps.push(i),i},t.prototype.createApplication=function(n){n.view=n.canvas,n.renderType===Kl.CANVAS&&(n.forceCanvas=!0),Vl.ticker.shared.autoStart=!1,Vl.ticker.shared.stop();var r=new M_(jl({sharedTicker:!0},n));return n.preventScroll!==!1&&(r.renderer.plugins.interaction.autoPreventDefault=!1,r.renderer.view.style.touchAction="auto"),r},t.prototype.update=function(n){var r,i,a,o,s=this.componentObserver.clear();try{for(var u=ke(s),l=u.next();!l.done;l=u.next()){var h=l.value;this.transform.componentChanged(h)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var c=ke(this.game.gameObjects),v=c.next();!v.done;v=c.next()){var p=v.value;this.containerManager.updateTransform({name:p.id,transform:p.transform}),this.rendererManager.update(p)}}catch(d){a={error:d}}finally{try{v&&!v.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}this.application.ticker.update(n.time)},t.prototype.lateUpdate=function(){this.transform.update()},t.prototype.onDestroy=function(){var n,r;this.application.destroy();try{for(var i=ke(this.multiApps),a=i.next();!a.done;a=i.next()){var o=a.value;o&&o.destroy()}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.transform.destroy(),this.transform=null,this.params=null,this.rendererManager=null,this.containerManager=null,this.application=null,this.game=null,this.multiApps=null},t.systemName="Renderer",t=A_([rr.componentObserver({Transform:["_parent"]})],t),t}(tr),C_=function(e){zl(t,e);function t(){var n=e.call(this)||this;return n.observerInfo=n.constructor.observerInfo,n}return t.prototype.update=function(){var n,r,i=this.componentObserver.clear();try{for(var a=ke(i),o=a.next();!o.done;o=a.next()){var s=o.value;this.componentChanged(s)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t}(tr);f();var I_=Yt(Gi());var Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Zl(e,t)};function D_(e,t){Zl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function L_(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function lN(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(l){try{u(r.next(l))}catch(h){a(h)}}function s(l){try{u(r.throw(l))}catch(h){a(h)}}function u(l){l.done?i(l.value):new n(function(h){h(l.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})}function hN(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(h){return u([l,h])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(h){l=[6,h],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var F_=function(e){D_(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.resource="",n}return t.prototype.init=function(n){n&&n.resource&&(this.resource=n.resource)},t.componentName="Img",L_([rr.IDEProp],t.prototype,"resource",void 0),t}(Ke);Ft.registerInstance(dt.IMAGE,function(e){var t=e.data,n=t===void 0?{}:t,r=n.image;if(r){var i=I_.Texture.from(r);return i}});Ft.registerDestroy(dt.IMAGE,function(e){var t=e.instance;t&&t.destroy(!0)});var B_=function(e){D_(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.name="Img",n.imgs={},n}return t.prototype.init=function(){this.renderSystem=this.game.getSystem(Xi),this.renderSystem.rendererManager.register(this)},t.prototype.rendererUpdate=function(n){var r=n.transform.size,i=r.width,a=r.height;this.imgs[n.id]&&(this.imgs[n.id].sprite.width=i,this.imgs[n.id].sprite.height=a)},t.prototype.componentChanged=function(n){return lN(this,void 0,void 0,function(){var r,i,a,o;return hN(this,function(s){switch(s.label){case 0:return n.componentName!=="Img"?[3,4]:(r=n.component,n.type!==_e.ADD?[3,1]:(i=new P_(null),Ft.getResource(r.resource).then(function(u){var l=u.instance;l||console.error("GameObject:"+n.gameObject.name+"'s Img resource load error"),i.image=l}),this.imgs[n.gameObject.id]=i,this.containerManager.getContainer(n.gameObject.id).addChildAt(i.sprite,0),[3,4]));case 1:return n.type!==_e.CHANGE?[3,3]:[4,Ft.getResource(r.resource)];case 2:return a=s.sent().instance,a||console.error("GameObject:"+n.gameObject.name+"'s Img resource load error"),this.imgs[n.gameObject.id].image=a,[3,4];case 3:n.type===_e.REMOVE&&(o=this.imgs[n.gameObject.id],this.containerManager.getContainer(n.gameObject.id).removeChild(o.sprite),delete this.imgs[n.gameObject.id]),s.label=4;case 4:return[2]}})})},t.systemName="Img",t=L_([rr.componentObserver({Img:[{prop:["resource"],deep:!1}]})],t),t}(C_);Ft.addResource([{name:"image1",type:dt,src:{image:{type:"png",url:"https://gw.alicdn.com/tfs/TB1DNzoOvb2gK0jSZK9XXaEgFXa-658-1152.webp"}},preload:!0},{name:"image2",type:dt,src:{image:{type:"png",url:"https://gw.alicdn.com/tfs/TB15Upxqk9l0K4jSZFKXXXFjpXa-750-1624.jpg"}},preload:!0}]);var fN=new Xi({canvas:document.querySelector("#canvas"),width:750,height:1e3,transparent:!1,resolution:Window.devicePixelRatio/2,preventScroll:!1,renderType:0}),N_=new Rf({frameRate:40,autoStart:!0,systems:[fN]});N_.addSystem(new B_);var k_=new sa("gameObj1",{size:{width:658,height:1152}}),cN=new F_({resource:"image1"});k_.addComponent(cN);N_.scene.addChild(k_);})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * resource-loader - v4.0.0-rc4
 * https://github.com/englercj/resource-loader
 * Compiled Sun, 08 Mar 2020 16:55:29 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
/*!
 * type-signals - v1.1.0
 * https://github.com/englercj/type-signals
 * Compiled Wed, 22 Apr 2020 17:58:58 UTC
 *
 * type-signals is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
